(()=>{var e={};e.id=6235,e.ids=[6235],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},8086:e=>{"use strict";e.exports=require("module")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},41204:e=>{"use strict";e.exports=require("string_decoder")},34631:e=>{"use strict";e.exports=require("tls")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},78474:e=>{"use strict";e.exports=require("node:events")},73024:e=>{"use strict";e.exports=require("node:fs")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},77030:e=>{"use strict";e.exports=require("node:net")},48161:e=>{"use strict";e.exports=require("node:os")},76760:e=>{"use strict";e.exports=require("node:path")},57075:e=>{"use strict";e.exports=require("node:stream")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},38522:e=>{"use strict";e.exports=require("node:zlib")},63383:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(70260),o=r(28203),a=r(25155),l=r.n(a),i=r(67292),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let d=["",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,52033)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\gallery\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,43514)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\gallery\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,72627)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,84717)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,61129)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\gallery\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/gallery/page",pathname:"/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},95440:(e,t,r)=>{Promise.resolve().then(r.bind(r,37075))},53584:(e,t,r)=>{Promise.resolve().then(r.bind(r,78031))},80703:(e,t,r)=>{Promise.resolve().then(r.bind(r,52033))},40951:(e,t,r)=>{Promise.resolve().then(r.bind(r,90541))},78031:(e,t,r)=>{"use strict";r.d(t,{default:()=>v});var s=r(45512),o=r(58009),a=r(28531),l=r.n(a),i=r(13289),n=r(21652),d=r(63205),c=r(92411),u=r(32848),p=r(44269),h=r(76438),x=r(45103),m=r(18892);let b=(0,i.default)(async()=>{},{loadableGenerated:{modules:["app\\components\\Nav.tsx -> ./AuthNavControls"]},ssr:!1}),f=(0,i.default)(async()=>{},{loadableGenerated:{modules:["app\\components\\Nav.tsx -> ./ExtraLinks"]},ssr:!1}),g=(0,i.default)(async()=>{},{loadableGenerated:{modules:["app\\components\\Nav.tsx -> ./NotificationBell"]},ssr:!1});function v(){let[e,t]=(0,o.useState)(!1),[r,a]=(0,o.useState)(!1),{theme:i,toggleTheme:v}=(0,m.D)(),y=[{href:"/",label:"Home"},{href:"/collection",label:"Collection"},{href:"/sound",label:"Sound"},{href:"/gallery",label:"Gallery"}];return(0,s.jsxs)(n.P.nav,{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${e?"glass-dark shadow-lg":"bg-transparent"}`,initial:{y:-100},animate:{y:0},transition:{duration:.5},children:[(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16 md:h-20",children:[(0,s.jsxs)(l(),{href:"/",className:"flex items-center gap-3 group",children:[(0,s.jsx)("div",{className:"relative w-8 h-8 md:w-10 md:h-10",children:(0,s.jsx)(x.default,{src:"/apechain.png",alt:"Apechain Logo",fill:!0,className:"object-contain transition-transform duration-300 group-hover:scale-110"})}),(0,s.jsx)("span",{className:"text-lg md:text-xl font-bold text-hero-blue",children:"Apes On Ape"})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[y.map(e=>(0,s.jsx)(l(),{href:e.href,className:"transition-colors duration-300 font-medium hover:text-hero-blue",style:{color:"var(--foreground)"},children:e.label},e.href)),(0,s.jsx)(f,{}),(0,s.jsx)(g,{}),(0,s.jsx)("button",{onClick:v,className:"p-2 rounded-lg bg-hero-blue/10 hover:bg-hero-blue/20 transition-colors","aria-label":"Toggle theme",children:"dark"===i?(0,s.jsx)(c.A,{className:"w-5 h-5 text-ape-gold"}):(0,s.jsx)(u.A,{className:"w-5 h-5 text-hero-blue"})}),(0,s.jsx)(b,{})]}),(0,s.jsxs)("div",{className:"md:hidden flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:v,className:"p-2 rounded-lg bg-hero-blue/10 hover:bg-hero-blue/20 transition-colors","aria-label":"Toggle theme",children:"dark"===i?(0,s.jsx)(c.A,{className:"w-5 h-5 text-ape-gold"}):(0,s.jsx)(u.A,{className:"w-5 h-5 text-hero-blue"})}),(0,s.jsx)("button",{onClick:()=>a(!r),className:"p-2 transition-colors",style:{color:"var(--foreground)"},"aria-label":"Toggle menu",children:r?(0,s.jsx)(p.A,{size:24}):(0,s.jsx)(h.A,{size:24})})]})]})}),(0,s.jsx)(d.N,{children:r&&(0,s.jsx)(n.P.div,{className:"md:hidden glass-dark border-t border-white/10",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,s.jsxs)("div",{className:"px-4 py-6 space-y-4",children:[y.map(e=>(0,s.jsx)(l(),{href:e.href,className:"block transition-colors duration-300 font-medium py-2 hover:text-hero-blue",style:{color:"var(--foreground)"},onClick:()=>a(!1),children:e.label},e.href)),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(f,{}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(b,{})})]})]})})})]})}},65462:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(45512),o=r(45103);function a({src:e,alt:t,className:r,width:a=800,height:l=800,fill:i=!1,sizes:n="100vw",unoptimized:d=!0,priority:c=!1}){let u=e||"/placeholder.png";return i?(0,s.jsx)(o.default,{src:u,alt:t,fill:!0,sizes:n,unoptimized:d,className:r,priority:c}):(0,s.jsx)(o.default,{src:u,alt:t,width:a,height:l,sizes:n,unoptimized:d,className:r,priority:c})}r(58009)},90541:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(45512),o=r(58009),a=r(28531),l=r.n(a),i=r(13289),n=r(79334);let d=(0,r(41680).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var c=r(41737),u=r(65462),p=r(42784);let h=(0,i.default)(async()=>{},{loadableGenerated:{modules:["app\\gallery\\page.tsx -> ../components/GallerySubmitControl"]},ssr:!1});function x(){let e=(0,n.useSearchParams)();(0,n.useRouter)();let t=(0,p.j)(),r=t?.user?.id||"",a=e.get("category")||"all",[i,x]=(0,o.useState)([]),[m,b]=(0,o.useState)(new Set),[f,g]=(0,o.useState)({}),[v,y]=(0,o.useState)(!0),[j,w]=(0,o.useState)(null),[N,k]=(0,o.useState)(a),[C,q]=(0,o.useState)("top"),P=async e=>{if(m.has(e))return;let t=i.find(t=>t.id===e)?.votes_count??0;try{let s=await fetch("/api/gallery/vote/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({submission_id:e,likerId:r||void 0})});if(!s.ok)return;let o=null;try{let e=await s.json();if(e&&"object"==typeof e&&null!==e&&"count"in e){let t=e.count;"number"==typeof t&&(o=t)}}catch{}x(t=>t.map(t=>{if(t.id!==e)return t;let r=null!==o?o:(t.votes_count||0)+1;return{...t,votes_count:r}})),b(t=>{let r=new Set(t);r.add(e);try{localStorage.setItem("gallery_voted_ids",JSON.stringify(Array.from(r)))}catch{}return r}),g(r=>{let s={...r};void 0===s[e]&&(s[e]=t);try{localStorage.setItem("gallery_vote_snapshot",JSON.stringify(s))}catch{}return s})}catch{}},_=e=>{let t=`/gallery/${e.id}`,r=`Community art: ${e.title||"Check this out!"} #ApesOnApe`,s=`https://twitter.com/intent/tweet?text=${encodeURIComponent(r)}&url=${encodeURIComponent(t)}&hashtags=ApesOnApe`;window.open(s,"_blank","noopener,noreferrer")};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-semibold",style:{color:"var(--foreground)"},children:"Community Gallery"}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-2 ml-2",children:[(0,s.jsx)("button",{className:`px-3 py-1.5 rounded-full text-sm border ${"all"===N?"bg-hero-blue/20 border-hero-blue/40 text-hero-blue":"border-white/15 text-off-white/80"}`,onClick:()=>k("all"),children:"All"}),(0,s.jsx)("button",{className:`px-3 py-1.5 rounded-full text-sm border ${"fan_art"===N?"bg-hero-blue/20 border-hero-blue/40 text-hero-blue":"border-white/15 text-off-white/80"}`,onClick:()=>k("fan_art"),children:"Fan Art"}),(0,s.jsx)("button",{className:`px-3 py-1.5 rounded-full text-sm border ${"spotlight"===N?"bg-hero-blue/20 border-hero-blue/40 text-hero-blue":"border-white/15 text-off-white/80"}`,onClick:()=>k("spotlight"),children:"Spotlight"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("select",{value:C,onChange:e=>q(e.target.value),className:"rounded-md bg-black/40 border border-white/10 p-2 text-sm",children:[(0,s.jsx)("option",{value:"top",children:"Top (votes)"}),(0,s.jsx)("option",{value:"new",children:"New"})]}),(0,s.jsx)(h,{variant:"header"})]})]}),(0,s.jsxs)("div",{className:"flex md:hidden items-center gap-2 mb-4",children:[(0,s.jsx)("button",{className:`px-3 py-1.5 rounded-full text-sm border ${"all"===N?"bg-hero-blue/20 border-hero-blue/40 text-hero-blue":"border-white/15 text-off-white/80"}`,onClick:()=>k("all"),children:"All"}),(0,s.jsx)("button",{className:`px-3 py-1.5 rounded-full text-sm border ${"fan_art"===N?"bg-hero-blue/20 border-hero-blue/40 text-hero-blue":"border-white/15 text-off-white/80"}`,onClick:()=>k("fan_art"),children:"Fan Art"}),(0,s.jsx)("button",{className:`px-3 py-1.5 rounded-full text-sm border ${"spotlight"===N?"bg-hero-blue/20 border-hero-blue/40 text-hero-blue":"border-white/15 text-off-white/80"}`,onClick:()=>k("spotlight"),children:"Spotlight"})]}),v&&(0,s.jsx)("p",{className:"text-off-white/80",children:"Loading..."}),j&&(0,s.jsx)("p",{className:"text-red-400",children:j}),!v&&!j&&0===i.length&&(0,s.jsxs)("div",{className:"rounded-xl border border-white/10 bg-black/30 p-6 text-off-white/80",children:["No submissions yet. Be the first to ",(0,s.jsx)(h,{variant:"empty"}),"."]}),!v&&!j&&i.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-5",children:i.map(e=>{let t=function(e){if(!e)return!1;let t=e.toLowerCase();return t.endsWith(".mp4")||t.endsWith(".webm")||t.endsWith(".mov")||t.endsWith(".m4v")}(e.image_url||void 0);return(0,s.jsxs)("div",{className:"group rounded-xl border border-white/20 bg-black/50 hover:bg-black/60 transition-colors overflow-hidden flex flex-col shadow-xl shadow-black/40",children:[(0,s.jsxs)(l(),{href:`/gallery/${e.id}`,className:"block relative",children:[(0,s.jsx)("div",{className:"aspect-[4/3] w-full overflow-hidden",children:t?(0,s.jsx)("video",{className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"metadata",children:(0,s.jsx)("source",{src:e.image_url||""})}):e.image_url?(0,s.jsx)(u.default,{src:e.image_url||"",alt:e.title,className:"w-full h-full object-cover",fill:!0}):(0,s.jsx)("div",{className:"w-full h-full bg-white/5 flex items-center justify-center text-off-white/60",children:"No media"})}),(0,s.jsxs)("div",{className:"absolute inset-x-0 bottom-0 p-3 bg-gradient-to-t from-black/70 to-transparent",children:[(0,s.jsx)("div",{className:"text-sm text-off-white/80",children:e.author||"Anonymous"}),(0,s.jsx)("div",{className:"font-semibold",style:{color:"var(--foreground)"},children:e.title})]})]}),(0,s.jsxs)("div",{className:"p-3 flex items-center gap-2 mt-auto flex-wrap",children:[(0,s.jsxs)("button",{onClick:()=>P(e.id),disabled:m.has(e.id),className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 transition-all duration-200 active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed
											${m.has(e.id)?"border-rose-400/60 bg-rose-500/10 text-rose-300":"border-hero-blue/40 hover:border-hero-blue hover:bg-hero-blue/10"}`,"aria-pressed":m.has(e.id),children:[(0,s.jsx)(d,{className:`w-4 h-4 ${m.has(e.id)?"fill-rose-400 text-rose-400":"text-hero-blue"}`}),(0,s.jsx)("span",{children:m.has(e.id)?"Liked":"Like"}),(0,s.jsxs)("span",{className:"opacity-80",children:["(",e.votes_count??0,")"]})]}),(0,s.jsxs)("button",{onClick:()=>_(e),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-hero-blue/40 hover:border-hero-blue hover:bg-hero-blue/10 transition-colors",children:[(0,s.jsx)(c.A,{className:"w-4 h-4 text-hero-blue"}),(0,s.jsx)("span",{children:"Share"})]})]})]},e.id)})})]})}},41737:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},79334:(e,t,r)=>{"use strict";var s=r(58686);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},37075:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sebas\\\\Documents\\\\Git Projects\\\\apesonape-web\\\\app\\\\components\\\\Nav.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\components\\Nav.tsx","default")},43514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(62740);r(76301);var o=r(37075);function a({children:e}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{}),(0,s.jsx)("div",{className:"pt-24",children:e})]})}},52033:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sebas\\\\Documents\\\\Git Projects\\\\apesonape-web\\\\app\\\\gallery\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\gallery\\page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,8895,7047,3814,8761,5503],()=>r(63383));module.exports=s})();