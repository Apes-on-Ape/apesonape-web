(()=>{var e={};e.id=6636,e.ids=[6636],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},8086:e=>{"use strict";e.exports=require("module")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},41204:e=>{"use strict";e.exports=require("string_decoder")},34631:e=>{"use strict";e.exports=require("tls")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},78474:e=>{"use strict";e.exports=require("node:events")},73024:e=>{"use strict";e.exports=require("node:fs")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},77030:e=>{"use strict";e.exports=require("node:net")},48161:e=>{"use strict";e.exports=require("node:os")},76760:e=>{"use strict";e.exports=require("node:path")},57075:e=>{"use strict";e.exports=require("node:stream")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},38522:e=>{"use strict";e.exports=require("node:zlib")},86355:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>d,tree:()=>u});var s=r(70260),i=r(28203),o=r(25155),n=r.n(o),a=r(67292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let u=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,21762)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\profile\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,72627)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,84717)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,61129)),"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\profile\\page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},d=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},3010:(e,t,r)=>{Promise.resolve().then(r.bind(r,21762))},21162:(e,t,r)=>{Promise.resolve().then(r.bind(r,45302))},65462:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(45512),i=r(45103);function o({src:e,alt:t,className:r,width:o=800,height:n=800,fill:a=!1,sizes:l="100vw",unoptimized:u=!0,priority:p=!1}){let c=e||"/placeholder.png";return a?(0,s.jsx)(i.default,{src:c,alt:t,fill:!0,sizes:l,unoptimized:u,className:r,priority:p}):(0,s.jsx)(i.default,{src:c,alt:t,width:o,height:n,sizes:l,unoptimized:u,className:r,priority:p})}r(58009)},45302:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,dynamic:()=>p});var s=r(45512),i=r(58009),o=r(78031),n=r(38811),a=r(64179),l=r(42784),u=r(65462);let p="force-dynamic";function c(){let{user:e,linkTwitter:t}=(0,a.u)(),r=(0,l.j)(),p=(0,i.useMemo)(()=>e?.twitter||null,[e]),c=p?.name||"",d=p?.username||"",x=p?.profilePictureUrl||null,[m,f]=(0,i.useState)(null),[h,b]=(0,i.useState)(null),v=e=>{if(!e)return;let t=new FileReader;t.onload=()=>{b(String(t.result||""))},t.readAsDataURL(e)},g=async()=>{try{let t=document.getElementById("avatar-file-input"),r=t?.files?.[0];if(!r||!e?.id)return;let s=new FormData;s.append("file",r),s.append("userId",String(e.id));let i=await fetch("/api/profile/avatar",{method:"POST",body:s});if(!i.ok)return;let o=await i.json(),n=o?.url;if(n){f(n),b(null);try{localStorage.setItem("user_custom_avatar",n)}catch{}}}catch{}};return(0,s.jsxs)("div",{className:"min-h-screen relative",children:[(0,s.jsx)(o.default,{}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-28 pb-16",children:[(0,s.jsx)("div",{className:"glass-dark rounded-xl p-6 border border-white/10 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[(0,s.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border-2 border-hero-blue/50 bg-black/40 flex items-center justify-center relative",children:h||m||x?(0,s.jsx)(u.default,{src:h||m||x||"",alt:"Avatar",className:"w-full h-full object-cover",width:256,height:256}):(0,s.jsx)("div",{className:"text-xs text-off-white/60 text-center p-2",children:"No avatar"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("label",{className:"btn-secondary cursor-pointer text-xs px-2 py-1",children:["Change",(0,s.jsx)("input",{id:"avatar-file-input",type:"file",accept:"image/*",className:"hidden",onChange:e=>v(e.target.files?.[0]||null)})]}),(0,s.jsx)("button",{className:"btn-primary px-2 py-1 text-xs",onClick:g,disabled:!h||!e?.id,children:"Save"})]}),c&&(0,s.jsx)("div",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:c}),d&&(0,s.jsxs)("div",{className:"text-lg text-off-white/80",children:["@",d]}),(0,s.jsx)("div",{className:"mt-2",children:p?(0,s.jsx)("span",{className:"inline-flex items-center px-3 py-1.5 text-sm rounded-md bg-green-600/20 text-green-400 border border-green-500/30",children:"âœ“ X Account Linked"}):(0,s.jsx)("button",{className:"btn-secondary px-3 py-1.5 text-sm",onClick:async()=>{try{await t?.()}catch{}},children:"\uD83D\uDC26 Link X account"})})]})}),(0,s.jsx)("div",{className:"flex justify-center mt-8",children:(0,s.jsx)("button",{className:"btn-secondary px-4 py-2 text-sm",onClick:()=>{r.logout?.()},children:"Sign out"})})]}),(0,s.jsx)(n.A,{})]})}},21762:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>i});var s=r(46760);let i=(0,s.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\profile\\page.tsx","dynamic"),o=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sebas\\\\Documents\\\\Git Projects\\\\apesonape-web\\\\app\\\\profile\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sebas\\Documents\\Git Projects\\apesonape-web\\app\\profile\\page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,8895,7047,3814,8761,639,5503,2861],()=>r(86355));module.exports=s})();