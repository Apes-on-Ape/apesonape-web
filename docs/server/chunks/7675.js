"use strict";exports.id=7675,exports.ids=[7675],exports.modules={67675:(e,r,t)=>{t.r(r),t.d(r,{TurnstileWrapper:()=>w,default:()=>w});var n,o=t(45512),i=t(58009),c=(0,i.forwardRef)(({as:e="div",...r},t)=>(0,o.jsx)(e,{...r,ref:t})),a="cf-turnstile-script",s="onloadTurnstileCallback",u=e=>!!document.getElementById(e),l=({render:e="explicit",onLoadCallbackName:r=s,scriptOptions:{nonce:t="",defer:n=!0,async:o=!0,id:i="",appendTo:c,onError:l,crossOrigin:d=""}={}})=>{let p=i||a;if(u(p))return;let f=document.createElement("script");f.id=p,f.src=`https://challenges.cloudflare.com/turnstile/v0/api.js?onload=${r}&render=${e}`,document.querySelector(`script[src="${f.src}"]`)||(f.defer=!!n,f.async=!!o,t&&(f.nonce=t),d&&(f.crossOrigin=d),l&&(f.onerror=l,delete window[r]),("body"===c?document.body:document.getElementsByTagName("head")[0]).appendChild(f))},d={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}},p="unloaded",f=new Promise((e,r)=>{n={resolve:e,reject:r},"ready"===p&&e(void 0)}),x=(e=s)=>("unloaded"===p&&(p="loading",window[e]=()=>{n.resolve(),p="ready",delete window[e]}),f),m=(0,i.forwardRef)((e,r)=>{let{scriptOptions:t,options:n={},siteKey:u,onWidgetLoad:f,onSuccess:m,onExpire:w,onError:h,onBeforeInteractive:y,onAfterInteractive:b,onUnsupported:E,onTimeout:v,onLoadScript:g,id:T,style:k,as:I="div",injectScript:S=!0,rerenderOnCallbackChange:C=!1,...R}=e,O=n.size,N=(0,i.useCallback)(()=>typeof O>"u"?{}:"execute"===n.execution?d.invisible:"interaction-only"===n.appearance?d.interactionOnly:d[O],[n.execution,O,n.appearance]),[B,F]=(0,i.useState)(N()),j=(0,i.useRef)(null),[U,L]=(0,i.useState)(!1),A=(0,i.useRef)(),P=(0,i.useRef)(!1),$=T||"cf-turnstile",z=(0,i.useRef)({onSuccess:m,onError:h,onExpire:w,onBeforeInteractive:y,onAfterInteractive:b,onUnsupported:E,onTimeout:v});(0,i.useEffect)(()=>{C||(z.current={onSuccess:m,onError:h,onExpire:w,onBeforeInteractive:y,onAfterInteractive:b,onUnsupported:E,onTimeout:v})});let D=t?.id||a,K=function(e=a){let[r,t]=(0,i.useState)(!1);return r}(D),W=t?.onLoadCallbackName||s,_=n.appearance||"always",q=(0,i.useMemo)(()=>({sitekey:u,action:n.action,cData:n.cData,theme:n.theme||"auto",language:n.language||"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:function(e){if("invisible"!==e&&"interactionOnly"!==e)return e}(O),retry:n.retry||"auto","retry-interval":n.retryInterval||8e3,"refresh-expired":n.refreshExpired||"auto","refresh-timeout":n.refreshTimeout||"auto",execution:n.execution||"render",appearance:n.appearance||"always","feedback-enabled":n.feedbackEnabled||!0,callback:e=>{P.current=!0,C?m?.(e):z.current.onSuccess?.(e)},"error-callback":C?h:(...e)=>z.current.onError?.(...e),"expired-callback":C?w:(...e)=>z.current.onExpire?.(...e),"before-interactive-callback":C?y:(...e)=>z.current.onBeforeInteractive?.(...e),"after-interactive-callback":C?b:(...e)=>z.current.onAfterInteractive?.(...e),"unsupported-callback":C?E:(...e)=>z.current.onUnsupported?.(...e),"timeout-callback":C?v:(...e)=>z.current.onTimeout?.(...e)}),[n.action,n.appearance,n.cData,n.execution,n.language,n.refreshExpired,n.responseField,n.responseFieldName,n.retry,n.retryInterval,n.tabIndex,n.theme,n.feedbackEnabled,n.refreshTimeout,u,O,C,C?m:null,C?h:null,C?w:null,C?y:null,C?b:null,C?E:null,C?v:null]),H=(0,i.useCallback)(()=>!1,[]);return(0,i.useEffect)(function(){S&&!U&&l({onLoadCallbackName:W,scriptOptions:{...t,id:D}})},[S,U,t,D]),(0,i.useEffect)(function(){"ready"!==p&&x(W).then(()=>L(!0)).catch(console.error)},[]),(0,i.useEffect)(function(){if(!j.current||!U)return;let e=!1;return(async()=>{if(e||!j.current)return;let r=window.turnstile.render(j.current,q);A.current=r,A.current&&f?.(A.current)})(),()=>{e=!0,A.current&&(window.turnstile.remove(A.current),P.current=!1)}},[$,U,q]),(0,i.useImperativeHandle)(r,()=>{let{turnstile:e}=window;return{getResponse(){if(!e?.getResponse||!A.current||!H()){console.warn("Turnstile has not been loaded");return}return e.getResponse(A.current)},getResponsePromise:async(e=3e4,r=100)=>new Promise((t,n)=>{let o,i=async()=>{if(P.current&&window.turnstile&&A.current)try{let e=window.turnstile.getResponse(A.current);return o&&clearTimeout(o),e?t(e):n(Error("No response received"))}catch(e){return o&&clearTimeout(o),console.warn("Failed to get response",e),n(Error("Failed to get response"))}o||(o=setTimeout(()=>{o&&clearTimeout(o),n(Error("Timeout"))},e)),await new Promise(e=>setTimeout(e,r)),await i()};i()}),reset(){if(!e?.reset||!A.current||!H()){console.warn("Turnstile has not been loaded");return}"execute"===n.execution&&F(d.invisible);try{P.current=!1,e.reset(A.current)}catch(e){console.warn(`Failed to reset Turnstile widget ${A}`,e)}},remove(){if(!e?.remove||!A.current||!H()){console.warn("Turnstile has not been loaded");return}F(d.invisible),P.current=!1,e.remove(A.current),A.current=null},render(){if(!e?.render||!j.current||!H()||A.current){console.warn("Turnstile has not been loaded or container not found");return}let r=e.render(j.current,q);return A.current=r,A.current&&f?.(A.current),"execute"!==n.execution&&F(O?d[O]:{}),r},execute(){if("execute"!==n.execution){console.warn('Execution mode is not set to "execute"');return}if(!e?.execute||!j.current||!A.current||!H()){console.warn("Turnstile has not been loaded or container not found");return}e.execute(j.current,q),F(O?d[O]:{})},isExpired:()=>e?.isExpired&&A.current&&H()?e.isExpired(A.current):(console.warn("Turnstile has not been loaded"),!1)}},[A,n.execution,O,q,j,H,U,f]),(0,i.useEffect)(()=>{K&&!U&&window.turnstile&&L(!0)},[U,K]),(0,i.useEffect)(()=>{F(N())},[n.execution,O,_]),(0,i.useEffect)(()=>{K&&"function"==typeof g&&g()},[K]),(0,o.jsx)(c,{ref:j,as:I,id:$,style:{...B,...k},...R})});m.displayName="Turnstile";let w=({delayedExecution:e,captchaContext:r,...t})=>{let{appId:n,setError:i,setToken:c,setExecuting:a,siteKey:s,ref:u}=r;return(0,o.jsx)(m,{...t,ref:u,siteKey:s??"",options:{action:n,size:"invisible",...e?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{t.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:e=>{t.onError?.(e),i("Captcha failed"),a(!1)},onSuccess:e=>{t.onSuccess?.(e),c(e),a(!1)},onExpire:e=>{t.onExpire?.(e);try{u.current?.reset(),i(void 0),c(void 0)}catch(e){i("expired_and_failed_reset")}}})}}};