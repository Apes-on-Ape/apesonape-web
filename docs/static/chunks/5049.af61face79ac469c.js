"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5049],{14826:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(12115);let i=a.forwardRef(function(e,n){let{title:t,titleId:i,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},r),t?a.createElement("title",{id:i},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},76441:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(12115);let i=a.forwardRef(function(e,n){let{title:t,titleId:i,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},r),t?a.createElement("title",{id:i},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))})},60915:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(12115);let i=a.forwardRef(function(e,n){let{title:t,titleId:i,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},r),t?a.createElement("title",{id:i},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},59242:(e,n,t)=>{t.d(n,{B:()=>i,C:()=>s,F:()=>l,H:()=>o,R:()=>m,S:()=>u,a:()=>d,b:()=>p,c:()=>c,d:()=>f,e:()=>r});var a=t(16873);let i=a.I4.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),r=a.I4.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),o=a.I4.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),s=(0,a.I4)(r).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),c=(0,a.I4)(r).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),l=a.I4.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),d=a.I4.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),u=a.I4.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),p=a.I4.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),m=a.I4.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),f=a.I4.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],e=>e.height??"12")},37105:(e,n,t)=>{t.d(n,{S:()=>I});var a=t(95155),i=t(12115),r=t(16873),o=t(48568),s=t(40639),c=t(78584);let l=r.I4.div.withConfig({displayName:"ScreenRoot",componentId:"sc-2e815abe-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),d=r.I4.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-2e815abe-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),u=r.I4.div.withConfig({displayName:"HeaderContainer",componentId:"sc-2e815abe-2"})(["position:relative;display:flex;flex-direction:column;"]),p=(0,r.I4)(s.M).withConfig({displayName:"StyledModalHeader",componentId:"sc-2e815abe-3"})(["margin:0 -8px;"]),m=r.I4.div.withConfig({displayName:"BodyContainer",componentId:"sc-2e815abe-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:e})=>"light"===e?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":"dark"===e?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),f=r.I4.div.withConfig({displayName:"FooterContainer",componentId:"sc-2e815abe-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]),g=r.I4.div.withConfig({displayName:"CenteredHeader",componentId:"sc-2e815abe-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),h=r.I4.div.withConfig({displayName:"TitleContainer",componentId:"sc-2e815abe-7"})(["display:flex;flex-direction:column;gap:4px;"]),y=r.I4.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-2e815abe-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),w=r.I4.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-2e815abe-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),x=r.I4.div.withConfig({displayName:"IconContainer",componentId:"sc-2e815abe-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:e})=>{switch(e){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),b=r.I4.div.withConfig({displayName:"LogoContainer",componentId:"sc-2e815abe-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),v=r.I4.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-2e815abe-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]),I=({children:e,...n})=>(0,a.jsx)(l,{children:(0,a.jsx)(d,{...n,children:e})}),k=r.I4.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-2e815abe-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),S=(0,r.I4)(s.B).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-2e815abe-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),C=r.I4.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-2e815abe-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:e})=>e),j=({step:e})=>e?(0,a.jsx)(k,{children:(0,a.jsx)(C,{pct:Math.min(100,e.current/e.total*100)})}):null;I.Header=({title:e,subtitle:n,icon:t,iconVariant:i,iconLoadingStatus:r,showBack:o,onBack:s,showInfo:c,onInfo:l,showClose:d,onClose:m,step:f,...x})=>(0,a.jsxs)(u,{...x,children:[(0,a.jsx)(p,{backFn:o?s:void 0,infoFn:c?l:void 0,onClose:d?m:void 0,closeable:d}),(t||i||e||n)&&(0,a.jsxs)(g,{children:[t||i?(0,a.jsx)(I.Icon,{icon:t,variant:i,loadingStatus:r}):null,(0,a.jsxs)(h,{children:[e&&(0,a.jsx)(y,{children:e}),n&&(0,a.jsx)(w,{children:n})]})]}),f&&(0,a.jsx)(j,{step:f})]}),(I.Body=i.forwardRef(({children:e,...n},t)=>(0,a.jsx)(m,{ref:t,...n,children:e}))).displayName="Screen.Body",I.Footer=({children:e,...n})=>(0,a.jsx)(f,{id:"privy-content-footer-container",...n,children:e}),I.Actions=({children:e,...n})=>(0,a.jsx)(A,{...n,children:e}),I.HelpText=({children:e,...n})=>(0,a.jsx)(N,{...n,children:e}),I.Watermark=()=>(0,a.jsx)(S,{}),I.Icon=({icon:e,variant:n="subtle",loadingStatus:t})=>"logo"===n&&e?(0,a.jsx)(b,"string"==typeof e?{children:(0,a.jsx)("img",{src:e,alt:""})}:i.isValidElement(e)?{children:e}:{children:i.createElement(e)}):"loading"===n?e?(0,a.jsx)(v,{children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,a.jsx)(o.a4,{success:t?.success,fail:t?.fail}),"string"==typeof e?(0,a.jsx)("span",{style:{background:`url('${e}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):i.isValidElement(e)?i.cloneElement(e,{style:{width:"38px",height:"38px"}}):i.createElement(e,{style:{width:"38px",height:"38px"}})]})}):(0,a.jsx)(x,{$variant:n,children:(0,a.jsx)(c.N,{size:"64px"})}):(0,a.jsx)(x,{$variant:n,children:e&&("string"==typeof e?(0,a.jsx)("img",{src:e,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):i.isValidElement(e)?e:i.createElement(e,{width:32,height:32,stroke:(()=>{switch(n){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let A=r.I4.div.withConfig({displayName:"ActionsContainer",componentId:"sc-2e815abe-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),N=r.I4.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-2e815abe-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"])},35319:(e,n,t)=>{t.d(n,{S:()=>o});var a=t(95155),i=t(93659),r=t(37105);let o=({primaryCta:e,secondaryCta:n,helpText:t,watermark:o=!0,children:s,...c})=>{let l=e||n?(0,a.jsxs)(a.Fragment,{children:[e&&(()=>{let{label:n,...t}=e,r=t.variant||"primary";return(0,a.jsx)(i.B,{...t,variant:r,style:{width:"100%",...t.style},children:n})})(),n&&(()=>{let{label:e,...t}=n,r=t.variant||"secondary";return(0,a.jsx)(i.B,{...t,variant:r,style:{width:"100%",...t.style},children:e})})()]}):null;return(0,a.jsxs)(r.S,{id:c.id,className:c.className,children:[(0,a.jsx)(r.S.Header,{...c}),s?(0,a.jsx)(r.S.Body,{children:s}):null,t||l||o?(0,a.jsxs)(r.S.Footer,{children:[t?(0,a.jsx)(r.S.HelpText,{children:t}):null,l?(0,a.jsx)(r.S.Actions,{children:l}):null,o?(0,a.jsx)(r.S.Watermark,{}):null]}):null]})}},12165:(e,n,t)=>{t.d(n,{e:()=>a});let a=t(16873).I4.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"])},69042:(e,n,t)=>{t.r(n),t.d(n,{StandardSignAndSendTransactionScreen:()=>V,default:()=>V});var a=t(95155),i=t(12115),r=t(88338),o=t(5944),s=t(81084),c=t(31679),l=t(58548),d=t(79290),u=t(14826),p=t(16873),m=t(93659),f=t(59242),g=t(40639),h=t(86777),y=t(64061),w=t(32598),x=t(11648),b=t(12165),v=t(48568),I=t(85389),k=t(50611),S=t(55579),C=t(46967),j=t(41164);function A(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function N(e,n,t={}){let{abortSignal:a,...i}=t;return(await e.getMultipleAccounts(n,{...i,encoding:"jsonParsed"}).send({abortSignal:a})).value.map((e,t)=>e&&"object"==typeof e&&"parsed"in e.data?function(e,n){if(!n)return Object.freeze({address:e,exists:!1});let t=n.data.parsed.info;return Object.freeze({...A(n),address:e,data:t,exists:!0})}(n[t],e):function(e,n){if(!n)return Object.freeze({address:e,exists:!1});let t=(0,j.Iz)().encode(n.data[0]);return Object.freeze({...A(n),address:e,data:t,exists:!0})}(n[t],e))}async function E(e,n,t){if(0===e.length)return{};let a=await N(n,e,t);return!function(e){let n=e.filter(e=>(!("exists"in e)||"exists"in e&&e.exists)&&e.data instanceof Uint8Array);if(n.length>0){let e=n.map(e=>e.address);throw new C.tsw(C.sf7,{addresses:e})}}(a),!function(e){let n=e.filter(e=>!e.exists);if(n.length>0){let e=n.map(e=>e.address);throw new C.tsw(C.mMN,{addresses:e})}}(a),a.reduce((e,n)=>({...e,[n.address]:n.data.addresses}),{})}var T=t(69989),F=t(62641),$=t(11139),O=t(8117);t(68943),t(29761),t(47147),t(89208),t(85243);let P=p.I4.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],e=>e.color??"var(--privy-color-accent)",e=>e.color??"var(--privy-color-accent)"),B=({instruction:e,fees:n,transactionInfo:t,solPrice:i,chain:r})=>(0,a.jsxs)(y.a,{children:[t?.action&&(0,a.jsxs)(y.R,{children:[(0,a.jsx)(w.L,{children:"Action"}),(0,a.jsx)(w.V,{children:t.action})]}),null!=e?.total&&(0,a.jsxs)(y.R,{children:[(0,a.jsx)(w.L,{children:"Total"}),(0,a.jsx)(w.V,{children:e.total})]}),!e?.total&&null!=e?.amount&&(0,a.jsxs)(y.R,{children:[(0,a.jsx)(w.L,{children:"Total"}),(0,a.jsx)(w.V,{children:(0,a.jsx)(x.S,{quantities:[e.amount,n],tokenPrice:i})})]}),(0,a.jsxs)(y.R,{children:[(0,a.jsx)(w.L,{children:"Fees"}),(0,a.jsx)(w.V,{children:(0,a.jsx)(x.S,{quantities:[n],tokenPrice:i})})]}),e?.to&&(0,a.jsxs)(y.R,{children:[(0,a.jsx)(w.L,{children:"To"}),(0,a.jsx)(w.V,{children:(0,a.jsx)(x.W,{walletAddress:e.to,chainId:r,chainType:"solana"})})]})]}),L=({fees:e,onClose:n,receiptHeader:t,receiptDescription:i,transactionInfo:r,solPrice:o,signOnly:s,instruction:c,chain:l})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.M,{onClose:n}),(0,a.jsx)(b.e,{style:{marginBottom:"16px"},children:(0,a.jsxs)("div",{children:[(0,a.jsx)(P,{color:"var(--privy-color-success-light)"}),(0,a.jsx)(u.A,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),(0,a.jsx)(h.C,{title:t??`Transaction ${s?"signed":"complete"}!`,description:i??"You're all set."}),(0,a.jsx)(B,{solPrice:o,instruction:c,fees:e,transactionInfo:r,chain:l}),(0,a.jsx)(v.Y,{}),(0,a.jsx)(z,{loading:!1,onClick:n,children:"Close"}),(0,a.jsx)(f.R,{}),(0,a.jsx)(g.B,{})]}),z=(0,p.I4)(m.P).withConfig({displayName:"SubmitButton",componentId:"sc-3cb7ee42-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);async function R(e,n){try{return await e}catch{return n}}async function U({privyClient:e,chain:n,mint:t}){let a=O.D[n];if(!a[t]){let i=await e.getSplTokenMetadata({mintAddress:t,cluster:function(e){switch(e){case"solana:mainnet":return"mainnet-beta";case"solana:devnet":return"devnet";case"solana:testnet":return"testnet"}}(n)});i&&(a[t]={address:t,symbol:i.symbol,decimals:i.decimals})}return a[t]}async function J({tx:e,solanaClient:n,privyClient:t,checkFunds:a}){let i=(0,S.fr)().decode((0,$.a)(e)),r=i.staticAccounts[0]??"",o=await (0,$.f)({solanaClient:n,tx:e}),s=a?await R((0,$.s)({solanaClient:n,tx:e})):void 0,c=s?.hasFunds??!0,l={},d=[],u=await async function({solanaClient:e,message:n}){if(!("addressTableLookups"in n)||!n.addressTableLookups)return[...n.staticAccounts];let t=n.addressTableLookups.map(e=>e.lookupTableAddress),a=await E(t,e.rpc),i=t.map((e,t)=>[...n.addressTableLookups[t]?.writableIndexes.map(n=>{let i=a[e]?.[n];if(i)return{key:i,isWritable:!0,altIdx:t}})??[],...n.addressTableLookups[t]?.readonlyIndexes.map(n=>{let i=a[e]?.[n];if(i)return{key:i,isWritable:!1,altIdx:t}})??[]]).flat().filter(e=>!!e).sort((e,n)=>e.isWritable!==n.isWritable?e.isWritable?-1:1:e.altIdx-n.altIdx).map(({key:e})=>e);return[...n.staticAccounts,...i]}({solanaClient:n,message:i});for(let e of i.instructions){let a=i.staticAccounts[e.programAddressIndex]||"";if(a!==O.T&&a!==O.a){if(a!==O.S){if(a===O.A){let n=await R(function(e,n,t){let[a,i,r,o]=e.accountIndices?.map(e=>n[e])??[];return{type:"ata-creation",program:t,payer:a,ata:i,owner:r,mint:o}}(e,u,a));if(!n){d.push({type:"unknown",program:a,discriminator:e.data?.[0]});continue}if(d.push(n),n.ata&&n.owner&&n.mint){l[n.ata]={owner:n.owner,mint:n.mint};continue}}if(O.R.includes(a)){let i=await R(_(e,u,n,t,a));if(!i){d.push({type:"unknown",program:a,discriminator:e.data?.[0]});continue}d.push(i)}else if(O.J.includes(a)){let i=await R(W(e,u,n,t,a));if(!i){d.push({type:"unknown",program:a,discriminator:e.data?.[0]});continue}d.push(i)}else d.push({type:"unknown",program:a,discriminator:e.data?.[0]})}else{let n=await R(H(e,u));if(!n){d.push({type:"unknown",program:a,discriminator:e.data?.[0]});continue}d.push(n)}}else{let i=await R(M(e,u,n,t,l,a));if(!i){d.push({type:"unknown",program:a,discriminator:e.data?.[0]});continue}d.push(i),"spl-transfer"===i.type&&(i.fromAta&&i.fromAccount&&i.token.address&&(l[i.fromAta]??={owner:i.fromAccount,mint:i.token.address}),i.toAta&&i.toAccount&&i.token.address&&(l[i.toAta]??={owner:i.toAccount,mint:i.token.address}))}}return{spender:r,fee:o,instructions:d,hasFunds:!!c}}function D(e,n=0){try{return function(e,n=0){let t=0n;for(let a=0;a<8;a++)t|=BigInt(e[n+a])<<BigInt(8*a);return t}(e,n)}catch{}try{return e.readBigInt64LE(n)}catch{}let t=(0,$.b)(e);try{return((e,n=0)=>{let t=e[n],a=e[n+7];if(!t||!a)throw Error(`Buffer offset out of range: first: ${t}, last: ${a}.`);return(BigInt(e[n+4]+256*e[n+5]+65536*e[n+6]+(a<<24))<<32n)+BigInt(t+256*e[++n]+65536*e[++n]+0x1000000*e[++n])})(t)}catch{}try{return t.subarray(n).readBigInt64LE()}catch{}try{return t.readBigInt64LE(n)}catch{}return 0n}async function M(e,n,t,a,i,r){let o=e.data?.[0],s=e.accountIndices?.map(e=>n[e])??[];if(1===o){let[e,n,t]=s;return{type:"spl-init-account",program:r,account:e,mint:n,owner:t}}if(3===o){let n,o,[c,l,d]=s,u="",p=l?i[l]:void 0;if(p)n=p.owner,u=p.mint;else if(l){let e=await t.rpc.getAccountInfo(l,{commitment:"confirmed",encoding:"jsonParsed"}).send(),a=e.value?.data;n=a?.parsed?.info?.owner,u=a?.parsed?.info?.mint??"",o=a?.parsed?.info?.tokenAmount?.decimals}if(!u&&c){let e=await t.rpc.getAccountInfo(c,{commitment:"confirmed",encoding:"jsonParsed"}).send(),n=e.value?.data;u=n?.parsed?.info?.mint??""}let m=await U({privyClient:a,chain:t.chain,mint:u}),f=m?.symbol??"";return o??=m?.decimals??9,{type:"spl-transfer",program:r,fromAta:c,fromAccount:d,toAta:l,toAccount:n,value:D(e.data,1),token:{symbol:f,decimals:o,address:u}}}if(9===o){let[e,n,t]=s;return{type:"spl-close-account",program:r,source:e,destination:n,owner:t}}if(17===o)return{type:"spl-sync-native",program:r};throw Error(`Token program instruction type ${o} not supported`)}async function H(e,n){let t=e.data?.[0],a=e.accountIndices?.map(e=>n[e])??[];if(0===t){let[,n]=a;return{type:"create-account",program:O.S,account:n?.toString(),value:D(e.data,4),withSeed:!1}}if(2===t){let[n,t]=a;return{type:"sol-transfer",program:O.S,fromAccount:n,toAccount:t,token:{symbol:"SOL",decimals:9},value:D(e.data,4),withSeed:!1}}if(3===t){let[,n]=a;return{type:"create-account",program:O.S,account:n,withSeed:!0,value:D(e.data.slice(e.data.length-32-8-8))}}if(11===t){let[n,t]=a;return{type:"sol-transfer",program:O.S,fromAccount:n,toAccount:t,value:D(e.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${t} not supported`)}async function _(e,n,t,a,i){let r=e.accountIndices?.map(e=>n[e])??[],o=e.data?.[0];if(143===o){let n=r[10],o=r[11];return{type:"raydium-swap-base-input",program:i,mintIn:n,mintOut:o,tokenIn:n?await U({privyClient:a,chain:t.chain,mint:n}):void 0,tokenOut:o?await U({privyClient:a,chain:t.chain,mint:o}):void 0,amountIn:D(e.data,8),minimumAmountOut:D(e.data,16)}}if(55===o){let n=r[10],o=r[11];return{type:"raydium-swap-base-output",program:i,mintIn:n,mintOut:o,tokenIn:n?await U({privyClient:a,chain:t.chain,mint:n}):void 0,tokenOut:o?await U({privyClient:a,chain:t.chain,mint:o}):void 0,maxAmountIn:D(e.data,8),amountOut:D(e.data,16)}}throw Error(`Raydium swap program instruction type ${o} not supported`)}async function W(e,n,t,a,i){let r=e.data?.[0],o=e.accountIndices?.map(e=>n[e])??[];if([208,51,239,151,123,43,237,92].includes(r)){let n=o[5],r=o[6];return{type:"jupiter-swap-exact-out-route",program:i,mintIn:n,mintOut:r,tokenIn:n?await U({privyClient:a,chain:t.chain,mint:n}):void 0,tokenOut:r?await U({privyClient:a,chain:t.chain,mint:r}):void 0,outAmount:D(e.data,e.data.length-1-2-8-8),quotedInAmount:D(e.data,e.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(r)){let n=o[7],r=o[8];return{type:"jupiter-swap-exact-out-route",program:i,mintIn:n,mintOut:r,tokenIn:n?await U({privyClient:a,chain:t.chain,mint:n}):void 0,tokenOut:r?await U({privyClient:a,chain:t.chain,mint:r}):void 0,outAmount:D(e.data,e.data.length-1-2-8-8),quotedInAmount:D(e.data,e.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(r)){let n=o[7],r=o[8];return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:n,mintOut:r,tokenIn:n?await U({privyClient:a,chain:t.chain,mint:n}):void 0,tokenOut:r?await U({privyClient:a,chain:t.chain,mint:r}):void 0,inAmount:D(e.data,e.data.length-1-2-8-8),quotedOutAmount:D(e.data,e.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(r)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(r)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(r)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(r)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(r)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(r)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(r)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(r)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(r)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(r)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(r)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${r} not supported`)}let V={component:()=>{let{data:e,onUserCloseViaDialogOrKeybindRef:n,setModalData:t,navigate:u}=(0,o.a)(),{client:p,closePrivyModal:m,walletProxy:f,showFiatPrices:g}=(0,c.u)(),h=(0,s.u)(),{user:y}=(0,o.u)(),w=(0,$.u)()(e?.standardSignAndSendTransaction?.chain??"solana:mainnet"),[x,b]=(0,i.useState)(e?.standardSignAndSendTransaction?.transaction),[v,C]=(0,i.useState)(),[A,N]=(0,i.useState)(),[E,P]=(0,i.useState)({value:0n,isLoading:!1}),[B,z]=(0,i.useState)(!1),[R,U]=(0,i.useState)({}),[D,M]=(0,i.useState)(),H=e?.standardSignAndSendTransaction?.account,_=!!e?.standardSignAndSendTransaction?.signOnly,W=H?.imported?(0,o.j)(y).find(e=>e.address===H.address):(0,o.g)(y),{solPrice:V,isSolPriceLoading:q}=(0,l.u)({enabled:g}),Z=(0,i.useMemo)(()=>{if(!v)return;let e=v.spender,n=(0,k.g)(v.fee),t=(0,k.g)(E.value,3,!0),a=v.instructions.filter(e=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(e.type)),i=a.at(0);return!i||a.length>1?{fee:n,spender:e,balance:t}:"sol-transfer"===i.type?{fee:n,spender:e,balance:t,total:(0,k.g)(i.value)}:"spl-transfer"===i.type?{fee:n,spender:e,balance:t,total:`${(0,r.NJ)({amount:i.value,decimals:i.token.decimals})} ${i.token.symbol}`}:"raydium-swap-base-input"===i.type&&i.tokenIn&&i.tokenOut?{fee:n,spender:e,balance:t,swap:`${(0,r.NJ)({amount:i.amountIn,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol} → ${(0,r.NJ)({amount:i.minimumAmountOut,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"raydium-swap-base-output"===i.type&&i.tokenIn&&i.tokenOut?{fee:n,spender:e,balance:t,swap:`${(0,r.NJ)({amount:i.maxAmountIn,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol} → ${(0,r.NJ)({amount:i.amountOut,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"jupiter-swap-shared-accounts-route"===i.type&&i.tokenIn&&i.tokenOut?{fee:n,spender:e,balance:t,swap:`${(0,r.NJ)({amount:i.inAmount,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol} → ${(0,r.NJ)({amount:i.quotedOutAmount,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"jupiter-swap-exact-out-route"===i.type&&i.tokenIn&&i.tokenOut?{fee:n,spender:e,balance:t,swap:`${(0,r.NJ)({amount:i.quotedInAmount,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol} → ${(0,r.NJ)({amount:i.outAmount,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:{fee:n,spender:e,balance:t}},[v,H?.address,E]),G=(0,i.useMemo)(()=>{let e;if(!v||!g||!V||q)return;function n(...e){return(0,O.g)(e.reduce((e,n)=>e+n,0n),V??0)}H?.address===v.spender&&(e=n(v.fee));let t=n(E.value),a=v.instructions.filter(e=>"sol-transfer"===e.type||"spl-transfer"===e.type).at(0);return!a||v.instructions.length>1?{fee:e,balance:t}:"sol-transfer"===a.type?{fee:e,balance:t,total:n(a.value,H?.address===v.spender?v.fee:0n)}:"spl-transfer"===a.type?{fee:e,balance:t,total:`${(0,r.NJ)({amount:a.value,decimals:a.token.decimals})} ${a.token.symbol}`}:{fee:e,balance:t}},[v,g,V,q,H?.address,E]);if((0,i.useEffect)(()=>{!async function(){if(x&&p)try{N(void 0);let e=await J({tx:x,solanaClient:w,privyClient:p,checkFunds:!_});C(e)}catch(e){console.error("Failed to prepare transaction",e),N(e)}}()},[x,w,p,_]),(0,i.useEffect)(()=>{(async function(){if(!H)return;P({value:E.value,isLoading:!0});let{value:e}=await w.rpc.getBalance(H.address,{commitment:"confirmed"}).send();P({value:e??0n,isLoading:!1})})().catch(console.error)},[v]),!x||!e?.standardSignAndSendTransaction||!H){let n=Error("Invalid transaction request");return(0,a.jsx)(d.ErrorScreenView,{error:n,allowlistConfig:h.allowlistConfig,onRetry:()=>{e?.standardSignAndSendTransaction?.onFailure(n),m({shouldCallAuthOnSuccess:!1})}})}let Y=()=>{if(!B)return R.signature||R.signedTransaction?e?.standardSignAndSendTransaction?.onSuccess({signature:R.signature,signedTransaction:R.signedTransaction}):e?.standardSignAndSendTransaction?.onFailure(D??A??Error("User exited the modal before submitting the transaction")),m({shouldCallAuthOnSuccess:!1})};n.current=Y;let Q=e.standardSignAndSendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?(0,a.jsx)("img",{src:e.standardSignAndSendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.standardSignAndSendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,K=!!(e.funding&&e.funding.supportedOptions.length>0),X=!v?.hasFunds&&K;if(R.signature||R.signedTransaction){let n=v?.instructions.filter(e=>"sol-transfer"===e.type||"spl-transfer"===e.type),t=1===n?.length?n?.at(0):void 0;return(0,a.jsx)(L,{fees:R.fees??0n,onClose:Y,transactionInfo:e.standardSignAndSendTransaction?.uiOptions.transactionInfo,solPrice:V,receiptHeader:e.standardSignAndSendTransaction?.uiOptions.successHeader,receiptDescription:e.standardSignAndSendTransaction?.uiOptions.successDescription,chain:w.chain,signOnly:_,instruction:"sol-transfer"===t?.type?{to:t.toAccount,amount:t.value}:{to:t?.toAccount||t?.toAta,total:Z?.total}})}return D?(0,a.jsx)(I.T,{transactionError:D,chainId:w.chain,onClose:Y,chainType:"solana",onRetry:async()=>{M(void 0);let{value:e}=await w.rpc.getLatestBlockhash().send();b((0,T.F)((0,S.fr)().decode((0,$.a)(x)),e=>(0,S.mm)(e),n=>(0,S.S$)(e,n),e=>(0,F.i5)(e),e=>new Uint8Array((0,F.l9)().encode(e))))}}):(0,a.jsx)(I.a,{img:Q,title:e.standardSignAndSendTransaction?.uiOptions?.transactionInfo?.title||"Confirm transaction",subtitle:e.standardSignAndSendTransaction?.uiOptions?.description||`${h.name} wants your permission to approve the following transaction.`,cta:X?"Add funds":e.standardSignAndSendTransaction?.uiOptions?.buttonText||"Approve",instructions:v?.instructions??[],network:"solana:mainnet"==w.chain?"Solana":w.chain.replace("solana:",""),blockExplorerUrl:w.blockExplorerUrl,total:g?G?.total:Z?.total,fee:g?G?.fee:Z?.fee,balance:g?G?.balance:Z?.balance,swap:Z?.swap,transactingWalletAddress:H.address,disabled:!v?.hasFunds&&!K,isSubmitting:B,isPreparing:!v||E.isLoading,isTokenPriceLoading:g&&q,isMissingFunds:!v?.hasFunds,submitError:D??void 0,isSponsored:!!e.standardSignAndSendTransaction?.isSponsored,parseError:A,onClick:X?async()=>{if(!H)return;if(!K)throw Error("Funding wallet is not enabled");let n="FundingMethodSelectionScreen";t({...e,funding:{...e.funding,methodScreen:n},solanaFundingData:e?.solanaFundingData}),u(n)}:async()=>{try{if(z(!0),B||!H||!f||!y||!W)return;let n=await e.standardSignAndSendTransaction.onConfirm(x);if("signature"in n){let e=await async function({solanaClient:e,signature:n}){let t=(0,j.BC)().decode(n),a=await e.rpc.getTransaction(t,{maxSupportedTransactionVersion:0,commitment:"confirmed",encoding:"base64"}).send().catch(()=>null);return a?{fee:a.meta?.fee??0n}:null}({solanaClient:w,signature:n.signature});return void U({...n,fees:e?.fee})}U(n)}catch(e){console.warn({transaction:x,error:e}),M(e)}finally{z(!1)}},onClose:Y})}}},11648:(e,n,t)=>{t.d(n,{H:()=>d,P:()=>u,S:()=>p,W:()=>y});var a=t(95155),i=t(16873),r=t(89888),o=t(72173),s=t(8117),c=t(50611),l=t(48568);let d=({weiQuantities:e,tokenPrice:n,tokenSymbol:t})=>{let i=(0,o.s)(e),r=n?(0,o.a)(i,n):void 0,s=(0,o.g)(i,t);return(0,a.jsx)(m,{children:r||s})},u=({weiQuantities:e,tokenPrice:n,tokenSymbol:t})=>{let i=(0,o.s)(e),r=n?(0,o.a)(i,n):void 0,s=(0,o.g)(i,t);return(0,a.jsx)(m,{children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{children:"USD"}),"<$0.01"===r?(0,a.jsxs)(h,{children:[(0,a.jsx)(g,{children:"<"}),"$0.01"]}):r]}):s})},p=({quantities:e,tokenPrice:n,tokenSymbol:t="SOL",tokenDecimals:i=9})=>{let o=e.reduce((e,n)=>e+n,0n),l=n&&"SOL"===t&&9===i?(0,s.g)(o,n):void 0,d="SOL"===t&&9===i?(0,c.g)(o):`${(0,r.J)(o,i)} ${t}`;return(0,a.jsx)(m,{children:l?(0,a.jsx)(a.Fragment,{children:"<$0.01"===l?(0,a.jsxs)(h,{children:[(0,a.jsx)(g,{children:"<"}),"$0.01"]}):l}):d})},m=i.I4.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),f=i.I4.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),g=i.I4.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),h=i.I4.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]),y=e=>{var n,t;return(0,a.jsx)(w,{href:"ethereum"===e.chainType?(0,o.b)(e.chainId,e.walletAddress):(n=e.walletAddress,t=e.chainId,`https://explorer.solana.com/account/${n}?chain=${t}`),target:"_blank",children:(0,l.D)(e.walletAddress)})},w=i.I4.a.withConfig({displayName:"StyledLink",componentId:"sc-dd6c0f9f-0"})(["&:hover{text-decoration:underline;}"])},72173:(e,n,t)=>{t.d(n,{a:()=>l,b:()=>m,c:()=>c,g:()=>d,p:()=>u,s:()=>p});var a=t(69595),i=t(31679),r=t(48568);let o=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),s=e=>o.format(e),c=(e,n)=>{let t=s(n*parseFloat(e));return"$0.00"!==t?t:"<$0.01"},l=(e,n)=>{let t=s(n*parseFloat((0,a.c)(e)));return"$0.00"===t?"<$0.01":t},d=(e,n,t=6,a=!1)=>`${u(e,t,a)} ${n}`,u=(e,n=6,t=!1)=>{let i=parseFloat((0,a.c)(e)).toFixed(n).replace(/0+$/,"").replace(/\.$/,"");return t?i:`${"0"===i?"<0.001":i}`},p=e=>e.reduce((e,n)=>e+n,0n),m=(e,n)=>{let{chains:t}=(0,i.u)(),a=`https://etherscan.io/address/${n}`,o=`${(0,r.a5)(e,t)}/address/${n}`;if(!o)return a;try{new URL(o)}catch{return a}return o}},8117:(e,n,t)=>{t.d(n,{A:()=>s,D:()=>d,J:()=>l,L:()=>a,R:()=>c,S:()=>i,T:()=>r,a:()=>o,g:()=>u});let a=1e9,i="11111111111111111111111111111111",r="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",o="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",s="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",c=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],l=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"],d={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function u(e,n){let t=parseFloat(e.toString())/a,i=p.format(n*t);return"$0.00"===i?"<$0.01":i}let p=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2})},78584:(e,n,t)=>{t.d(n,{N:()=>r});var a=t(95155),i=t(16873);let r=({size:e,centerIcon:n})=>(0,a.jsx)(o,{$size:e,children:(0,a.jsxs)(s,{children:[(0,a.jsx)(l,{}),(0,a.jsx)(d,{}),n?(0,a.jsx)(c,{children:n}):null]})}),o=i.I4.div.withConfig({displayName:"LoadingContainer",componentId:"sc-ebc93df8-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],e=>e.$size?e.$size:"96px"),s=i.I4.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-ebc93df8-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),c=i.I4.div.withConfig({displayName:"CenterIconContainer",componentId:"sc-ebc93df8-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;svg,img{width:calc(var(--spinner-size) * 0.4);height:calc(var(--spinner-size) * 0.4);border-radius:var(--privy-border-radius-full);}"]),l=i.I4.div.withConfig({displayName:"CircleFixed",componentId:"sc-ebc93df8-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),d=i.I4.div.withConfig({displayName:"CircleRotate",componentId:"sc-ebc93df8-4"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"])},50611:(e,n,t)=>{t.d(n,{a:()=>r,g:()=>i});var a=t(8117);function i(e,n=6,t=!1,a=!1){let r=(parseFloat(e.toString())/1e9).toFixed(n).replace(/0+$/,"").replace(/\.$/,""),o=a?"":" SOL";return t?`${r}${o}`:`${"0"===r?"<0.001":r}${o}`}function r({amount:e,fee:n,tokenPrice:t,isUsdc:r}){let o=BigInt(Math.floor(parseFloat(e)*10**(r?6:9))),s=r?o:o+n;return{fundingAmountInBaseUnit:o,fundingAmountInUsd:t?(0,a.g)(o,t):void 0,totalPriceInUsd:t?(0,a.g)(s,t):void 0,totalPriceInNativeCurrency:i(s),feePriceInNativeCurrency:i(n),feePriceInUsd:t?(0,a.g)(n,t):void 0}}},58548:(e,n,t)=>{t.d(n,{u:()=>r});var a=t(12115),i=t(31679);let r=({enabled:e=!0}={})=>{let{showFiatPrices:n,getUsdPriceForSol:t}=(0,i.u)(),[r,o]=(0,a.useState)(!0),[s,c]=(0,a.useState)(void 0),[l,d]=(0,a.useState)(void 0);return(0,a.useEffect)(()=>{(async()=>{if(n&&e)try{o(!0);let e=await t();e?d(e):c(Error("Unable to fetch SOL price"))}catch(e){c(e)}finally{o(!1)}else o(!1)})()},[]),{solPrice:l,isSolPriceLoading:r,solPriceError:s}}},11139:(e,n,t)=>{t.d(n,{a:()=>l,b:()=>p,f:()=>d,s:()=>u,u:()=>f,w:()=>m});var a=t(62641),i=t(41164),r=t(12115),o=t(81084),s=t(31679),c=t(75927).hp;function l(e){return new Uint8Array((0,a.BX)().decode(e).messageBytes)}async function d({solanaClient:e,tx:n}){let t=(0,i.Ul)().decode(l(n)),{value:a}=await e.rpc.getFeeForMessage(t).send();return a??0n}async function u({solanaClient:e,tx:n,replaceRecentBlockhash:t}){let{value:a}=await e.rpc.simulateTransaction((0,i.Ul)().decode(n),{commitment:"confirmed",encoding:"base64",sigVerify:!1,replaceRecentBlockhash:t}).send();if("BlockhashNotFound"===a.err&&t)throw Error("Simulation failed: Blockhash not found");return"BlockhashNotFound"===a.err?await u({solanaClient:e,tx:n,replaceRecentBlockhash:!0}):{logs:a.logs??[],error:a.err,hasError:!!a.err,hasFunds:a.logs?.every(e=>!/insufficient funds/gi.test(e)&&!/insufficient lamports/gi.test(e))??!0}}let p=(...e)=>{if(void 0===c)throw new s.a("Buffer is not defined.",void 0,s.b.BUFFER_NOT_DEFINED);return c.from(...e)};async function m({rpcSubscriptions:e,signature:n,timeout:t}){let a=new AbortController,i=await e.signatureNotifications(n,{commitment:"confirmed"}).subscribe({abortSignal:a.signal}),r=await Promise.race([new Promise(e=>{setTimeout(()=>{a.abort(),e(Error("Transaction confirmation timed out"))},t)}),new Promise(async e=>{for await(let n of i){if(a.abort(),n.value.err)return e(Error("Transaction confirmation failed"));e(void 0)}})]);if(r instanceof Error)throw r}function f(){let e=(0,o.u)(),n=(0,r.useMemo)(()=>Object.fromEntries(["solana:mainnet","solana:devnet","solana:testnet"].map(n=>[n,e.solanaRpcs[n]?function({rpc:e,rpcSubscriptions:n,chain:t,blockExplorerUrl:a}){let r=function({rpc:e,rpcSubscriptions:n}){return async t=>new Promise(async(a,r)=>{try{let r=await e.sendTransaction(p(t).toString("base64"),{preflightCommitment:"confirmed",encoding:"base64"}).send();await m({rpcSubscriptions:n,signature:r,timeout:1e4}),a({signature:new Uint8Array((0,i.nZ)().encode(r))})}catch(e){r(e)}})}({rpc:e,rpcSubscriptions:n});return{rpc:e,rpcSubscriptions:n,chain:t,blockExplorerUrl:a,sendAndConfirmTransaction:r}}({chain:n,rpc:e.solanaRpcs[n].rpc,rpcSubscriptions:e.solanaRpcs[n].rpcSubscriptions,blockExplorerUrl:e.solanaRpcs[n].blockExplorerUrl??`https://explorer.solana.com?cluster=${n.replace("solana:","")}`}):null])),[e.solanaRpcs]);return(0,r.useCallback)(e=>{if(!n[e])throw Error(`No RPC configuration found for chain ${e}`);return n[e]},[n])}}}]);