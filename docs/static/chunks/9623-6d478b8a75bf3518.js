(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9623],{45607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=w,t.fromBig=i,t.split=s;let r=BigInt(0x100000000-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function s(e,t=!1){let r=e.length,n=new Uint32Array(r),a=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:o}=i(e[s],t);[n[s],a[s]]=[r,o]}return[n,a]}let a=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=a;let o=(e,t,r)=>e>>>r;t.shrSH=o;let l=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=l;let c=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=c;let u=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=u;let d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;let h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;let f=(e,t)=>t;t.rotr32H=f;let p=(e,t)=>e;t.rotr32L=p;let y=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=y;let g=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=g;let m=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=m;let b=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}t.rotlBL=b;let v=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=v;let _=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0;t.add3H=_;let x=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=x;let E=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0;t.add4H=E;let I=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=I;let A=(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0;t.add5H=A,t.default={fromBig:i,split:s,toBig:a,shrSH:o,shrSL:l,rotrSH:c,rotrSL:u,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:y,rotlSL:g,rotlBH:m,rotlBL:b,add:w,add3L:v,add3H:_,add4L:x,add4H:E,add5H:A,add5L:I}},57568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},43330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=w;let n=r(45607),i=r(75214),s=BigInt(0),a=BigInt(1),o=BigInt(2),l=BigInt(7),c=BigInt(256),u=BigInt(113),d=[],h=[],f=[];for(let e=0,t=a,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],d.push(2*(5*n+r)),h.push((e+1)*(e+2)/2%64);let i=s;for(let e=0;e<7;e++)(t=(t<<a^(t>>l)*u)%c)&o&&(i^=a<<(a<<BigInt(e))-a);f.push(i)}let p=(0,n.split)(f,!0),y=p[0],g=p[1],m=(e,t,r)=>r>32?(0,n.rotlBH)(e,t,r):(0,n.rotlSH)(e,t,r),b=(e,t,r)=>r>32?(0,n.rotlBL)(e,t,r):(0,n.rotlSL)(e,t,r);function w(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=m(s,a,1)^r[n],l=b(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=h[r],s=m(t,i,n),a=b(t,i,n),o=d[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=y[n],e[1]^=g[n]}(0,i.clean)(r)}class v extends i.Hash{constructor(e,t,r,n=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=s,(0,i.anumber)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.swap32IfBE)(this.state32),w(this.state32,this.rounds),(0,i.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.aexists)(this),e=(0,i.toBytes)(e),(0,i.abytes)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,i.aexists)(this,!1),(0,i.abytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new v(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}t.Keccak=v;let _=(e,t,r)=>(0,i.createHasher)(()=>new v(t,e,r));t.sha3_224=_(6,144,28),t.sha3_256=_(6,136,32),t.sha3_384=_(6,104,48),t.sha3_512=_(6,72,64),t.keccak_224=_(1,144,28),t.keccak_256=_(1,136,32),t.keccak_384=_(1,104,48),t.keccak_512=_(1,72,64);let x=(e,t,r)=>(0,i.createXOFer)((n={})=>new v(t,e,void 0===n.dkLen?r:n.dkLen,!0));t.shake128=x(31,168,16),t.shake256=x(31,136,32)},75214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=i,t.anumber=s,t.abytes=a,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");s(e.outputLen),s(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},t.aoutput=function(e,t){a(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=o,t.byteSwap32=l,t.bytesToHex=function(e){if(a(e),c)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=u[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(c)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=h(e.charCodeAt(i)),s=h(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n},t.asyncLoop=p,t.utf8ToBytes=y,t.bytesToUtf8=function(e){return new TextDecoder().decode(e)},t.toBytes=g,t.kdfInputToBytes=function(e){return"string"==typeof e&&(e=y(e)),a(e),e},t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];a(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");return Object.assign(e,t)},t.createHasher=b,t.createOptHasher=w,t.createXOFer=v,t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return Uint8Array.from(n.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")};let n=r(57568);function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function a(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function l(e){for(let t=0;t<e.length;t++)e[t]=o(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>o(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:l;let c="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),d={_0:48,_9:57,A:65,F:70,a:97,f:102};function h(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}let f=async()=>{};async function p(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);let e=Date.now()-i;e>=0&&e<r||(await (0,t.nextTick)(),i+=e)}}function y(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function g(e){return"string"==typeof e&&(e=y(e)),a(e),e}t.nextTick=f;class m{}function b(e){let t=t=>e().update(g(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function w(e){let t=(t,r)=>e(r).update(g(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function v(e){let t=(t,r)=>e(r).update(g(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}t.Hash=m,t.wrapConstructor=b,t.wrapConstructorWithOpts=w,t.wrapXOFConstructorWithOpts=v},32253:(e,t,r)=>{"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){let e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},6263:(e,t,r)=>{"use strict";var n=r(87358);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=s,t.isBrowser=function(){return!i()&&!s()}},24144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(44092);n.__exportStar(r(32253),t),n.__exportStar(r(6263),t)},44092:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>S,__createBinding:()=>h,__decorate:()=>o,__exportStar:()=>f,__extends:()=>i,__generator:()=>d,__importDefault:()=>I,__importStar:()=>E,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>y,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>m,__values:()=>p});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}function h(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||o(e,t)})})}function o(e,t){try{var r;(r=i[e](t)).value instanceof b?Promise.resolve(r.value.v).then(l,c):u(s[0][2],r)}catch(e){u(s[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function v(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},72446:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});class n{}},26924:(e,t,r)=>{"use strict";r.d(t,{VH:()=>c,li:()=>l});var n=r(60429),i=r(99652),s=r(72446);class a extends s.H{constructor(e){super()}}let o=i.FIVE_SECONDS,l={pulse:"heartbeat_pulse"};class c extends a{constructor(e){super(e),this.events=new n.EventEmitter,this.interval=o,this.interval=e?.interval||o}static async init(e){let t=new c(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,i.toMiliseconds)(this.interval))}pulse(){this.events.emit(l.pulse)}}},5279:(e,t,r)=>{"use strict";r.d(t,{A:()=>b,V:()=>b});var n=r(60429),i=r(95647),s=r.n(i),a=r(54932),o=r(35169),l=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&p(e,r,t[r]);if(d)for(var r of d(t))f.call(t,r)&&p(e,r,t[r]);return e},g=(e,t)=>c(e,u(t));let m={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class b{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new n.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,o.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let t=(0,a.h)(e),r=await (await s()(this.url,g(y({},m),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!(0,o.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=(0,a.h)({id:1,jsonrpc:"2.0",method:"test",params:[]});await s()(e,g(y({},m),{body:t}))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,a.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,o.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,o.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}},48361:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(60429),i=r(35169);class s extends i.IJsonRpcProvider{constructor(e){super(e),this.events=new n.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,i.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,i.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,e=>{(0,i.isJsonRpcError)(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){n(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,i.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},9668:(e,t,r)=>{"use strict";r.d(t,{Uf:()=>a,XW:()=>o,fO:()=>i,jf:()=>s,zR:()=>n});let n="INTERNAL_ERROR",i="SERVER_ERROR",s=[-32700,-32600,-32601,-32602,-32603],a={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[n]:{code:-32603,message:"Internal error"},[i]:{code:-32e3,message:"Server error"}},o=i},34890:(e,t,r)=>{"use strict";var n=r(24144);r.o(n,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return n.IJsonRpcProvider}}),r.o(n,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return n.formatJsonRpcError}}),r.o(n,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return n.formatJsonRpcRequest}}),r.o(n,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return n.formatJsonRpcResult}}),r.o(n,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return n.getBigIntRpcId}}),r.o(n,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return n.isHttpUrl}}),r.o(n,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return n.isJsonRpcError}}),r.o(n,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return n.isJsonRpcRequest}}),r.o(n,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return n.isJsonRpcResponse}}),r.o(n,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return n.isJsonRpcResult}}),r.o(n,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return n.isLocalhostUrl}}),r.o(n,"isReactNative")&&r.d(t,{isReactNative:function(){return n.isReactNative}}),r.o(n,"isWsUrl")&&r.d(t,{isWsUrl:function(){return n.isWsUrl}}),r.o(n,"payloadId")&&r.d(t,{payloadId:function(){return n.payloadId}})},35115:(e,t,r)=>{"use strict";r.d(t,{eF:()=>o,mE:()=>i,rI:()=>a,vG:()=>s});var n=r(9668);function i(e){return n.jf.includes(e)}function s(e){return Object.keys(n.Uf).includes(e)?n.Uf[e]:n.Uf[n.XW]}function a(e){return Object.values(n.Uf).find(t=>t.code===e)||n.Uf[n.XW]}function o(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}},84052:(e,t,r)=>{"use strict";r.d(t,{ER:()=>s,Im:()=>l,dZ:()=>c,eX:()=>a,e_:()=>o});var n=r(35115),i=r(9668);function s(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function a(e=6){return BigInt(s(e))}function o(e,t,r){return{id:r||s(),jsonrpc:"2.0",method:e,params:t}}function l(e,t){return{id:e,jsonrpc:"2.0",result:t}}function c(e,t,r){var s;return{id:e,jsonrpc:"2.0",error:void 0===(s=t)?(0,n.vG)(i.zR):("string"==typeof s&&(s=Object.assign(Object.assign({},(0,n.vG)(i.fO)),{message:s})),void 0!==r&&(s.data=r),(0,n.mE)(s.code)&&(s=(0,n.rI)(s.code)),s)}}},35169:(e,t,r)=>{"use strict";r.d(t,{IJsonRpcProvider:()=>a.kF,formatJsonRpcError:()=>s.dZ,formatJsonRpcRequest:()=>s.e_,formatJsonRpcResult:()=>s.Im,getBigIntRpcId:()=>s.eX,isHttpUrl:()=>o.q$,isJsonRpcError:()=>l.U$,isJsonRpcRequest:()=>l.p3,isJsonRpcResponse:()=>l.tq,isJsonRpcResult:()=>l.xT,isLocalhostUrl:()=>o.z,isWsUrl:()=>o.A1,parseConnectionError:()=>n.eF,payloadId:()=>s.ER}),r(9668);var n=r(35115),i=r(34890);r.o(i,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),r.o(i,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),r.o(i,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),r.o(i,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),r.o(i,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),r.o(i,"isHttpUrl")&&r.d(t,{isHttpUrl:function(){return i.isHttpUrl}}),r.o(i,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),r.o(i,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),r.o(i,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),r.o(i,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),r.o(i,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),r.o(i,"isReactNative")&&r.d(t,{isReactNative:function(){return i.isReactNative}}),r.o(i,"isWsUrl")&&r.d(t,{isWsUrl:function(){return i.isWsUrl}}),r.o(i,"payloadId")&&r.d(t,{payloadId:function(){return i.payloadId}});var s=r(84052),a=r(90595),o=r(99464),l=r(39632)},90595:(e,t,r)=>{"use strict";r.d(t,{kF:()=>s});class n{}class i extends n{constructor(){super()}}class s extends i{constructor(e){super()}}},99464:(e,t,r)=>{"use strict";function n(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function i(e){return n(e,"^https?:")}function s(e){return n(e,"^wss?:")}function a(e){return RegExp("wss?://localhost(:d{2,5})?").test(e)}r.d(t,{A1:()=>s,q$:()=>i,z:()=>a})},39632:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return n(e)&&"method"in e}function s(e){return n(e)&&(a(e)||o(e))}function a(e){return"result"in e}function o(e){return"error"in e}r.d(t,{U$:()=>o,p3:()=>i,tq:()=>s,xT:()=>a})},84549:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(60429),i=r(54932),s=r(35169);let a=()=>"u">typeof WebSocket||"u">typeof r.g&&"u">typeof r.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket,o=e=>e.split("?")[0],l="u">typeof WebSocket?WebSocket:"u">typeof r.g&&"u">typeof r.g.WebSocket?r.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(73244);class c{constructor(e){if(this.url=e,this.events=new n.EventEmitter,this.registering=!1,!(0,s.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(Error("Connection already closed"));return}this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,i.h)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,s.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{let n=(0,s.isReactNative)()?void 0:{rejectUnauthorized:!(0,s.isLocalhostUrl)(e)},i=new l(e,[],n);a()?i.onerror=e=>{r(this.emitError(e.error))}:i.on("error",e=>{r(this.emitError(e))}),i.onopen=()=>{this.onOpen(i),t(i)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,i.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,s.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,s.parseConnectionError)(e,o(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${o(this.url)}`));return this.events.emit("register_error",t),t}}},73244:e=>{"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},24374:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});var n=r(54261),i=r(75927).hp;function s(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function a(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return a(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let o="base64:";function l(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function c(e){return(e=l(e))?e+":":""}let u=()=>{let e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function d(e,t,r){return e.watch?e.watch((e,n)=>t(e,r+n)):()=>{}}async function h(e){"function"==typeof e.dispose&&await s(e.dispose)}var f=r(67792),p=r(54932),y=(e={})=>{let t;let r=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>r+e;return e.dbName&&e.storeName&&(t=(0,f.y$)(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await (0,f.Jt)(n(e),t)>"u"),getItem:async e=>await (0,f.Jt)(n(e),t)??null,setItem:(e,r)=>(0,f.hZ)(n(e),r,t),removeItem:e=>(0,f.yH)(n(e),t),getKeys:()=>(0,f.HP)(t),clear:()=>(0,f.IU)(t)}};class g{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||u()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},f=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),p=(e,r)=>{if(t.watching)for(let n of(r=l(r),t.watchListeners))n(e,r)},y=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await d(t.mounts[e],p,e)},g=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},m=(e,t,n)=>{let i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(let n of e){let e="string"==typeof n,i=l(e?n:n.key),a=e?void 0:n.value,o=e||!n.options?t:{...t,...n.options},c=r(i);s(c).items.push({key:i,value:a,relativeKey:c.relativeKey,options:o})}return Promise.all([...i.values()].map(e=>n(e))).then(e=>e.flat())},b={hasItem(e,t={}){let{relativeKey:n,driver:i}=r(e=l(e));return s(i.hasItem,n,t)},getItem(e,t={}){let{relativeKey:i,driver:a}=r(e=l(e));return s(a.getItem,i,t).then(e=>(0,n.Ay)(e))},getItems:(e,t={})=>m(e,t,e=>e.driver.getItems?s(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return l(e.join(":"))}(e.base,t.key),value:(0,n.Ay)(t.value)}))):Promise.all(e.items.map(t=>s(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:(0,n.Ay)(e)}))))),getItemRaw(e,t={}){let{relativeKey:n,driver:a}=r(e=l(e));return a.getItemRaw?s(a.getItemRaw,n,t):s(a.getItem,n,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(o)?(t=e.slice(o.length),globalThis.Buffer?i.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,n={}){if(void 0===t)return b.removeItem(e);let{relativeKey:i,driver:o}=r(e=l(e));o.setItem&&(await s(o.setItem,i,a(t),n),o.watch||p("update",e))},async setItems(e,t){await m(e,t,async e=>{if(e.driver.setItems)return s(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:a(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>s(e.driver.setItem,t.relativeKey,a(t.value),t.options)))})},async setItemRaw(e,t,n={}){if(void 0===t)return b.removeItem(e,n);let{relativeKey:a,driver:c}=r(e=l(e));if(c.setItemRaw)await s(c.setItemRaw,a,t,n);else{if(!c.setItem)return;await s(c.setItem,a,"string"==typeof t?t:o+(globalThis.Buffer?i.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))),n)}c.watch||p("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:n,driver:i}=r(e=l(e));i.removeItem&&(await s(i.removeItem,n,t),(t.removeMeta||t.removeMata)&&await s(i.removeItem,n+"$",t),i.watch||p("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:i,driver:a}=r(e=l(e)),o=Object.create(null);if(a.getMeta&&Object.assign(o,await s(a.getMeta,i,t)),!t.nativeOnly){let e=await s(a.getItem,i+"$",t).then(e=>(0,n.Ay)(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(o,e))}return o},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=f(e=c(e),!0),n=[],i=[],a=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(a=!1),await s(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+l(r);n.some(e=>t.startsWith(e))||i.push(t)}n=[e.mountpoint,...n.filter(t=>!t.startsWith(e.mountpoint))]}let o=void 0!==t.maxDepth&&!a;return i.filter(r=>{var n;return(!o||function(e,t){if(void 0===t)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}(r,t.maxDepth))&&((n=e)?r.startsWith(n)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=c(e),await Promise.all(f(e,!1).map(async e=>e.driver.clear?s(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>h(e)))},watch:async e=>(await y(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await g()}),async unwatch(){t.watchListeners=[],await g()},mount(e,r){if((e=c(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(d(r,p,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),b},async unmount(e,r=!0){(e=c(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),r&&await h(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=l(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>f(e=l(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>b.getKeys(e,t),get:(e,t={})=>b.getItem(e,t),set:(e,t,r={})=>b.setItem(e,t,r),has:(e,t={})=>b.hasItem(e,t),del:(e,t={})=>b.removeItem(e,t),remove:(e,t={})=>b.removeItem(e,t)};return b}({driver:y({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,p.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var m="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},b={exports:{}};function w(e){var t;return[e[0],(0,p.j)(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof m&&m.localStorage?b.exports=m.localStorage:"u">typeof window&&window.localStorage?b.exports=window.localStorage:b.exports=new e}();class v{constructor(){this.localStorage=b.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(w)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return(0,p.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,p.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}let _=async(e,t,r)=>{let n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1){r(t);return}let s=await e.getKeys();if(!s.length){r(t);return}let a=[];for(;s.length;){let r=s.shift();if(!r)continue;let n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){let n=await e.getItem(r);await t.setItem(r,n),a.push(r)}}await t.setItem(n,1),r(t),x(e,a)},x=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class E{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new v;this.storage=e;try{let t=new g;_(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}},1212:(e,t,r)=>{"use strict";r.d(t,{CG:()=>n});let n={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},14922:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>tI,FA:()=>tS,TZ:()=>tA,UF:()=>tE});var n=r(99652),i=r(54932);function s(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let o="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,l=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function c(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),s(e),e}class u{clone(){return this._cloneInto()}}function d(e=32){if(o&&"function"==typeof o.getRandomValues)return o.getRandomValues(new Uint8Array(e));if(o&&"function"==typeof o.randomBytes)return o.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class h extends u{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l(this.buffer)}update(e){a(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=c(e)).length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=l(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a(this),function(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,c=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let c=l(e),u=this.outputLen;if(u%4)throw Error("_sha2: outputLen should be aligned to 32bit");let d=u/4,h=this.get();if(d>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)c.setUint32(4*e,h[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let f=BigInt(0x100000000-1),p=BigInt(32),y={split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:a}=function(e,t=!1){return t?{h:Number(e&f),l:Number(e>>p&f)}:{h:0|Number(e>>p&f),l:0|Number(e&f)}}(e[i],t);[r[i],n[i]]=[s,a]}return[r,n]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[g,m]=y.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),b=new Uint32Array(80),w=new Uint32Array(80);class v extends h{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y]}set(e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)b[r]=e.getUint32(t),w[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|b[e-15],r=0|w[e-15],n=y.rotrSH(t,r,1)^y.rotrSH(t,r,8)^y.shrSH(t,r,7),i=y.rotrSL(t,r,1)^y.rotrSL(t,r,8)^y.shrSL(t,r,7),s=0|b[e-2],a=0|w[e-2],o=y.rotrSH(s,a,19)^y.rotrBH(s,a,61)^y.shrSH(s,a,6),l=y.rotrSL(s,a,19)^y.rotrBL(s,a,61)^y.shrSL(s,a,6),c=y.add4L(i,l,w[e-7],w[e-16]),u=y.add4H(c,n,o,b[e-7],b[e-16]);b[e]=0|u,w[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:v,Hh:_,Hl:x}=this;for(let e=0;e<80;e++){let t=y.rotrSH(u,d,14)^y.rotrSH(u,d,18)^y.rotrBH(u,d,41),E=y.rotrSL(u,d,14)^y.rotrSL(u,d,18)^y.rotrBL(u,d,41),I=u&h^~u&p,A=d&f^~d&v,S=y.add5L(x,E,A,m[e],w[e]),k=y.add5H(S,_,t,I,g[e],b[e]),C=0|S,T=y.rotrSH(r,n,28)^y.rotrBH(r,n,34)^y.rotrBH(r,n,39),O=y.rotrSL(r,n,28)^y.rotrBL(r,n,34)^y.rotrBL(r,n,39),P=r&i^r&a^i&a,R=n&s^n&o^s&o;_=0|p,x=0|v,p=0|h,v=0|f,h=0|u,f=0|d,({h:u,l:d}=y.add(0|l,0|c,0|k,0|C)),l=0|a,c=0|o,a=0|i,o=0|s,i=0|r,s=0|n;let D=y.add3L(C,O,R);r=y.add3H(D,k,T,P),n=0|D}({h:r,l:n}=y.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=y.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=y.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:c}=y.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=y.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=y.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:v}=y.add(0|this.Gh,0|this.Gl,0|p,0|v)),({h:_,l:x}=y.add(0|this.Hh,0|this.Hl,0|_,0|x)),this.set(r,n,i,s,a,o,l,c,u,d,h,f,p,v,_,x)}roundClean(){b.fill(0),w.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let _=function(e){let t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new v),x=BigInt(0),E=BigInt(1),I=BigInt(2);function A(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function S(e){if(!A(e))throw Error("Uint8Array expected")}function k(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let C=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function T(e){S(e);let t="";for(let r=0;r<e.length;r++)t+=C[e[r]];return t}function O(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?x:BigInt("0x"+e)}let P={_0:48,_9:57,A:65,F:70,a:97,f:102};function R(e){return e>=P._0&&e<=P._9?e-P._0:e>=P.A&&e<=P.F?e-(P.A-10):e>=P.a&&e<=P.f?e-(P.a-10):void 0}function D(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=R(e.charCodeAt(i)),s=R(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function N(e){return S(e),O(T(Uint8Array.from(e).reverse()))}function U(e,t){return D(e.toString(16).padStart(2*t,"0"))}function M(e,t){return U(e,t).reverse()}function B(e,t,r){let n;if("string"==typeof t)try{n=D(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(A(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function j(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];S(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let L=e=>"bigint"==typeof e&&x<=e;function F(e,t,r,n){if(!(L(t)&&L(r)&&L(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let $=e=>(I<<BigInt(e-1))-E,z={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||A(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function q(e,t,r={}){let n=(t,r,n)=>{let i=z[r];if("function"!=typeof i)throw Error("invalid validator function");let s=e[t];if(!(n&&void 0===s)&&!i(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function W(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let H=BigInt(0),V=BigInt(1),K=BigInt(2),G=BigInt(3),Z=BigInt(4),J=BigInt(5),Y=BigInt(8);function Q(e,t){let r=e%t;return r>=H?r:t+r}function X(e,t,r){let n=e;for(;t-- >H;)n*=n,n%=r;return n}function ee(e,t){if(e===H)throw Error("invert: expected non-zero number");if(t<=H)throw Error("invert: expected positive modulus, got "+t);let r=Q(e,t),n=t,i=H,s=V;for(;r!==H;){let e=n/r,t=n%r,a=i-s*e;n=r,r=t,i=s,s=a}if(n!==V)throw Error("invert: does not exist");return Q(i,t)}let et=(e,t)=>(Q(e,t)&V)===V,er=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function en(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ei(e,t,r=!1,n={}){let i;if(e<=H)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:a}=en(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:a,MASK:$(s),ZERO:H,ONE:V,create:t=>Q(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return H<=t&&t<e},is0:e=>e===H,isOdd:e=>(e&V)===V,neg:t=>Q(-t,e),eql:(e,t)=>e===t,sqr:t=>Q(t*t,e),add:(t,r)=>Q(t+r,e),sub:(t,r)=>Q(t-r,e),mul:(t,r)=>Q(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<H)throw Error("invalid exponent, negatives unsupported");if(r===H)return e.ONE;if(r===V)return t;let n=e.ONE,i=t;for(;r>H;)r&V&&(n=e.mul(n,i)),i=e.sqr(i),r>>=V;return n})(o,e,t),div:(t,r)=>Q(t*ee(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ee(t,e),sqrt:n.sqrt||(t=>(i||(i=function(e){if(e%Z===G){let t=(e+V)/Z;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%Y===J){let t=(e-J)/Y;return function(e,r){let n=e.mul(r,K),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,K),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n;let i=(e-V)/K;for(t=e-V,r=0;t%K===H;t/=K,r++);for(n=K;n<e&&function(e,t,r){if(t<H)throw Error("invalid exponent, negatives unsupported");if(r<=H)throw Error("invalid modulus");if(r===V)return H;let n=V;for(;t>H;)t&V&&(n=n*e%r),e=e*e%r,t>>=V;return n}(n,i,e)!==e-V;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+V)/Z;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+V)/K;return function(e,a){if(e.pow(a,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),c=e.pow(a,s),u=e.pow(a,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,V<<BigInt(o-t-1));l=e.sqr(r),c=e.mul(c,r),u=e.mul(u,l),o=t}return c}}(e)}(e)),i(o,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?M(e,a):U(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?N(e):O(T(e))}});return Object.freeze(o)}let es=BigInt(0),ea=BigInt(1);function eo(e,t){let r=t.negate();return e?r:t}function el(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ec(e,t){return el(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let eu=new WeakMap,ed=new WeakMap;function eh(e){return ed.get(e)||1}let ef=BigInt(0),ep=BigInt(1),ey=BigInt(2),eg=BigInt(8),em={zip215:!0};BigInt(0),BigInt(1);let eb=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ew=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let ev=BigInt(1),e_=BigInt(2);BigInt(3);let ex=BigInt(5),eE=BigInt(8),eI=ei(eb,void 0,!0),eA=function(e){var t;let r=function(e){let t=(q(e.Fp,er.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),q(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...en(e.n,e.nBitLength),...e,p:e.Fp.ORDER}));return q(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:i,prehash:s,hash:a,randomBytes:o,nByteLength:l,h:c}=r,u=ey<<BigInt(8*l)-ep,d=n.create,h=ei(r.n,r.nBitLength),f=r.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:ef}}}),p=r.adjustScalarBytes||(e=>e),y=r.domain||((e,t,r)=>{if(k("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function g(e,t){F("coordinate "+e,t,ef,u)}function m(e){if(!(e instanceof v))throw Error("ExtendedPoint expected")}let b=W((e,t)=>{let{ex:r,ey:i,ez:s}=e,a=e.is0();null==t&&(t=a?eg:n.inv(s));let o=d(r*t),l=d(i*t),c=d(s*t);if(a)return{x:ef,y:ep};if(c!==ep)throw Error("invZ was invalid");return{x:o,y:l}}),w=W(e=>{let{a:t,d:n}=r;if(e.is0())throw Error("bad point: ZERO");let{ex:i,ey:s,ez:a,et:o}=e,l=d(i*i),c=d(s*s),u=d(a*a),h=d(u*u),f=d(l*t);if(d(u*d(f+c))!==d(h+d(n*d(l*c))))throw Error("bad point: equation left != right (1)");if(d(i*s)!==d(a*o))throw Error("bad point: equation left != right (2)");return!0});class v{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,g("x",e),g("y",t),g("z",r),g("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof v)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return g("x",t),g("y",r),new v(t,r,ep,d(t*r))}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(v.fromAffine)}static msm(e,t){return function(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,s=function(e){let t;for(t=0;e>x;e>>=E,t+=1);return t}(BigInt(r.length)),a=s>12?s-3:s>4?s-2:s?2:1,o=(1<<a)-1,l=Array(o+1).fill(i),c=Math.floor((t.BITS-1)/a)*a,u=i;for(let e=c;e>=0;e-=a){l.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(o));l[i]=l[i].add(r[t])}let t=i;for(let e=l.length-1,r=i;e>0;e--)r=r.add(l[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<a;e++)u=u.double()}return u}(v,h,e,t)}_setWindowSize(e){A.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){m(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:a}=e,o=d(t*a),l=d(i*n),c=d(r*a),u=d(s*n);return o===l&&c===u}is0(){return this.equals(v.ZERO)}negate(){return new v(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){let{a:e}=r,{ex:t,ey:n,ez:i}=this,s=d(t*t),a=d(n*n),o=d(ey*d(i*i)),l=d(e*s),c=t+n,u=d(d(c*c)-s-a),h=l+a,f=h-o,p=l-a,y=d(u*f),g=d(h*p),m=d(u*p);return new v(y,g,d(f*h),m)}add(e){m(e);let{a:t,d:n}=r,{ex:i,ey:s,ez:a,et:o}=this,{ex:l,ey:c,ez:u,et:h}=e;if(t===BigInt(-1)){let e=d((s-i)*(c+l)),t=d((s+i)*(c-l)),r=d(t-e);if(r===ef)return this.double();let n=d(a*ey*h),f=d(o*ey*u),p=f+n,y=t+e,g=f-n,m=d(p*r),b=d(y*g),w=d(p*g);return new v(m,b,d(r*y),w)}let f=d(i*l),p=d(s*c),y=d(o*n*h),g=d(a*u),b=d((i+s)*(l+c)-f-p),w=g-y,_=g+y,x=d(p-t*f),E=d(b*w),I=d(_*x),A=d(b*x);return new v(E,I,d(w*_),A)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,e,v.normalizeZ)}multiply(e){F("scalar",e,ep,i);let{p:t,f:r}=this.wNAF(e);return v.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=v.ZERO){return F("scalar",e,ef,i),e===ef?I:this.is0()||e===ep?this:A.wNAFCachedUnsafe(this,e,v.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,i).is0()}toAffine(e){return b(this,e)}clearCofactor(){let{h:e}=r;return e===ep?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:i,a:s}=r,a=n.BYTES;e=B("pointHex",e,a),k("zip215",t);let o=e.slice(),l=e[a-1];o[a-1]=-129&l;let c=N(o);F("pointHex.y",c,ef,t?u:n.ORDER);let h=d(c*c),{isValid:p,value:y}=f(d(h-ep),d(i*h-s));if(!p)throw Error("Point.fromHex: invalid y coordinate");let g=(y&ep)===ep,m=(128&l)!=0;if(!t&&y===ef&&m)throw Error("Point.fromHex: x=0 and x_0=1");return m!==g&&(y=d(-y)),v.fromAffine({x:y,y:c})}static fromPrivateKey(e){return S(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=M(t,n.BYTES);return r[r.length-1]|=e&ep?128:0,r}toHex(){return T(this.toRawBytes())}}v.BASE=new v(r.Gx,r.Gy,ep,d(r.Gx*r.Gy)),v.ZERO=new v(ef,ep,ep,ef);let{BASE:_,ZERO:I}=v,A=(t=8*l,{constTimeNegate:eo,hasPrecomputes:e=>1!==eh(e),unsafeLadder(e,t,r=v.ZERO){let n=e;for(;t>es;)t&ea&&(r=r.add(n)),n=n.double(),t>>=ea;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=ec(r,t),s=[],a=e,o=a;for(let e=0;e<n;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(e,r,n){let{windows:i,windowSize:s}=ec(e,t),a=v.ZERO,o=v.BASE,l=BigInt(2**e-1),c=2**e,u=BigInt(e);for(let e=0;e<i;e++){let t=e*s,i=Number(n&l);n>>=u,i>s&&(i-=c,n+=ea);let d=t+Math.abs(i)-1,h=e%2!=0,f=i<0;0===i?o=o.add(eo(h,r[t])):a=a.add(eo(f,r[d]))}return{p:a,f:o}},wNAFUnsafe(e,r,n,i=v.ZERO){let{windows:s,windowSize:a}=ec(e,t),o=BigInt(2**e-1),l=2**e,c=BigInt(e);for(let e=0;e<s;e++){let t=e*a;if(n===es)break;let s=Number(n&o);if(n>>=c,s>a&&(s-=l,n+=ea),0===s)continue;let u=r[t+Math.abs(s)-1];s<0&&(u=u.negate()),i=i.add(u)}return i},getPrecomputes(e,t,r){let n=eu.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&eu.set(t,r(n))),n},wNAFCached(e,t,r){let n=eh(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=eh(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){el(r,t),ed.set(e,r),eu.delete(e)}});function S(e){let t=n.BYTES;e=B("private key",e,t);let r=B("hashed private key",a(e),2*t),s=p(r.slice(0,t)),o=r.slice(t,2*t),l=Q(N(s),i),c=_.multiply(l),u=c.toRawBytes();return{head:s,prefix:o,scalar:l,point:c,pointBytes:u}}function C(e=new Uint8Array,...t){return Q(N(a(y(j(...t),B("context",e),!!s))),i)}return _._setWindowSize(8),{CURVE:r,getPublicKey:function(e){return S(e).pointBytes},sign:function(e,t,r={}){e=B("message",e),s&&(e=s(e));let{prefix:a,scalar:o,pointBytes:l}=S(t),c=C(r.context,a,e),u=_.multiply(c).toRawBytes(),d=Q(c+C(r.context,u,l,e)*o,i);return F("signature.s",d,ef,i),B("result",j(u,M(d,n.BYTES)),2*n.BYTES)},verify:function(e,t,r,i=em){let a,o,l;let{context:c,zip215:u}=i,d=n.BYTES;e=B("signature",e,2*d),t=B("message",t),r=B("publicKey",r,d),void 0!==u&&k("zip215",u),s&&(t=s(t));let h=N(e.slice(d,2*d));try{a=v.fromHex(r,u),o=v.fromHex(e.slice(0,d),u),l=_.multiplyUnsafe(h)}catch{return!1}if(!u&&a.isSmallOrder())return!1;let f=C(c,o.toRawBytes(),a.toRawBytes(),t);return o.add(a.multiplyUnsafe(f)).subtract(l).clearCofactor().equals(v.ZERO)},ExtendedPoint:v,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>o(n.BYTES),precompute:(e=8,t=v.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:eI,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:eE,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:_,randomBytes:d,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=Q(t*t*t,eb),n=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=e*e%eb*e%eb,a=X(s,e_,eb)*s%eb,o=X(a,ev,eb)*e%eb,l=X(o,ex,eb)*o%eb,c=X(l,t,eb)*l%eb,u=X(c,r,eb)*c%eb,d=X(u,n,eb)*u%eb,h=X(d,i,eb)*d%eb,f=X(h,i,eb)*d%eb,p=X(f,t,eb)*l%eb;return{pow_p_5_8:X(p,e_,eb)*e%eb,b2:s}}(e*Q(r*r*t,eb)).pow_p_5_8,i=Q(e*r*n,eb),s=Q(t*i*i,eb),a=i,o=Q(i*ew,eb),l=s===e,c=s===Q(-e,eb),u=s===Q(-e*ew,eb);return l&&(i=a),(c||u)&&(i=o),et(i,eb)&&(i=Q(-i,eb)),{isValid:l||c,value:i}}}),eS="base64url",ek="utf8",eC="utf8",eT="base58btc";function eO(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function eP(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?eO(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function eR(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=eP(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return eO(r)}var eD=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==r[a])throw TypeError(s+" is ambiguous");r[a]=i}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var s=(e.length-t)*c+1>>>0,a=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=o*a[h]>>>0,a[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===a[f];)f++;for(var p=new Uint8Array(n+(s-f)),y=n;f!==s;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var a=(s-i)*u+1>>>0,c=new Uint8Array(a);i!==s;){for(var d=t[i],h=0,f=a-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%o>>>0,d=d/o>>>0;if(0!==d)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=l.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};let eN=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},eU=e=>new TextEncoder().encode(e),eM=e=>new TextDecoder().decode(e);class eB{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ej{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return eF(this,e)}}class eL{constructor(e){this.decoders=e}or(e){return eF(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let eF=(e,t)=>new eL({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class e${constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new eB(e,t,r),this.decoder=new ej(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let ez=({name:e,prefix:t,encode:r,decode:n})=>new e$(e,t,r,n),eq=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=eD(r,t);return ez({prefix:e,name:t,encode:n,decode:e=>eN(i(e))})},eW=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),o=0,l=0,c=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);l=l<<r|s,(o+=r)>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw SyntaxError("Unexpected end of data");return a},eH=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},eV=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ez({prefix:t,name:e,encode:e=>eH(e,n,r),decode:t=>eW(t,n,r,e)});var eK=Object.freeze({__proto__:null,identity:ez({prefix:"\0",name:"identity",encode:e=>eM(e),decode:e=>eU(e)})}),eG=Object.freeze({__proto__:null,base2:eV({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),eZ=Object.freeze({__proto__:null,base8:eV({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),eJ=Object.freeze({__proto__:null,base10:eq({prefix:"9",name:"base10",alphabet:"0123456789"})}),eY=Object.freeze({__proto__:null,base16:eV({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:eV({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let eQ=eV({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eX=eV({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),e0=eV({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),e1=eV({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),e2=eV({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),e6=eV({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var e5=Object.freeze({__proto__:null,base32:eQ,base32upper:eX,base32pad:e0,base32padupper:e1,base32hex:e2,base32hexupper:e6,base32hexpad:eV({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:eV({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:eV({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),e8=Object.freeze({__proto__:null,base36:eq({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:eq({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),e3=Object.freeze({__proto__:null,base58btc:eq({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:eq({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let e4=eV({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var e9=Object.freeze({__proto__:null,base64:e4,base64pad:eV({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:eV({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:eV({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let e7=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),te=e7.reduce((e,t,r)=>(e[r]=t,e),[]),tt=e7.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var tr=Object.freeze({__proto__:null,base256emoji:ez({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=te[t],"")},decode:function(e){let t=[];for(let r of e){let e=tt[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function tn(e,t){var r,n=0,t=t||0,i=0,s=t,a=e.length;do{if(s>=a)throw tn.bytes=0,RangeError("Could not decode varint");r=e[s++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return tn.bytes=s-t,n}var ti={encode:function e(t,r,n){r=r||[],n=n||0;for(var i=n;t>=0x80000000;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let ts=(e,t,r=0)=>(ti.encode(e,t,r),t),ta=e=>ti.encodingLength(e),to=(e,t)=>{let r=t.byteLength,n=ta(e),i=n+ta(r),s=new Uint8Array(i+r);return ts(e,s,0),ts(r,s,n),s.set(t,i),new tl(e,r,t,s)};class tl{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let tc=({name:e,code:t,encode:r})=>new tu(e,t,r);class tu{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?to(this.code,t):t.then(e=>to(this.code,e))}throw Error("Unknown type, must be binary type")}}let td=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var th=Object.freeze({__proto__:null,sha256:tc({name:"sha2-256",code:18,encode:td("SHA-256")}),sha512:tc({name:"sha2-512",code:19,encode:td("SHA-512")})}),tf=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:eN,digest:e=>to(0,eN(e))}});new TextEncoder,new TextDecoder;let tp={...eK,...eG,...eZ,...eJ,...eY,...e5,...e8,...e3,...e9,...tr};function ty(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...th,...tf});let tg=ty("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),tm=ty("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=eP((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),tb={utf8:tg,"utf-8":tg,hex:tp.base16,latin1:tm,ascii:tm,binary:tm,...tp};function tw(e,t="utf8"){let r=tb[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function tv(e,t="utf8"){let r=tb[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?eO(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function t_(e){return(0,i.j)(tw(tv(e,eS),ek))}function tx(e){return tw(tv((0,i.h)(e),ek),eS)}function tE(e){return["did","key","z"+tw(eR([tv("K36",eT),e]),eT)].join(":")}function tI(e){let t=e.split("."),r=t_(t[0]);return{header:r,payload:t_(t[1]),signature:tv(t[2],eS),data:tv(t.slice(0,2).join("."),eC)}}function tA(e=d(32)){let t=eA.getPublicKey(e);return{secretKey:eR([e,t]),publicKey:t}}async function tS(e,t,r,i,s=(0,n.fromMiliseconds)(Date.now())){var a,o;let l={alg:"EdDSA",typ:"JWT"},c={iss:tE(i.publicKey),sub:e,aud:t,iat:s,exp:s+r},u=tv([tx((a={header:l,payload:c}).header),tx(a.payload)].join("."),eC);return[tx((o={header:l,payload:c,signature:eA.sign(u,i.secretKey.slice(0,32))}).header),tx(o.payload),tw(o.signature,eS)].join(".")}},54932:(e,t,r)=>{"use strict";r.d(t,{h:()=>a,j:()=>s});let n=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),i=e=>JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t);function s(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return i(e)}catch(t){return e}}function a(e){return"string"==typeof e?e:n(e)||""}},41842:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(65656);n.__exportStar(r(91302),t),n.__exportStar(r(30099),t)},91302:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},30099:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},99652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(65656);n.__exportStar(r(67590),t),n.__exportStar(r(28895),t),n.__exportStar(r(36858),t),n.__exportStar(r(41842),t)},36858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(65656).__exportStar(r(80233),t)},80233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;class r{}t.IWatch=r},36801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let n=r(41842);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},71825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},67590:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(65656);n.__exportStar(r(71825),t),n.__exportStar(r(36801),t)},28895:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},65656:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>w,__asyncValues:()=>_,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>S,__createBinding:()=>h,__decorate:()=>o,__exportStar:()=>f,__extends:()=>i,__generator:()=>d,__importDefault:()=>I,__importStar:()=>E,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>y,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>m,__values:()=>p});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}function h(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||o(e,t)})})}function o(e,t){try{var r;(r=i[e](t)).value instanceof b?Promise.resolve(r.value.v).then(l,c):u(s[0][2],r)}catch(e){u(s[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function v(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},15208:(e,t)=>{"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},19973:(e,t,r)=>{"use strict";t.g=void 0;let n=r(15208);t.g=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function i(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let n=r[e],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let s=((r=i("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),a=i("description","og:description","twitter:description","keywords");return{description:a,url:t.origin,icons:function(){let r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){let i=r[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e){if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let n=t.pathname.split("/");n.pop(),r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;n.push(r)}else n.push(e)}}}return n}(),name:s}}},3836:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,s=l(e),a=s[0],o=s[1],c=new i((a+o)*3/4-o),u=0,d=o>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],a=0,o=n-i;a<o;a+=16383)s.push(function(e,t,n){for(var i,s=[],a=t;a<n;a+=3)s.push(r[(i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)r[a]=s[a],n[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},73830:(e,t,r)=>{let n=r(86561);function i(e,t,r){let n=e[t]+e[r],i=e[t+1]+e[r+1];n>=0x100000000&&i++,e[t]=n,e[t+1]=i}function s(e,t,r,n){let i=e[t]+r;r<0&&(i+=0x100000000);let s=e[t+1]+n;i>=0x100000000&&s++,e[t]=i,e[t+1]=s}function a(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function o(e,t,r,n,a,o){let l=d[a],c=d[a+1],h=d[o],f=d[o+1];i(u,e,t),s(u,e,l,c);let p=u[n]^u[e],y=u[n+1]^u[e+1];u[n]=y,u[n+1]=p,i(u,r,n),p=u[t]^u[r],y=u[t+1]^u[r+1],u[t]=p>>>24^y<<8,u[t+1]=y>>>24^p<<8,i(u,e,t),s(u,e,h,f),p=u[n]^u[e],y=u[n+1]^u[e+1],u[n]=p>>>16^y<<16,u[n+1]=y>>>16^p<<16,i(u,r,n),p=u[t]^u[r],y=u[t+1]^u[r+1],u[t]=y>>>31^p<<1,u[t+1]=p>>>31^y<<1}let l=new Uint32Array([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),d=new Uint32Array(32);function h(e,t){let r=0;for(r=0;r<16;r++)u[r]=e.h[r],u[r+16]=l[r];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/0x100000000,t&&(u[28]=~u[28],u[29]=~u[29]),r=0;r<32;r++)d[r]=a(e.b,4*r);for(r=0;r<12;r++)o(0,8,16,24,c[16*r+0],c[16*r+1]),o(2,10,18,26,c[16*r+2],c[16*r+3]),o(4,12,20,28,c[16*r+4],c[16*r+5]),o(6,14,22,30,c[16*r+6],c[16*r+7]),o(0,10,20,30,c[16*r+8],c[16*r+9]),o(2,12,22,24,c[16*r+10],c[16*r+11]),o(4,14,16,26,c[16*r+12],c[16*r+13]),o(6,8,18,28,c[16*r+14],c[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^u[r]^u[r+16]}let f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,r,n){if(0===e||e>64)throw Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,r&&f.set(r,32),n&&f.set(n,48);for(let e=0;e<16;e++)i.h[e]=l[e]^a(f,4*e);return t&&(y(i,t),i.c=128),i}function y(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function g(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function m(e,t,r,i,s){r=r||64,e=n.normalizeInput(e),i&&(i=n.normalizeInput(i)),s&&(s=n.normalizeInput(s));let a=p(r,t,i,s);return y(a,e),g(a)}e.exports={blake2b:m,blake2bHex:function(e,t,r,i,s){let a=m(e,t,r,i,s);return n.toHex(a)},blake2bInit:p,blake2bUpdate:y,blake2bFinal:g}},21681:(e,t,r)=>{let n=r(86561);function i(e,t,r,n,i,a){l[e]=l[e]+l[t]+i,l[n]=s(l[n]^l[e],16),l[r]=l[r]+l[n],l[t]=s(l[t]^l[r],12),l[e]=l[e]+l[t]+a,l[n]=s(l[n]^l[e],8),l[r]=l[r]+l[n],l[t]=s(l[t]^l[r],7)}function s(e,t){return e>>>t^e<<32-t}let a=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),o=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),c=new Uint32Array(16);function u(e,t){let r=0;for(r=0;r<8;r++)l[r]=e.h[r],l[r+8]=a[r];for(l[12]^=e.t,l[13]^=e.t/0x100000000,t&&(l[14]=~l[14]),r=0;r<16;r++){var n,s;c[r]=(n=e.b)[s=4*r]^n[s+1]<<8^n[s+2]<<16^n[s+3]<<24}for(r=0;r<10;r++)i(0,4,8,12,c[o[16*r+0]],c[o[16*r+1]]),i(1,5,9,13,c[o[16*r+2]],c[o[16*r+3]]),i(2,6,10,14,c[o[16*r+4]],c[o[16*r+5]]),i(3,7,11,15,c[o[16*r+6]],c[o[16*r+7]]),i(0,5,10,15,c[o[16*r+8]],c[o[16*r+9]]),i(1,6,11,12,c[o[16*r+10]],c[o[16*r+11]]),i(2,7,8,13,c[o[16*r+12]],c[o[16*r+13]]),i(3,4,9,14,c[o[16*r+14]],c[o[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=l[r]^l[r+8]}function d(e,t){if(!(e>0&&e<=32))throw Error("Incorrect output length, should be in [1, 32]");let r=t?t.length:0;if(t&&!(r>0&&r<=32))throw Error("Incorrect key length, should be in [1, 32]");let n={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=0x1010000^r<<8^e,r>0&&(h(n,t),n.c=64),n}function h(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,u(e,!1),e.c=0),e.b[e.c++]=t[r]}function f(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;u(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function p(e,t,r){r=r||32,e=n.normalizeInput(e);let i=d(r,t);return h(i,e),f(i)}e.exports={blake2s:p,blake2sHex:function(e,t,r){let i=p(e,t,r);return n.toHex(i)},blake2sInit:d,blake2sUpdate:h,blake2sFinal:f}},17783:(e,t,r)=>{let n=r(73830),i=r(21681);e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},86561:e=>{function t(e){return(0x100000000+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else if("string"==typeof e)t=new TextEncoder().encode(e);else throw Error("Input must be an string, Buffer or Uint8Array");return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,r,n){let i="\n"+e+" = ";for(let s=0;s<r.length;s+=2){if(32===n)i+=t(r[s]).toUpperCase(),i+=" ",i+=t(r[s+1]).toUpperCase();else if(64===n)i+=t(r[s+1]).toUpperCase(),i+=t(r[s]).toUpperCase();else throw Error("Invalid size "+n);s%6==4?i+="\n"+Array(e.length+4).join(" "):s<r.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,r){let n=new Date().getTime(),i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;let s=new Date().getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let s=0;s<r;s++){let r=e(i),s=new Date().getTime(),a=s-n;n=s,console.log("Hashed in "+a+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/1048576/(a/1e3)*100)/100+" MB PER SECOND")}}}},75927:(e,t,r)=>{"use strict";let n=r(3836),i=r(84981),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),n=a(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(B(e,Uint8Array)){let t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(B(e,SharedArrayBuffer)||e&&B(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);let i=function(e){var t;if(o.isBuffer(e)){let t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),a(e<0?0:0|f(e))}function d(e){let t=e.length<0?0:0|f(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),n}function f(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(i)return n?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=j[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var s,a;return s=t,a=r,0===s&&a===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r=+r)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let s,a=1,o=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,o/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(s=r;s<o;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===l)return n*a}else -1!==n&&(s-=s-n),n=-1}else for(r+l>o&&(r=o-l),s=r;s>=0;s--){let r=!0;for(let n=0;n<l;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return -1}function w(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,o,l;switch(a){case 1:t<128&&(s=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(s=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],(192&r)==128&&(192&n)==128&&(192&o)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function v(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function x(e,t,r,n,i){O(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function E(e,t,r,n,i){O(t,n,i,e,r,7);let s=Number(t&BigInt(0xffffffff));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let a=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function I(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function A(e,t,r,n,s){return t=+t,r>>>=0,s||I(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function S(e,t,r,n,s){return t=+t,r>>>=0,s||I(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.hp=o,t.IS=50,o.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return(c(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(B(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(B(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(o.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?w(this,0,e):y.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(B(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let s=i-n,a=r-t,l=Math.min(s,a),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==u[e]){s=c[e],a=u[e];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){var i,s,a,o,l,c,u,d;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let f=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,M(N(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return a=t,o=r,M(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,o);case"base64":return l=t,c=r,M(U(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,d=r,M(function(e,t){let r,n;let i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-u),this,u,d);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=L(function(e){P(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=L(function(e){P(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&R(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||v(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||v(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=L(function(e){P(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),o.prototype.readBigInt64BE=L(function(e){P(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&R(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=L(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=L(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=L(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=L(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};let k={};function C(e,t,r){k[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function T(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function O(e,t,r,n,i,s){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=s>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new k.ERR_OUT_OF_RANGE("value",n,e)}P(i,"offset"),(void 0===n[i]||void 0===n[i+s])&&R(i,n.length-(s+1))}function P(e,t){if("number"!=typeof e)throw new k.ERR_INVALID_ARG_TYPE(t,"number",e)}function R(e,t,r){if(Math.floor(e)!==e)throw P(e,r),new k.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new k.ERR_BUFFER_OUT_OF_BOUNDS;throw new k.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}C("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),C("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),C("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=T(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=T(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let D=/[^+/0-9A-Za-z-_]/g;function N(e,t){let r;t=t||1/0;let n=e.length,i=null,s=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function U(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let j=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function L(e){return"undefined"==typeof BigInt?F:e}function F(){throw Error("BigInt not supported")}},4247:e=>{"use strict";e.exports=function e(t){if("number"==typeof t&&isNaN(t))throw Error("NaN is not allowed");if("number"==typeof t&&!isFinite(t))throw Error("Infinity is not allowed");if(null===t||"object"!=typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){let r=t.reduce((t,r,n)=>`${t}${0===n?"":","}${e(void 0===r||"symbol"==typeof r?null:r)}`,"");return`[${r}]`}let r=Object.keys(t).sort().reduce((r,n)=>{if(void 0===t[n]||"symbol"==typeof t[n])return r;let i=0===r.length?"":",";return`${r}${i}${e(n)}:${e(t[n])}`},"");return`{${r}}`}},68921:(e,t,r)=>{"use strict";function n(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n);else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(n&&(n+=" "),n+=t);return n}r.d(t,{$:()=>n})},95647:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function h(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function f(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return d(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(i.blob)return this.blob().then(f);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,s=d(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,r=h(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=o(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[o(e)]},u.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},u.prototype.set=function(e,t){this.map[o(e)]=l(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},i.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function m(e,t){if(!(this instanceof m))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,s=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new u(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),g.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var a=/([?&])_=[^&]*/;a.test(this.url)?this.url=this.url.replace(a,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function w(e,t){if(!(this instanceof w))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var v=[301,302,303,307,308];w.redirect=function(e,t){if(-1===v.indexOf(t))throw RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,r){return new Promise(function(s,a){var c=new m(e,r);if(c.signal&&c.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function h(){d.abort()}if(d.onload=function(){var e,t,r={statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===c.url.indexOf("file://")&&(d.status<200||d.status>599)?r.status=200:r.status=d.status,r.url="responseURL"in d?d.responseURL:r.headers.get("X-Request-URL");var n="response"in d?d.response:d.responseText;setTimeout(function(){s(new w(n,r))},0)},d.onerror=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){a(TypeError("Network request timed out"))},0)},d.onabort=function(){setTimeout(function(){a(new t.DOMException("Aborted","AbortError"))},0)},d.open(c.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?d.withCredentials=!0:"omit"===c.credentials&&(d.withCredentials=!1),"responseType"in d&&(i.blob?d.responseType="blob":i.arrayBuffer&&(d.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof u||n.Headers&&r.headers instanceof n.Headers)){var f=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){f.push(o(e)),d.setRequestHeader(e,l(r.headers[e]))}),c.headers.forEach(function(e,t){-1===f.indexOf(t)&&d.setRequestHeader(t,e)})}else c.headers.forEach(function(e,t){d.setRequestHeader(t,e)});c.signal&&(c.signal.addEventListener("abort",h),d.onreadystatechange=function(){4===d.readyState&&c.signal.removeEventListener("abort",h)}),d.send(void 0===c._bodyInit?null:c._bodyInit)})}_.polyfill=!0,n.fetch||(n.fetch=_,n.Headers=u,n.Request=m,n.Response=w),t.Headers=u,t.Request=m,t.Response=w,t.fetch=_,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},62522:(e,t,r)=>{"use strict";r.d(t,{o0:()=>f});var n=r(87358),i=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},a=function(e){this.version=e,this.type="node",this.name="node",this.os=n.platform},o=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},l=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return e?p(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?p(navigator.userAgent):void 0!==n&&n.version?new a(n.version.slice(1)):null}function p(e){var t=""!==e&&d.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new l;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=i(i([],a,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-a.length),!0)):a=[];var c=a.join("."),f=function(e){for(var t=0,r=h.length;t<r;t++){var n=h[t],i=n[0];if(n[1].exec(e))return i}return null}(e),p=u.exec(e);return p&&p[1]?new o(r,c,f,p[1]):new s(r,c,f)}},25778:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new i(n,s||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=Array(s);i<s;i++)a[i]=n[i].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,s,a){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,s),!0;case 6:return u.fn.call(u.context,t,n,i,s,a),!0}for(c=1,l=Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||a(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},60429:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,n){var i;function s(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",s),r([].slice.call(arguments))}y(e,t,a,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&y(e,"error",s,i))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(o(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var i,s,a,c=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,o=Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else for(var c=l.length,u=p(l,c),r=0;r<c;++r)n(u[r],this,t);return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,a;if(o(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},91026:function(e){var t;t=function(){"use strict";function e(e){return Number.isInteger(e)&&e>=0}function t(e){this.name="ArgumentError",this.message=e}return function(r,n){if(n=n||{},"function"!=typeof r)throw new t("fetch must be a function");if("object"!=typeof n)throw new t("defaults must be an object");if(void 0!==n.retries&&!e(n.retries))throw new t("retries must be a positive integer");if(void 0!==n.retryDelay&&!e(n.retryDelay)&&"function"!=typeof n.retryDelay)throw new t("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==n.retryOn&&!Array.isArray(n.retryOn)&&"function"!=typeof n.retryOn)throw new t("retryOn property expects an array or function");return n=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},n),function(i,s){var a=n.retries,o=n.retryDelay,l=n.retryOn;if(s&&void 0!==s.retries){if(e(s.retries))a=s.retries;else throw new t("retries must be a positive integer")}if(s&&void 0!==s.retryDelay){if(e(s.retryDelay)||"function"==typeof s.retryDelay)o=s.retryDelay;else throw new t("retryDelay must be a positive integer or a function returning a positive integer")}if(s&&s.retryOn){if(Array.isArray(s.retryOn)||"function"==typeof s.retryOn)l=s.retryOn;else throw new t("retryOn property expects an array or function")}return new Promise(function(e,t){var n=function(n){r("undefined"!=typeof Request&&i instanceof Request?i.clone():i,s).then(function(r){if(Array.isArray(l)&&-1===l.indexOf(r.status))e(r);else if("function"==typeof l)try{return Promise.resolve(l(n,null,r)).then(function(t){t?c(n,null,r):e(r)}).catch(t)}catch(e){t(e)}else n<a?c(n,null,r):e(r)}).catch(function(e){if("function"==typeof l)try{Promise.resolve(l(n,e,null)).then(function(r){r?c(n,e,null):t(e)}).catch(function(e){t(e)})}catch(e){t(e)}else n<a?c(n,e,null):t(e)})};function c(e,t,r){setTimeout(function(){n(++e)},"function"==typeof o?o(e,t,r):o)}n(0)})}}},e.exports=t()},84981:(e,t)=>{t.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,l=(1<<o)-1,c=l>>1,u=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=o;u>0;s=256*s+e[t+d],d+=h,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),s-=c}return(f?-1:1)*a*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var a,o,l,c=8*s-i-1,u=(1<<c)-1,d=u>>1,h=23===i?5960464477539062e-23:0,f=n?0:s-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(o=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?t+=h/l:t+=h*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(o=0,a=u):a+d>=1?(o=(t*l-1)*Math.pow(2,i),a+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&o,f+=p,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[r+f]=255&a,f+=p,a/=256,c-=8);e[r+f-p]|=128*y}},33530:(e,t,r)=>{"use strict";r.d(t,{XX:()=>N,fF:()=>i,h:()=>w,n:()=>w});var n,i,s,a,o,l,c,u,d,h,f={},p=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g=Array.isArray;function m(e,t){for(var r in t)e[r]=t[r];return e}function b(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function w(e,t,r){var i,s,a,o={};for(a in t)"key"==a?i=t[a]:"ref"==a?s=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return v(e,o,i,s,null)}function v(e,t,r,n,a){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==a?++s:a,__i:-1,__u:0};return null==a&&null!=i.vnode&&i.vnode(o),o}function _(e){return e.children}function x(e,t){this.props=e,this.context=t}function E(e,t){if(null==t)return e.__?E(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?E(e):null}function I(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!A.__r++||o!==i.debounceRendering)&&((o=i.debounceRendering)||l)(A)}function A(){var e,t,r,n,s,o,l,u;for(a.sort(c);e=a.shift();)e.__d&&(t=a.length,n=void 0,o=(s=(r=e).__v).__e,l=[],u=[],r.__P&&((n=m({},s)).__v=s.__v+1,i.vnode&&i.vnode(n),O(r.__P,n,s,r.__n,r.__P.namespaceURI,32&s.__u?[o]:null,l,null==o?E(s):o,!!(32&s.__u),u),n.__v=s.__v,n.__.__k[n.__i]=n,P(l,n,u),n.__e!=o&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)),a.length>t&&a.sort(c));A.__r=0}function S(e,t,r,n,s,a,o,l,c,u,d){var h,y,m,w,x,I=n&&n.__k||p,A=t.length;for(r.__d=c,function(e,t,r){var n,s,a,o,l,c=t.length,u=r.length,d=u,h=0;for(e.__k=[],n=0;n<c;n++)null!=(s=t[n])&&"boolean"!=typeof s&&"function"!=typeof s?(o=n+h,(s=e.__k[n]="string"==typeof s||"number"==typeof s||"bigint"==typeof s||s.constructor==String?v(null,s,null,null,null):g(s)?v(_,{children:s},null,null,null):void 0===s.constructor&&s.__b>0?v(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,a=null,-1!==(l=s.__i=function(e,t,r,n){var i=e.key,s=e.type,a=r-1,o=r+1,l=t[r];if(null===l||l&&i==l.key&&s===l.type&&0==(131072&l.__u))return r;if(n>(null!=l&&0==(131072&l.__u)?1:0))for(;a>=0||o<t.length;){if(a>=0){if((l=t[a])&&0==(131072&l.__u)&&i==l.key&&s===l.type)return a;a--}if(o<t.length){if((l=t[o])&&0==(131072&l.__u)&&i==l.key&&s===l.type)return o;o++}}return -1}(s,r,o,d))&&(d--,(a=r[l])&&(a.__u|=131072)),null==a||null===a.__v?(-1==l&&h--,"function"!=typeof s.type&&(s.__u|=65536)):l!==o&&(l==o-1?h--:l==o+1?h++:(l>o?h--:h++,s.__u|=65536))):s=e.__k[n]=null;if(d)for(n=0;n<u;n++)null!=(a=r[n])&&0==(131072&a.__u)&&(a.__e==e.__d&&(e.__d=E(a)),function e(t,r,n){var s,a;if(i.unmount&&i.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||R(s,null,r)),null!=(s=t.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){i.__e(e,r)}s.base=s.__P=null}if(s=t.__k)for(a=0;a<s.length;a++)s[a]&&e(s[a],r,n||"function"!=typeof t.type);n||b(t.__e),t.__c=t.__=t.__e=t.__d=void 0}(a,a))}(r,t,I),c=r.__d,h=0;h<A;h++)null!=(m=r.__k[h])&&(y=-1===m.__i?f:I[m.__i]||f,m.__i=h,O(e,m,y,s,a,o,l,c,u,d),w=m.__e,m.ref&&y.ref!=m.ref&&(y.ref&&R(y.ref,null,m),d.push(m.ref,m.__c||w,m)),null==x&&null!=w&&(x=w),65536&m.__u||y.__k===m.__k?c=function e(t,r,n){var i,s;if("function"==typeof t.type){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,r=e(i[s],r,n));return r}t.__e!=r&&(r&&t.type&&!n.contains(r)&&(r=E(t)),n.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8===r.nodeType);return r}(m,c,e):"function"==typeof m.type&&void 0!==m.__d?c=m.__d:w&&(c=w.nextSibling),m.__d=void 0,m.__u&=-196609);r.__d=c,r.__e=x}function k(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||y.test(t)?r:r+"px"}function C(e,t,r,n,i){var s;e:if("style"===t){if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||k(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||k(e.style,t,r[t])}}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n?r.u=n.u:(r.u=u,e.addEventListener(t,s?h:d,s)):e.removeEventListener(t,s?h:d,s);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function T(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=u++;else if(t.t<r.u)return;return r(i.event?i.event(t):t)}}}function O(e,t,r,s,a,o,l,c,u,d){var h,p,y,w,v,I,A,k,T,O,P,R,N,U,M,B,j=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(u=!!(32&r.__u),o=[c=t.__e=r.__e]),(h=i.__b)&&h(t);e:if("function"==typeof j)try{if(k=t.props,T="prototype"in j&&j.prototype.render,O=(h=j.contextType)&&s[h.__c],P=h?O?O.props.value:h.__:s,r.__c?A=(p=t.__c=r.__c).__=p.__E:(T?t.__c=p=new j(k,P):(t.__c=p=new x(k,P),p.constructor=j,p.render=D),O&&O.sub(p),p.props=k,p.state||(p.state={}),p.context=P,p.__n=s,y=p.__d=!0,p.__h=[],p._sb=[]),T&&null==p.__s&&(p.__s=p.state),T&&null!=j.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=m({},p.__s)),m(p.__s,j.getDerivedStateFromProps(k,p.__s))),w=p.props,v=p.state,p.__v=t,y)T&&null==j.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),T&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(T&&null==j.getDerivedStateFromProps&&k!==w&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(k,P),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(k,p.__s,P)||t.__v===r.__v)){for(t.__v!==r.__v&&(p.props=k,p.state=p.__s,p.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),R=0;R<p._sb.length;R++)p.__h.push(p._sb[R]);p._sb=[],p.__h.length&&l.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(k,p.__s,P),T&&null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(w,v,I)})}if(p.context=P,p.props=k,p.__P=e,p.__e=!1,N=i.__r,U=0,T){for(p.state=p.__s,p.__d=!1,N&&N(t),h=p.render(p.props,p.state,p.context),M=0;M<p._sb.length;M++)p.__h.push(p._sb[M]);p._sb=[]}else do p.__d=!1,N&&N(t),h=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++U<25);p.state=p.__s,null!=p.getChildContext&&(s=m(m({},s),p.getChildContext())),T&&!y&&null!=p.getSnapshotBeforeUpdate&&(I=p.getSnapshotBeforeUpdate(w,v)),S(e,g(B=null!=h&&h.type===_&&null==h.key?h.props.children:h)?B:[B],t,r,s,a,o,l,c,u,d),p.base=t.__e,t.__u&=-161,p.__h.length&&l.push(p),A&&(p.__E=p.__=null)}catch(e){if(t.__v=null,u||null!=o){for(t.__u|=u?160:32;c&&8===c.nodeType&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else t.__e=r.__e,t.__k=r.__k;i.__e(e,t,r)}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,s,a,o,l,c,u){var d,h,p,y,m,w,v,_=r.props,x=t.props,I=t.type;if("svg"===I?a="http://www.w3.org/2000/svg":"math"===I?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),null!=o){for(d=0;d<o.length;d++)if((m=o[d])&&"setAttribute"in m==!!I&&(I?m.localName===I:3===m.nodeType)){e=m,o[d]=null;break}}if(null==e){if(null===I)return document.createTextNode(x);e=document.createElementNS(a,I,x.is&&x),c&&(i.__m&&i.__m(t,o),c=!1),o=null}if(null===I)_===x||c&&e.data===x||(e.data=x);else{if(o=o&&n.call(e.childNodes),_=r.props||f,!c&&null!=o)for(_={},d=0;d<e.attributes.length;d++)_[(m=e.attributes[d]).name]=m.value;for(d in _)if(m=_[d],"children"==d);else if("dangerouslySetInnerHTML"==d)p=m;else if(!(d in x)){if("value"==d&&"defaultValue"in x||"checked"==d&&"defaultChecked"in x)continue;C(e,d,null,m,a)}for(d in x)m=x[d],"children"==d?y=m:"dangerouslySetInnerHTML"==d?h=m:"value"==d?w=m:"checked"==d?v=m:c&&"function"!=typeof m||_[d]===m||C(e,d,m,_[d],a);if(h)c||p&&(h.__html===p.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(p&&(e.innerHTML=""),S(e,g(y)?y:[y],t,r,s,"foreignObject"===I?"http://www.w3.org/1999/xhtml":a,o,l,o?o[0]:r.__k&&E(r,0),c,u),null!=o)for(d=o.length;d--;)b(o[d]);c||(d="value","progress"===I&&null==w?e.removeAttribute("value"):void 0===w||w===e[d]&&("progress"!==I||w)&&("option"!==I||w===_[d])||C(e,d,w,_[d],a),d="checked",void 0!==v&&v!==e[d]&&C(e,d,v,_[d],a))}return e}(r.__e,t,r,s,a,o,l,u,d);(h=i.diffed)&&h(t)}function P(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)R(r[n],r[++n],r[++n]);i.__c&&i.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){i.__e(e,t.__v)}})}function R(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,r)}}function D(e,t,r){return this.constructor(e,r)}function N(e,t,r){var s,a,o,l;i.__&&i.__(e,t),a=(s="function"==typeof r)?null:r&&r.__k||t.__k,o=[],l=[],O(t,e=(!s&&r||t).__k=w(_,null,[e]),a||f,f,t.namespaceURI,!s&&r?[r]:a?null:t.firstChild?n.call(t.childNodes):null,o,!s&&r?r:a?a.__e:t.firstChild,s,l),P(o,e,l)}function U(e,t){N(e,t,U)}n=p.slice,i={__e:function(e,t,r,n){for(var i,s,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},s=0,x.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},r),this.props)),e&&m(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),I(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),I(this))},x.prototype.render=_,a=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},A.__r=0,u=0,d=T(!1),h=T(!0)},58646:(e,t,r)=>{"use strict";r.d(t,{J0:()=>b,Kr:()=>v,vJ:()=>w});var n,i,s,a,o=r(33530),l=0,c=[],u=o.fF,d=u.__b,h=u.__r,f=u.diffed,p=u.__c,y=u.unmount,g=u.__;function m(e,t){u.__h&&u.__h(i,e,l||t),l=0;var r=i.__H||(i.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function b(e){return l=1,function(e,t,r){var s=m(n++,2);if(s.t=e,!s.__c&&(s.__=[S(void 0,t),function(e){var t=s.__N?s.__N[0]:s.__[0],r=s.t(t,e);t!==r&&(s.__N=[r,s.__[1]],s.__c.setState({}))}],s.__c=i,!i.u)){var a=function(e,t,r){if(!s.__c.__H)return!0;var n=s.__c.__H.__.filter(function(e){return!!e.__c});if(n.every(function(e){return!e.__N}))return!o||o.call(this,e,t,r);var i=!1;return n.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}}),!(!i&&s.__c.props===e)&&(!o||o.call(this,e,t,r))};i.u=!0;var o=i.shouldComponentUpdate,l=i.componentWillUpdate;i.componentWillUpdate=function(e,t,r){if(this.__e){var n=o;o=void 0,a(e,t,r),o=n}l&&l.call(this,e,t,r)},i.shouldComponentUpdate=a}return s.__N||s.__}(S,e)}function w(e,t){var r=m(n++,3);!u.__s&&A(r.__H,t)&&(r.__=e,r.i=t,i.__H.__h.push(r))}function v(e,t){var r=m(n++,7);return A(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function _(){for(var e;e=c.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(E),e.__H.__h.forEach(I),e.__H.__h=[]}catch(t){e.__H.__h=[],u.__e(t,e.__v)}}u.__b=function(e){i=null,d&&d(e)},u.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),g&&g(e,t)},u.__r=function(e){h&&h(e),n=0;var t=(i=e.__c).__H;t&&(s===i?(t.__h=[],i.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0})):(t.__h.forEach(E),t.__h.forEach(I),t.__h=[],n=0)),s=i},u.diffed=function(e){f&&f(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==c.push(t)&&a===u.requestAnimationFrame||((a=u.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),x&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);x&&(t=requestAnimationFrame(r))})(_)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.i=void 0})),s=i=null},u.__c=function(e,t){t.some(function(e){try{e.__h.forEach(E),e.__h=e.__h.filter(function(e){return!e.__||I(e)})}catch(r){t.some(function(e){e.__h&&(e.__h=[])}),t=[],u.__e(r,e.__v)}}),p&&p(e,t)},u.unmount=function(e){y&&y(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(e){try{E(e)}catch(e){t=e}}),r.__H=void 0,t&&u.__e(t,r.__v))};var x="function"==typeof requestAnimationFrame;function E(e){var t=i,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),i=t}function I(e){var t=i;e.__c=e.__(),i=t}function A(e,t){return!e||e.length!==t.length||t.some(function(t,r){return t!==e[r]})}function S(e,t){return"function"==typeof t?t(e):t}},56617:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,n){var i=n&&n.stringify||t;if("object"==typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var a=Array(s);a[0]=i(e);for(var o=1;o<s;o++)a[o]=i(r[o]);return a.join(" ")}if("string"!=typeof e)return e;var l=r.length;if(0===l)return e;for(var c="",u=0,d=-1,h=e&&e.length||0,f=0;f<h;){if(37===e.charCodeAt(f)&&f+1<h){switch(d=d>-1?d:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=l||null==r[u])break;d<f&&(c+=e.slice(d,f)),c+=Number(r[u]),d=f+2,f++;break;case 105:if(u>=l||null==r[u])break;d<f&&(c+=e.slice(d,f)),c+=Math.floor(Number(r[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=l||void 0===r[u])break;d<f&&(c+=e.slice(d,f));var p=typeof r[u];if("string"===p){c+="'"+r[u]+"'",d=f+2,f++;break}if("function"===p){c+=r[u].name||"<anonymous>",d=f+2,f++;break}c+=i(r[u]),d=f+2,f++;break;case 115:if(u>=l)break;d<f&&(c+=e.slice(d,f)),c+=String(r[u]),d=f+2,f++;break;case 37:d<f&&(c+=e.slice(d,f)),c+="%",d=f+2,f++,u--}++u}++f}return -1===d?e:(d<h&&(c+=e.slice(d)),c)}},47147:(e,t,r)=>{"use strict";var n=(function(e){e&&"object"==typeof e&&"default"in e&&e.default}(r(12115)),r(84766)),i=new n,s=i.getBrowser(),a=i.getCPU(),o=i.getDevice(),l=i.getEngine(),c=i.getOS(),u=i.getUA(),d={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},h={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},f={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},y=function(){return!!("undefined"!=typeof window&&(window.navigator||navigator))&&(window.navigator||navigator)},g=function(e){var t=y();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},m=function(e){return e.type===d.Browser},b=function(e){return e.name===h.Edge},w=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},v=function(){return g("iPad")};o.type,d.SmartTv,o.type,d.Console,o.type,d.Wearable,o.type,d.Embedded,s.name===h.MobileSafari||v(),s.name,h.Chromium;var _=function(e){var t=e.type;return t===d.Mobile||t===d.Tablet}(o)||v(),x=(o.type,d.Mobile,o.type===d.Tablet||v(),m(o),m(o),c.name===f.Android),E=(c.name,f.WindowsPhone,c.name===f.IOS||v()),I=(s.name,h.Chrome,s.name===h.Firefox),A=function(e){var t=e.name;return t===h.Safari||t===h.MobileSafari}(s);s.name,h.Opera,function(e){var t=e.name;t===h.InternetExplorer||h.Ie}(s),p(c.version),p(c.name),p(s.version),p(s.major),p(s.name),p(o.vendor),p(o.model),p(l.name),p(l.version),p(u),b(s)||w(u),s.name,h.Yandex,p(o.type,"browser"),function(){var e=y();e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream}(),v(),g("iPhone"),g("iPod"),function(){var e=y(),t=e&&e.userAgent&&e.userAgent.toLowerCase();"string"==typeof t&&/electron/.test(t)}(),w(u),b(s)&&w(u),c.name,f.Windows,c.name,f.MAC_OS,s.name,h.MIUI,s.name,h.SamsungBrowser,t.m0=x,t.gm=I,t.un=E,t.Fr=_,t.nr=A},59725:e=>{e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!o(c))return!1;var u=e[c],d=t[c];if(!1===(i=r?r.call(n,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},16873:(e,t,r)=>{"use strict";r.d(t,{DU:()=>tg,AH:()=>th,i7:()=>tm,I4:()=>tp});var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var s=r(12115),a=r(59725),o=r.n(a),l="-ms-",c="-moz-",u="-webkit-",d="comm",h="rule",f="decl",p="@keyframes",y=Math.abs,g=String.fromCharCode,m=Object.assign;function b(e,t){return(e=t.exec(e))?e[0]:e}function w(e,t,r){return e.replace(t,r)}function v(e,t,r){return e.indexOf(t,r)}function _(e,t){return 0|e.charCodeAt(t)}function x(e,t,r){return e.slice(t,r)}function E(e){return e.length}function I(e,t){return t.push(e),e}function A(e,t){return e.filter(function(e){return!b(e,t)})}var S=1,k=1,C=0,T=0,O=0,P="";function R(e,t,r,n,i,s,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:S,column:k,length:a,return:"",siblings:o}}function D(e,t){return m(R("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function N(e){for(;e.root;)e=D(e.root,{children:[e]});I(e,e.siblings)}function U(){return O=T<C?_(P,T++):0,k++,10===O&&(k=1,S++),O}function M(){return _(P,T)}function B(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function j(e){var t,r;return(t=T-1,r=function e(t){for(;U();)switch(O){case t:return T;case 34:case 39:34!==t&&39!==t&&e(O);break;case 40:41===t&&e(t);break;case 92:U()}return T}(91===e?e+2:40===e?e+1:e),x(P,t,r)).trim()}function L(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function F(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case f:return e.return=e.return||e.value;case d:return"";case p:return e.return=e.value+"{"+L(e.children,n)+"}";case h:if(!E(e.value=e.props.join(",")))return""}return E(r=L(e.children,n))?e.return=e.value+"{"+r+"}":""}function $(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case f:e.return=function e(t,r,n){var i;switch(i=r,45^_(t,0)?(((i<<2^_(t,0))<<2^_(t,1))<<2^_(t,2))<<2^_(t,3):0){case 5103:return u+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return u+t+t;case 4789:return c+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return u+t+c+t+l+t+t;case 5936:switch(_(t,r+11)){case 114:return u+t+l+w(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return u+t+l+w(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return u+t+l+w(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return u+t+l+t+t;case 6165:return u+t+l+"flex-"+t+t;case 5187:return u+t+w(t,/(\w+).+(:[^]+)/,u+"box-$1$2"+l+"flex-$1$2")+t;case 5443:return u+t+l+"flex-item-"+w(t,/flex-|-self/g,"")+(b(t,/flex-|baseline/)?"":l+"grid-row-"+w(t,/flex-|-self/g,""))+t;case 4675:return u+t+l+"flex-line-pack"+w(t,/align-content|flex-|-self/g,"")+t;case 5548:return u+t+l+w(t,"shrink","negative")+t;case 5292:return u+t+l+w(t,"basis","preferred-size")+t;case 6060:return u+"box-"+w(t,"-grow","")+u+t+l+w(t,"grow","positive")+t;case 4554:return u+w(t,/([^-])(transform)/g,"$1"+u+"$2")+t;case 6187:return w(w(w(t,/(zoom-|grab)/,u+"$1"),/(image-set)/,u+"$1"),t,"")+t;case 5495:case 3959:return w(t,/(image-set\([^]*)/,u+"$1$`$1");case 4968:return w(w(t,/(.+:)(flex-)?(.*)/,u+"box-pack:$3"+l+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+u+t+t;case 4200:if(!b(t,/flex-|baseline/))return l+"grid-column-align"+x(t,r)+t;break;case 2592:case 3360:return l+w(t,"template-","")+t;case 4384:case 3616:if(n&&n.some(function(e,t){return r=t,b(e.props,/grid-\w+-end/)}))return~v(t+(n=n[r].value),"span",0)?t:l+w(t,"-start","")+t+l+"grid-row-span:"+(~v(n,"span",0)?b(n,/\d+/):+b(n,/\d+/)-+b(t,/\d+/))+";";return l+w(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(e){return b(e.props,/grid-\w+-start/)})?t:l+w(w(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return w(t,/(.+)-inline(.+)/,u+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(E(t)-1-r>6)switch(_(t,r+1)){case 109:if(45!==_(t,r+4))break;case 102:return w(t,/(.+:)(.+)-([^]+)/,"$1"+u+"$2-$3$1"+c+(108==_(t,r+3)?"$3":"$2-$3"))+t;case 115:return~v(t,"stretch",0)?e(w(t,"stretch","fill-available"),r,n)+t:t}break;case 5152:case 5920:return w(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(e,r,n,i,s,a,o){return l+r+":"+n+o+(i?l+r+"-span:"+(s?a:+a-+n)+o:"")+t});case 4949:if(121===_(t,r+6))return w(t,":",":"+u)+t;break;case 6444:switch(_(t,45===_(t,14)?18:11)){case 120:return w(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+u+(45===_(t,14)?"inline-":"")+"box$3$1"+u+"$2$3$1"+l+"$2box$3")+t;case 100:return w(t,":",":"+l)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return w(t,"scroll-","scroll-snap-")+t}return t}(e.value,e.length,r);return;case p:return L([D(e,{value:w(e.value,"@","@"+u)})],n);case h:if(e.length){var i,s;return i=r=e.props,s=function(t){switch(b(t,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":N(D(e,{props:[w(t,/:(read-\w+)/,":"+c+"$1")]})),N(D(e,{props:[t]})),m(e,{props:A(r,n)});break;case"::placeholder":N(D(e,{props:[w(t,/:(plac\w+)/,":"+u+"input-$1")]})),N(D(e,{props:[w(t,/:(plac\w+)/,":"+c+"$1")]})),N(D(e,{props:[w(t,/:(plac\w+)/,l+"input-$1")]})),N(D(e,{props:[t]})),m(e,{props:A(r,n)})}return""},i.map(s).join("")}}}function z(e,t,r,n,i,s,a,o,l,c,u,d){for(var f=i-1,p=0===i?s:[""],g=p.length,m=0,b=0,v=0;m<n;++m)for(var _=0,E=x(e,f+1,f=y(b=a[m])),I=e;_<g;++_)(I=(b>0?p[_]+" "+E:w(E,/&\f/g,p[_])).trim())&&(l[v++]=I);return R(e,t,r,0===i?h:o,l,c,u,d)}function q(e,t,r,n,i){return R(e,t,r,f,x(e,0,n),x(e,n+1,-1),n,i)}var W={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},H=r(87358),V=void 0!==H&&void 0!==H.env&&(H.env.REACT_APP_SC_ATTR||H.env.SC_ATTR)||"data-styled",K="active",G="data-styled-version",Z="6.1.19",J="/*!sc*/\n",Y="undefined"!=typeof window&&"undefined"!=typeof document,Q=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==H&&void 0!==H.env&&void 0!==H.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==H.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==H.env.REACT_APP_SC_DISABLE_SPEEDY&&H.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==H&&void 0!==H.env&&void 0!==H.env.SC_DISABLE_SPEEDY&&""!==H.env.SC_DISABLE_SPEEDY&&"false"!==H.env.SC_DISABLE_SPEEDY&&H.env.SC_DISABLE_SPEEDY),X={},ee=Object.freeze([]),et=Object.freeze({});function er(e,t,r){return void 0===r&&(r=et),e.theme!==r.theme&&e.theme||t||r.theme}var en=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ei=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,es=/(^-|-$)/g;function ea(e){return e.replace(ei,"-").replace(es,"")}var eo=/(a)(d)/gi,el=function(e){return String.fromCharCode(e+(e>25?39:97))};function ec(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=el(t%52)+r;return(el(t%52)+r).replace(eo,"$1-$2")}var eu,ed=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},eh=function(e){return ed(5381,e)};function ef(e){return ec(eh(e)>>>0)}function ep(e){return"string"==typeof e}var ey="function"==typeof Symbol&&Symbol.for,eg=ey?Symbol.for("react.memo"):60115,em=ey?Symbol.for("react.forward_ref"):60112,eb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ew={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ev={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},e_=((eu={})[em]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eu[eg]=ev,eu);function ex(e){return("type"in e&&e.type.$$typeof)===eg?ev:"$$typeof"in e?e_[e.$$typeof]:eb}var eE=Object.defineProperty,eI=Object.getOwnPropertyNames,eA=Object.getOwnPropertySymbols,eS=Object.getOwnPropertyDescriptor,ek=Object.getPrototypeOf,eC=Object.prototype;function eT(e){return"function"==typeof e}function eO(e){return"object"==typeof e&&"styledComponentId"in e}function eP(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function eR(e,t){if(0===e.length)return"";for(var r=e[0],n=1;n<e.length;n++)r+=t?t+e[n]:e[n];return r}function eD(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function eN(e,t){Object.defineProperty(e,"toString",{value:t})}function eU(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var eM=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)if((i<<=1)<0)throw eU(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=n;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),o=(s=0,t.length);s<o;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,s=n;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(J);return t},e}(),eB=new Map,ej=new Map,eL=1,eF=function(e){if(eB.has(e))return eB.get(e);for(;ej.has(eL);)eL++;var t=eL++;return eB.set(e,t),ej.set(t,e),t},e$=function(e,t){eL=t+1,eB.set(e,t),ej.set(t,e)},ez="style[".concat(V,"][").concat(G,'="').concat(Z,'"]'),eq=new RegExp("^".concat(V,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),eW=function(e,t,r){for(var n,i=r.split(","),s=0,a=i.length;s<a;s++)(n=i[s])&&e.registerName(t,n)},eH=function(e,t){for(var r,n=(null!==(r=t.textContent)&&void 0!==r?r:"").split(J),i=[],s=0,a=n.length;s<a;s++){var o=n[s].trim();if(o){var l=o.match(eq);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(e$(u,c),eW(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(o)}}},eV=function(e){for(var t=document.querySelectorAll(ez),r=0,n=t.length;r<n;r++){var i=t[r];i&&i.getAttribute(V)!==K&&(eH(e,i),i.parentNode&&i.parentNode.removeChild(i))}},eK=function(e){var t,n=document.head,i=e||n,s=document.createElement("style"),a=(t=Array.from(i.querySelectorAll("style[".concat(V,"]"))))[t.length-1],o=void 0!==a?a.nextSibling:null;s.setAttribute(V,K),s.setAttribute(G,Z);var l=r.nc;return l&&s.setAttribute("nonce",l),i.insertBefore(s,o),s},eG=function(){function e(e){this.element=eK(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}throw eU(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),eZ=function(){function e(e){this.element=eK(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),eJ=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),eY=Y,eQ={isServer:!Y,useCSSOMInjection:!Q},eX=function(){function e(e,t,r){void 0===e&&(e=et),void 0===t&&(t={});var i=this;this.options=n(n({},eQ),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Y&&eY&&(eY=!1,eV(this)),eN(this,function(){return function(e){for(var t=e.getTag(),r=t.length,n="",i=0;i<r;i++)(function(r){var i=ej.get(r);if(void 0!==i){var s=e.names.get(i),a=t.getGroup(r);if(void 0!==s&&s.size&&0!==a.length){var o="".concat(V,".g").concat(r,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach(function(e){e.length>0&&(l+="".concat(e,","))}),n+="".concat(a).concat(o,'{content:"').concat(l,'"}').concat(J)}}})(i);return n}(i)})}return e.registerId=function(e){return eF(e)},e.prototype.rehydrate=function(){!this.server&&Y&&eV(this)},e.prototype.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(n(n({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){var e,t,r;return this.tag||(this.tag=(t=(e=this.options).useCSSOMInjection,r=e.target,new eM(e.isServer?new eJ(r):t?new eG(r):new eZ(r))))},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(eF(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},e.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(eF(e),r)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(eF(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),e0=/&/g,e1=/^\s*\/\/.*$/gm;function e2(e){var t,r,n,i=void 0===e?et:e,s=i.options,a=void 0===s?et:s,o=i.plugins,l=void 0===o?ee:o,c=function(e,n,i){return i.startsWith(r)&&i.endsWith(r)&&i.replaceAll(r,"").length>0?".".concat(t):e},u=l.slice();u.push(function(e){e.type===h&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(e0,r).replace(n,c))}),a.prefix&&u.push($),u.push(F);var f=function(e,i,s,o){void 0===i&&(i=""),void 0===s&&(s=""),void 0===o&&(o="&"),t=o,r=i,n=RegExp("\\".concat(r,"\\b"),"g");var l,c,h,f,p,m,b=e.replace(e1,""),A=(p=function e(t,r,n,i,s,a,o,l,c){for(var u,h=0,f=0,p=o,m=0,b=0,A=0,C=1,D=1,N=1,L=0,F="",$=s,W=a,H=i,V=F;D;)switch(A=L,L=U()){case 40:if(108!=A&&58==_(V,p-1)){-1!=v(V+=w(j(L),"&","&\f"),"&\f",y(h?l[h-1]:0))&&(N=-1);break}case 34:case 39:case 91:V+=j(L);break;case 9:case 10:case 13:case 32:V+=function(e){for(;O=M();)if(O<33)U();else break;return B(e)>2||B(O)>3?"":" "}(A);break;case 92:V+=function(e,t){for(var r;--t&&U()&&!(O<48)&&!(O>102)&&(!(O>57)||!(O<65))&&(!(O>70)||!(O<97)););return r=T+(t<6&&32==M()&&32==U()),x(P,e,r)}(T-1,7);continue;case 47:switch(M()){case 42:case 47:I(R(u=function(e,t){for(;U();)if(e+O===57)break;else if(e+O===84&&47===M())break;return"/*"+x(P,t,T-1)+"*"+g(47===e?e:U())}(U(),T),r,n,d,g(O),x(u,2,-2),0,c),c);break;default:V+="/"}break;case 123*C:l[h++]=E(V)*N;case 125*C:case 59:case 0:switch(L){case 0:case 125:D=0;case 59+f:-1==N&&(V=w(V,/\f/g,"")),b>0&&E(V)-p&&I(b>32?q(V+";",i,n,p-1,c):q(w(V," ","")+";",i,n,p-2,c),c);break;case 59:V+=";";default:if(I(H=z(V,r,n,h,f,s,l,F,$=[],W=[],p,a),a),123===L){if(0===f)e(V,r,H,H,$,a,p,l,W);else switch(99===m&&110===_(V,3)?100:m){case 100:case 108:case 109:case 115:e(t,H,H,i&&I(z(t,H,H,0,0,s,l,F,s,$=[],p,W),W),s,W,p,l,i?$:W);break;default:e(V,H,H,H,[""],W,0,l,W)}}}h=f=b=0,C=N=1,F=V="",p=o;break;case 58:p=1+E(V),b=A;default:if(C<1){if(123==L)--C;else if(125==L&&0==C++&&125==(O=T>0?_(P,--T):0,k--,10===O&&(k=1,S--),O))continue}switch(V+=g(L),L*C){case 38:N=f>0?1:(V+="\f",-1);break;case 44:l[h++]=(E(V)-1)*N,N=1;break;case 64:45===M()&&(V+=j(U())),m=M(),f=p=E(F=V+=function(e){for(;!B(M());)U();return x(P,e,T)}(T)),L++;break;case 45:45===A&&2==E(V)&&(C=0)}}return a}("",null,null,null,[""],(h=f=s||i?"".concat(s," ").concat(i," { ").concat(b," }"):b,S=k=1,C=E(P=h),T=0,f=[]),0,[0],f),P="",p);a.namespace&&(A=function e(t,r){return t.map(function(t){return"rule"===t.type&&(t.value="".concat(r," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(r," ")),t.props=t.props.map(function(e){return"".concat(r," ").concat(e)})),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=e(t.children,r)),t})}(A,a.namespace));var D=[];return L(A,(c=(l=u.concat((m=function(e){return D.push(e)},function(e){!e.root&&(e=e.return)&&m(e)}))).length,function(e,t,r,n){for(var i="",s=0;s<c;s++)i+=l[s](e,t,r,n)||"";return i})),D};return f.hash=l.length?l.reduce(function(e,t){return t.name||eU(15),ed(e,t.name)},5381).toString():"",f}var e6=new eX,e5=e2(),e8=s.createContext({shouldForwardProp:void 0,styleSheet:e6,stylis:e5}),e3=(e8.Consumer,s.createContext(void 0));function e4(){return(0,s.useContext)(e8)}function e9(e){var t=(0,s.useState)(e.stylisPlugins),r=t[0],n=t[1],i=e4().styleSheet,a=(0,s.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,i]),l=(0,s.useMemo)(function(){return e2({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})},[e.enableVendorPrefixes,e.namespace,r]);(0,s.useEffect)(function(){o()(r,e.stylisPlugins)||n(e.stylisPlugins)},[e.stylisPlugins]);var c=(0,s.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:l}},[e.shouldForwardProp,a,l]);return s.createElement(e8.Provider,{value:c},s.createElement(e3.Provider,{value:l},e.children))}var e7=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=e5);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,eN(this,function(){throw eU(12,String(r.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=e5),this.name+e.hash},e}();function te(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(1===r&&"-"===n&&"-"===e[0])return e;n>="A"&&n<="Z"?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var tt=function(e){return null==e||!1===e||""===e},tr=function(e){var t=[];for(var r in e){var n=e[r];e.hasOwnProperty(r)&&!tt(n)&&(Array.isArray(n)&&n.isCss||eT(n)?t.push("".concat(te(r),":"),n,";"):eD(n)?t.push.apply(t,i(i(["".concat(r," {")],tr(n),!1),["}"],!1)):t.push("".concat(te(r),": ").concat(null==n||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||r in W||r.startsWith("--")?String(n).trim():"".concat(n,"px"),";")))}return t};function tn(e,t,r,n){return tt(e)?[]:eO(e)?[".".concat(e.styledComponentId)]:eT(e)?!eT(e)||e.prototype&&e.prototype.isReactComponent||!t?[e]:tn(e(t),t,r,n):e instanceof e7?r?(e.inject(r,n),[e.getName(n)]):[e]:eD(e)?tr(e):Array.isArray(e)?Array.prototype.concat.apply(ee,e.map(function(e){return tn(e,t,r,n)})):[e.toString()]}function ti(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(eT(r)&&!eO(r))return!1}return!0}var ts=eh(Z),ta=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&ti(e),this.componentId=t,this.baseHash=ed(ts,t),this.baseStyle=r,eX.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash){if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=eP(n,this.staticRulesId);else{var i=eR(tn(this.rules,e,t,r)),s=ec(ed(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var a=r(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,a)}n=eP(n,s),this.staticRulesId=s}}else{for(var o=ed(this.baseHash,r.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=eR(tn(u,e,t,r));o=ed(o,d+c),l+=d}}if(l){var h=ec(o>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,r(l,".".concat(h),void 0,this.componentId)),n=eP(n,h)}}return n},e}(),to=s.createContext(void 0);to.Consumer;var tl={};function tc(e,t,r){var i,a,o,l,c=eO(e),u=!ep(e),d=t.attrs,h=void 0===d?ee:d,f=t.componentId,p=void 0===f?(i=t.displayName,a=t.parentComponentId,tl[o="string"!=typeof i?"sc":ea(i)]=(tl[o]||0)+1,l="".concat(o,"-").concat(ef(Z+o+tl[o])),a?"".concat(a,"-").concat(l):l):f,y=t.displayName,g=void 0===y?ep(e)?"styled.".concat(e):"Styled(".concat(e.displayName||e.name||"Component",")"):y,m=t.displayName&&t.componentId?"".concat(ea(t.displayName),"-").concat(t.componentId):t.componentId||p,b=c&&e.attrs?e.attrs.concat(h).filter(Boolean):h,w=t.shouldForwardProp;if(c&&e.shouldForwardProp){var v=e.shouldForwardProp;if(t.shouldForwardProp){var _=t.shouldForwardProp;w=function(e,t){return v(e,t)&&_(e,t)}}else w=v}var x=new ta(r,m,c?e.componentStyle:void 0);function E(e,t){return function(e,t,r){var i,a=e.attrs,o=e.componentStyle,l=e.defaultProps,c=e.foldedComponentIds,u=e.styledComponentId,d=e.target,h=s.useContext(to),f=e4(),p=e.shouldForwardProp||f.shouldForwardProp,y=er(t,h,l)||et,g=function(e,t,r){for(var i,s=n(n({},t),{className:void 0,theme:r}),a=0;a<e.length;a+=1){var o=eT(i=e[a])?i(s):i;for(var l in o)s[l]="className"===l?eP(s[l],o[l]):"style"===l?n(n({},s[l]),o[l]):o[l]}return t.className&&(s.className=eP(s.className,t.className)),s}(a,t,y),m=g.as||d,b={};for(var w in g)void 0===g[w]||"$"===w[0]||"as"===w||"theme"===w&&g.theme===y||("forwardedAs"===w?b.as=g.forwardedAs:p&&!p(w,m)||(b[w]=g[w]));var v=(i=e4(),o.generateAndInjectStyles(g,i.styleSheet,i.stylis)),_=eP(c,u);return v&&(_+=" "+v),g.className&&(_+=" "+g.className),b[ep(m)&&!en.has(m)?"class":"className"]=_,r&&(b.ref=r),(0,s.createElement)(m,b)}(I,e,t)}E.displayName=g;var I=s.forwardRef(E);return I.attrs=b,I.componentStyle=x,I.displayName=g,I.shouldForwardProp=w,I.foldedComponentIds=c?eP(e.foldedComponentIds,e.styledComponentId):"",I.styledComponentId=m,I.target=c?e.target:e,Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=c?function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++)(function e(t,r,n){if(void 0===n&&(n=!1),!n&&!eD(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var i=0;i<r.length;i++)t[i]=e(t[i],r[i]);else if(eD(r))for(var i in r)t[i]=e(t[i],r[i]);return t})(e,t[n],!0);return e}({},e.defaultProps,t):t}}),eN(I,function(){return".".concat(I.styledComponentId)}),u&&function e(t,r,n){if("string"!=typeof r){if(eC){var i=ek(r);i&&i!==eC&&e(t,i,n)}var s=eI(r);eA&&(s=s.concat(eA(r)));for(var a=ex(t),o=ex(r),l=0;l<s.length;++l){var c=s[l];if(!(c in ew||n&&n[c]||o&&c in o||a&&c in a)){var u=eS(r,c);try{eE(t,c,u)}catch(e){}}}}return t}(I,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),I}function tu(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r}var td=function(e){return Object.assign(e,{isCss:!0})};function th(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return eT(e)||eD(e)?td(tn(tu(ee,i([e],t,!0)))):0===t.length&&1===e.length&&"string"==typeof e[0]?tn(e):td(tn(tu(e,t)))}var tf=function(e){return function e(t,r,s){if(void 0===s&&(s=et),!r)throw eU(1,r);var a=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return t(r,s,th.apply(void 0,i([e],n,!1)))};return a.attrs=function(i){return e(t,r,n(n({},s),{attrs:Array.prototype.concat(s.attrs,i).filter(Boolean)}))},a.withConfig=function(i){return e(t,r,n(n({},s),i))},a}(tc,e)},tp=tf;en.forEach(function(e){tp[e]=tf(e)});var ty=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ti(e),eX.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,r,n){var i=n(eR(tn(this.rules,t,r,n)),""),s=this.componentId+e;r.insertRules(s,s,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,r,n){e>2&&eX.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)},e}();function tg(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var a=th.apply(void 0,i([e],t,!1)),o="sc-global-".concat(ef(JSON.stringify(a))),l=new ty(a,o),c=function(e){var t=e4(),r=s.useContext(to),n=s.useRef(t.styleSheet.allocateGSInstance(o)).current;return t.styleSheet.server&&u(n,e,t.styleSheet,r,t.stylis),s.useLayoutEffect(function(){if(!t.styleSheet.server)return u(n,e,t.styleSheet,r,t.stylis),function(){return l.removeStyles(n,t.styleSheet)}},[n,e,t.styleSheet,r,t.stylis]),null};function u(e,t,r,i,s){if(l.isStatic)l.renderStyles(e,X,r,s);else{var a=n(n({},t),{theme:er(t,i,c.defaultProps)});l.renderStyles(e,a,r,s)}}return s.memo(c)}function tm(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=eR(th.apply(void 0,i([e],t,!1)));return new e7(ef(n),n)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=r.nc,i=eR([n&&'nonce="'.concat(n,'"'),"".concat(V,'="true"'),"".concat(G,'="').concat(Z,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw eU(2);return e._emitSheetCSS()},this.getStyleElement=function(){if(e.sealed)throw eU(2);var t,i=e.instance.toString();if(!i)return[];var a=((t={})[V]="",t[G]=Z,t.dangerouslySetInnerHTML={__html:i},t),o=r.nc;return o&&(a.nonce=o),[s.createElement("style",n({},a,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new eX({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw eU(2);return s.createElement(e9,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw eU(3)}}()},84766:function(e,t,r){var n;!function(i,s){"use strict";var a="function",o="undefined",l="object",c="string",u="major",d="model",h="name",f="type",p="vendor",y="version",g="architecture",m="console",b="mobile",w="tablet",v="smarttv",_="wearable",x="embedded",E="Amazon",I="Apple",A="ASUS",S="BlackBerry",k="Browser",C="Chrome",T="Firefox",O="Google",P="Honor",R="Huawei",D="Microsoft",N="Motorola",U="Nvidia",M="OnePlus",B="Opera",j="OPPO",L="Samsung",F="Sharp",$="Sony",z="Xiaomi",q="Zebra",W="Facebook",H="Chromium OS",V="Mac OS",K=" Browser",G=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},Z=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},J=function(e,t){return typeof e===c&&-1!==Y(t).indexOf(Y(e))},Y=function(e){return e.toLowerCase()},Q=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},X=function(e,t){for(var r,n,i,o,c,u,d=0;d<t.length&&!c;){var h=t[d],f=t[d+1];for(r=n=0;r<h.length&&!c&&h[r];)if(c=h[r++].exec(e))for(i=0;i<f.length;i++)u=c[++n],typeof(o=f[i])===l&&o.length>0?2===o.length?typeof o[1]==a?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?typeof o[1]!==a||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):void 0:this[o[0]]=u?o[1].call(this,u,o[2]):void 0:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):void 0):this[o]=u||s;d+=2}},ee=function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(J(t[r][n],e))return"?"===r?s:r}else if(J(t[r],e))return"?"===r?s:r;return t.hasOwnProperty("*")?t["*"]:e},et={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},er={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,y],[/opios[\/ ]+([\w\.]+)/i],[y,[h,B+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[h,B+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[h,B]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[h,"UC"+k]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[h,"Smart Lenovo "+k]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+k],y],[/\bfocus\/([\w\.]+)/i],[y,[h,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[h,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[h,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[h,"MIUI"+K]],[/fxios\/([\w\.-]+)/i],[y,[h,T]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+K],y],[/samsungbrowser\/([\w\.]+)/i],[y,[h,L+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,W],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[h,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,C+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[h,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[y,ee,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[h,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[h,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[y,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[g,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[g,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[g,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[g,/ower/,"",Y]],[/ sun4\w[;\)]/i],[[g,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[g,Y]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,L],[f,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,L],[f,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,I],[f,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,I],[f,w]],[/(macintosh);/i],[d,[p,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,F],[f,b]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d,[p,P],[f,w]],[/honor([-\w ]+)[;\)]/i],[d,[p,P],[f,b]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d,[p,R],[f,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,R],[f,b]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d,/_/g," "],[p,z],[f,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d,/_/g," "],[p,z],[f,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,j],[f,b]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d,[p,ee,{OnePlus:["304","403","203"],"*":j}],[f,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[f,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[f,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,N],[f,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,N],[f,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,"LG"],[f,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,"LG"],[f,b]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d,[p,"Lenovo"],[f,w]],[/(nokia) (t[12][01])/i],[p,d,[f,w]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d,/_/g," "],[f,b],[p,"Nokia"]],[/(pixel (c|tablet))\b/i],[d,[p,O],[f,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,O],[f,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,$],[f,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,$],[f,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,M],[f,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,E],[f,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,E],[f,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[f,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,S],[f,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,A],[f,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,A],[f,b]],[/(nexus 9)/i],[d,[p,"HTC"],[f,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[f,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[p,"TCL"],[f,w]],[/(itel) ((\w+))/i],[[p,Y],d,[f,ee,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[f,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[f,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[f,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[p,"Energizer"],[f,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[p,"Cat"],[f,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[p,"Smartfren"],[f,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[p,"Nothing"],[f,b]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d,[p,"Archos"],[f,w]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d,[p,"Archos"],[f,b]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[p,d,[f,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[f,b]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[f,w]],[/(surface duo)/i],[d,[p,D],[f,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[f,b]],[/(u304aa)/i],[d,[p,"AT&T"],[f,b]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[f,b]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[f,w]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[f,w]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[f,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[f,w]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[f,w]],[/\b(k88) b/i],[d,[p,"ZTE"],[f,w]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[f,b]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[f,b]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[f,w]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[f,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[f,w]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[f,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[f,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[f,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[f,b]],[/\b(ph-1) /i],[d,[p,"Essential"],[f,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[f,w]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[f,w]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[f,w]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d,[p,U],[f,w]],[/(sprint) (\w+)/i],[p,d,[f,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,D],[f,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,q],[f,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,q],[f,b]],[/smart-tv.+(samsung)/i],[p,[f,v]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,L],[f,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,"LG"],[f,v]],[/(apple) ?tv/i],[p,[d,I+" TV"],[f,v]],[/crkey/i],[[d,C+"cast"],[p,O],[f,v]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,E],[f,v]],[/(shield \w+ tv)/i],[d,[p,U],[f,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,F],[f,v]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,$],[f,v]],[/(mi(tv|box)-?\w+) bui/i],[d,[p,z],[f,v]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[f,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Q],[d,Q],[f,v]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[f,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[f,m]],[/droid.+; (shield)( bui|\))/i],[d,[p,U],[f,m]],[/(playstation \w+)/i],[d,[p,$],[f,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,D],[f,m]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d,[p,L],[f,_]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[p,d,[f,_]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[p,j],[f,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,I],[f,_]],[/(opwwe\d{3})/i],[d,[p,M],[f,_]],[/(moto 360)/i],[d,[p,N],[f,_]],[/(smartwatch 3)/i],[d,[p,$],[f,_]],[/(g watch r)/i],[d,[p,"LG"],[f,_]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,q],[f,_]],[/droid.+; (glass) \d/i],[d,[p,O],[f,_]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,d,[f,_]],[/; (quest( \d| pro)?)/i],[d,[p,W],[f,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[f,x]],[/(aeobc)\b/i],[d,[p,E],[f,x]],[/(homepod).+mac os/i],[d,[p,I],[f,x]],[/windows iot/i],[[f,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[f,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[f,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,b]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[h,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[h,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,y],[/ladybird\//i],[[h,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,y],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[h,[y,ee,et]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,ee,et],[h,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,V],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,h],[/(ubuntu) ([\w\.]+) like android/i],[[h,/(.+)/,"$1 Touch"],y],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[h,y],[/\(bb(10);/i],[y,[h,S]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[h,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[h,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,H],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,y],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,y]]},en=function(e,t){if(typeof e===l&&(t=e,e=s),!(this instanceof en))return new en(e,t).getResult();var r=typeof i!==o&&i.navigator?i.navigator:s,n=e||(r&&r.userAgent?r.userAgent:""),m=r&&r.userAgentData?r.userAgentData:s,v=t?G(er,t):er,_=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[h]=s,t[y]=s,X.call(t,n,v.browser),t[u]=typeof(e=t[y])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:s,_&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[g]=s,X.call(e,n,v.cpu),e},this.getDevice=function(){var e={};return e[p]=s,e[d]=s,e[f]=s,X.call(e,n,v.device),_&&!e[f]&&m&&m.mobile&&(e[f]=b),_&&"Macintosh"==e[d]&&r&&typeof r.standalone!==o&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[f]=w),e},this.getEngine=function(){var e={};return e[h]=s,e[y]=s,X.call(e,n,v.engine),e},this.getOS=function(){var e={};return e[h]=s,e[y]=s,X.call(e,n,v.os),_&&!e[h]&&m&&m.platform&&"Unknown"!=m.platform&&(e[h]=m.platform.replace(/chrome os/i,H).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?Q(e,500):e,this},this.setUA(n),this};en.VERSION="1.0.41",en.BROWSER=Z([h,y,u]),en.CPU=Z([g]),en.DEVICE=Z([d,p,f,m,b,v,w,_,x]),en.ENGINE=en.OS=Z([h,y]),typeof t!==o?(e.exports&&(t=e.exports=en),t.UAParser=en):r.amdO?s!==(n=(function(){return en}).call(t,r,t,e))&&(e.exports=n):typeof i!==o&&(i.UAParser=en);var ei=typeof i!==o&&(i.jQuery||i.Zepto);if(ei&&!ei.ua){var es=new en;ei.ua=es.getResult(),ei.ua.get=function(){return es.getUA()},ei.ua.set=function(e){es.setUA(e);var t=es.getResult();for(var r in t)ei.ua[r]=t[r]}}}("object"==typeof window?window:this)},49604:(e,t,r)=>{"use strict";var n=r(12115),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useSyncExternalStore,a=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,u){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var f=s(e,(d=l(function(){function e(e){if(!o){if(o=!0,s=e,e=n(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var r=n(e);return void 0!==u&&u(t,r)?(s=e,t):(s=e,a=r)}var s,a,o=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,u]))[0],d[1]);return o(function(){h.hasValue=!0,h.value=f},[f]),c(f),f}},31356:(e,t,r)=>{"use strict";e.exports=r(49604)},79749:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>o});let i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},s=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));let o=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();let o=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}(o)}},59274:(e,t,r)=>{"use strict";var n=r(12115),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,a=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return o(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),a(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},60169:(e,t,r)=>{"use strict";var n=r(12115),i=r(52303),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var f=a(e,(d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,s(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(a=e,t):(a=e,o=r)}var a,o,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]))[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},52303:(e,t,r)=>{"use strict";e.exports=r(59274)},83961:(e,t,r)=>{"use strict";e.exports=r(60169)},65169:(e,t,r)=>{var n=r(75927).hp;let i=r(66811);function s(e){if(e.startsWith("int["))return"int256"+e.slice(3);if("int"===e)return"int256";if(e.startsWith("uint["))return"uint256"+e.slice(4);if("uint"===e)return"uint256";if(e.startsWith("fixed["))return"fixed128x128"+e.slice(5);if("fixed"===e)return"fixed128x128";if(e.startsWith("ufixed["))return"ufixed128x128"+e.slice(6);else if("ufixed"===e)return"ufixed128x128";return e}function a(e){return Number.parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function o(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[Number.parseInt(t[1],10),Number.parseInt(t[2],10)]}function l(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":Number.parseInt(t[2],10):null}function c(e){var t=typeof e;if("string"===t||"number"===t)return BigInt(e);if("bigint"===t)return e;throw Error("Argument is not a number")}function u(e,t){if("address"===e)return u("uint160",c(t));if("bool"===e)return u("uint8",t?1:0);if("string"===e)return u("bytes",new n(t,"utf8"));if((f=e).lastIndexOf("]")===f.length-1){if(void 0===t.length)throw Error("Not an array?");if("dynamic"!==(r=l(e))&&0!==r&&t.length>r)throw Error("Elements exceed array size: "+r);for(h in d=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)d.push(u(e,t[h]));if("dynamic"===r){var r,s,d,h,f,p=u("uint256",t.length);d.unshift(p)}return n.concat(d)}if("bytes"===e)return t=new n(t),d=n.concat([u("uint256",t.length),t]),t.length%32!=0&&(d=n.concat([d,i.zeros(32-t.length%32)])),d;if(e.startsWith("bytes")){if((r=a(e))<1||r>32)throw Error("Invalid bytes<N> width: "+r);return i.setLengthRight(t,32)}else if(e.startsWith("uint")){if((r=a(e))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);s=c(t);let n=i.bitLengthFromBigInt(s);if(n>r)throw Error("Supplied uint exceeds width: "+r+" vs "+n);if(s<0)throw Error("Supplied uint is negative");return i.bufferBEFromBigInt(s,32)}else if(e.startsWith("int")){if((r=a(e))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);s=c(t);let n=i.bitLengthFromBigInt(s);if(n>r)throw Error("Supplied int exceeds width: "+r+" vs "+n);let o=i.twosFromBigInt(s,256);return i.bufferBEFromBigInt(o,32)}else if(e.startsWith("ufixed")){if(r=o(e),(s=c(t))<0)throw Error("Supplied ufixed is negative");return u("uint256",s*BigInt(2)**BigInt(r[1]))}else if(e.startsWith("fixed"))return r=o(e),u("int256",c(t)*BigInt(2)**BigInt(r[1]));throw Error("Unsupported or invalid type: "+e)}function d(e,t){if(e.length!==t.length)throw Error("Number of types are not matching the values");for(var r,o,l=[],u=0;u<e.length;u++){var d=s(e[u]),h=t[u];if("bytes"===d)l.push(h);else if("string"===d)l.push(new n(h,"utf8"));else if("bool"===d)l.push(new n(h?"01":"00","hex"));else if("address"===d)l.push(i.setLength(h,20));else if(d.startsWith("bytes")){if((r=a(d))<1||r>32)throw Error("Invalid bytes<N> width: "+r);l.push(i.setLengthRight(h,r))}else if(d.startsWith("uint")){if((r=a(d))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);o=c(h);let e=i.bitLengthFromBigInt(o);if(e>r)throw Error("Supplied uint exceeds width: "+r+" vs "+e);l.push(i.bufferBEFromBigInt(o,r/8))}else if(d.startsWith("int")){if((r=a(d))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);o=c(h);let e=i.bitLengthFromBigInt(o);if(e>r)throw Error("Supplied int exceeds width: "+r+" vs "+e);let t=i.twosFromBigInt(o,r);l.push(i.bufferBEFromBigInt(t,r/8))}else throw Error("Unsupported or invalid type: "+d)}return n.concat(l)}e.exports={rawEncode:function(e,t){var r=[],i=[],a=32*e.length;for(var o in e){var c=s(e[o]),d=u(c,t[o]);"string"===c||"bytes"===c||"dynamic"===l(c)?(r.push(u("uint256",a)),i.push(d),a+=d.length):r.push(d)}return n.concat(r.concat(i))},solidityPack:d,soliditySHA3:function(e,t){return i.keccak(d(e,t))}}},15875:(e,t,r)=>{var n=r(75927).hp;let i=r(66811),s=r(65169),a={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},o={encodeData(e,t,r,a=!0){let o=["bytes32"],l=[this.hashType(e,r)];if(a){let c=(e,t,o)=>{if(void 0!==r[t])return["bytes32",null==o?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,o,r,a))];if(void 0===o)throw Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(o)];if("string"===t)return"string"==typeof o&&(o=n.from(o,"utf8")),["bytes32",i.keccak(o)];if(t.lastIndexOf("]")===t.length-1){let r=t.slice(0,t.lastIndexOf("[")),n=o.map(t=>c(e,r,t));return["bytes32",i.keccak(s.rawEncode(n.map(([e])=>e),n.map(([,e])=>e)))]}return[t,o]};for(let n of r[e]){let[e,r]=c(n.name,n.type,t[n.name]);o.push(e),l.push(r)}}else for(let s of r[e]){let e=t[s.name];if(void 0!==e){if("bytes"===s.type)o.push("bytes32"),e=i.keccak(e),l.push(e);else if("string"===s.type)o.push("bytes32"),"string"==typeof e&&(e=n.from(e,"utf8")),e=i.keccak(e),l.push(e);else if(void 0!==r[s.type])o.push("bytes32"),e=i.keccak(this.encodeData(s.type,e,r,a)),l.push(e);else if(s.type.lastIndexOf("]")===s.type.length-1)throw Error("Arrays currently unimplemented in encodeData");else o.push(s.type),l.push(e)}}return s.rawEncode(o,l)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(t=>t!==e);for(let i of n=[e].concat(n.sort())){if(!t[i])throw Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;for(let n of(r.push(e),t[e]))for(let e of this.findTypeDependencies(n.type,t,r))r.includes(e)||r.push(e);return r},hashStruct(e,t,r,n=!0){return i.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){let t={};for(let r in a.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){let r=this.sanitizeData(e),s=[n.from("1901","hex")];return s.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&s.push(this.hashStruct(r.primaryType,r.message,r.types,t)),i.keccak(n.concat(s))}};e.exports={TYPED_MESSAGE_SCHEMA:a,TypedDataUtils:o,hashForSignTypedDataLegacy:function(e){return function(e){let t=Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;let r=e.map(function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value}),n=e.map(function(e){return e.type}),a=e.map(function(e){if(!e.name)throw t;return e.type+" "+e.name});return s.soliditySHA3(["bytes32","bytes32"],[s.soliditySHA3(Array(e.length).fill("string"),a),s.soliditySHA3(n,r)])}(e.data)},hashForSignTypedData_v3:function(e){return o.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return o.hash(e.data)}}},66811:(e,t,r)=>{var n=r(75927).hp;let{keccak_256:i}=r(43330);function s(e){return n.allocUnsafe(e).fill(0)}function a(e,t){let r=e.toString(16);r.length%2!=0&&(r="0"+r);let i=r.match(/.{1,2}/g).map(e=>parseInt(e,16));for(;i.length<t;)i.unshift(0);return n.from(i)}function o(e,t,r){let n=s(t);return(e=l(e),r)?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function l(e){if(!n.isBuffer(e)){if(Array.isArray(e))e=n.from(e);else if("string"==typeof e){var t;e=c(e)?n.from((t=u(e)).length%2?"0"+t:t,"hex"):n.from(e)}else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=n.allocUnsafe(0);else if("bigint"==typeof e)e=a(e);else if(e.toArray)e=n.from(e.toArray());else throw Error("invalid type")}return e}function c(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function u(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}e.exports={zeros:s,setLength:o,setLengthRight:function(e,t){return o(e,t,!0)},isHexString:c,stripHexPrefix:u,toBuffer:l,bufferToHex:function(e){return"0x"+(e=l(e)).toString("hex")},keccak:function(e,t){if(e=l(e),t||(t=256),256!==t)throw Error("unsupported");return n.from(i(new Uint8Array(e)))},bitLengthFromBigInt:function(e){return e.toString(2).length},bufferBEFromBigInt:a,twosFromBigInt:function(e,t){return(e<0n?(~e&(1n<<BigInt(t))-1n)+1n:e)&(1n<<BigInt(t))-1n}}},28509:(e,t,r)=>{"use strict";let n=r(56617);e.exports=u;let i=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function s(e,t){return"silent"===e?1/0:t.levels.values[e]}let a=Symbol("pino.logFuncs"),o=Symbol("pino.hierarchy"),l={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(e,t){let r={logger:t,parent:e[o]};t[o]=r}function u(e){var t,r;(e=e||{}).browser=e.browser||{};let n=e.browser.transmit;if(n&&"function"!=typeof n.send)throw Error("pino: transmit option must have a send function");let o=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);let p=e.serializers||{},y=Array.isArray(t=e.browser.serialize)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(p),g=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(g=!1);let v=Object.keys(e.customLevels||{}),_=["error","fatal","warn","info","debug","trace"].concat(v);"function"==typeof o&&_.forEach(function(e){o[e]=o}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");let x=e.level||"info",E=Object.create(o);E.log||(E.log=m),function(e,t,r){let n={};t.forEach(e=>{n[e]=r[e]?r[e]:i[e]||i[l[e]||"log"]||m}),e[a]=n}(E,_,o),c({},E),Object.defineProperty(E,"levelVal",{get:function(){return s(this.level,this)}}),Object.defineProperty(E,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,d(this,I,E,"error"),d(this,I,E,"fatal"),d(this,I,E,"warn"),d(this,I,E,"info"),d(this,I,E,"debug"),d(this,I,E,"trace"),v.forEach(e=>{d(this,I,E,e)})}});let I={transmit:n,serialize:y,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:_,timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?b:w,messageKey:e.messageKey||"msg",onChild:e.onChild||m};function A(t,r,i){if(!r)throw Error("missing bindings for child Pino");i=i||{},y&&r.serializers&&(i.serializers=r.serializers);let s=i.serializers;if(y&&s){var a=Object.assign({},p,s),o=!0===e.browser.serialize?Object.keys(a):y;delete r.serializers,h([r],o,a,this._stdErrSerialize)}function l(e){this._childLevel=(0|e._childLevel)+1,this.bindings=r,a&&(this.serializers=a,this._serialize=o),n&&(this._logEvent=f([].concat(e._logEvent.bindings,r)))}l.prototype=this;let u=new l(this);return c(this,u),u.child=function(...e){return A.call(this,t,...e)},u.level=i.level||this.level,t.onChild(u),u}return E.levels=function(e){let t=e.customLevels||{};return{values:Object.assign({},u.levels.values,t),labels:Object.assign({},u.levels.labels,function(e){let t={};return Object.keys(e).forEach(function(r){t[e[r]]=r}),t}(t))}}(e),E.level=x,E.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},E.setMaxListeners=E.getMaxListeners=E.emit=E.addListener=E.on=E.prependListener=E.once=E.prependOnceListener=E.removeListener=E.removeAllListeners=E.listeners=E.listenerCount=E.eventNames=E.write=E.flush=m,E.serializers=p,E._serialize=y,E._stdErrSerialize=g,E.child=function(...e){return A.call(this,I,...e)},n&&(E._logEvent=f()),E}function d(e,t,r,l){var c,u;if(Object.defineProperty(e,l,{value:s(e.level,r)>s(l,r)?m:r[a][l],writable:!0,enumerable:!0,configurable:!0}),e[l]===m){if(!t.transmit)return;let n=s(t.transmit.level||e.level,r);if(s(l,r)<n)return}e[l]=(c=e[a][l],function(){let a=t.timestamp(),o=Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var d=0;d<o.length;d++)o[d]=arguments[d];var p=!1;if(t.serialize&&(h(o,this._serialize,this.serializers,this._stdErrSerialize),p=!0),t.asObject||t.formatters?c.call(u,...function(e,t,r,i,s){let{level:a,log:o=e=>e}=s.formatters||{},l=r.slice(),c=l[0],u={},d=(0|e._childLevel)+1;if(d<1&&(d=1),i&&(u.time=i),a?Object.assign(u,a(t,e.levels.values[t])):u.level=e.levels.values[t],s.asObjectBindingsOnly){if(null!==c&&"object"==typeof c)for(;d--&&"object"==typeof l[0];)Object.assign(u,l.shift());return[o(u),...l]}if(null!==c&&"object"==typeof c){for(;d--&&"object"==typeof l[0];)Object.assign(u,l.shift());c=l.length?n(l.shift(),l):void 0}else"string"==typeof c&&(c=n(l.shift(),l));return void 0!==c&&(u[s.messageKey]=c),[o(u)]}(this,l,o,a,t)):c.apply(u,o),t.transmit){let n=t.transmit.level||e._level,i=s(n,r),c=s(l,r);if(c<i)return;(function(e,t,r,n=!1){let i=t.send,s=t.ts,a=t.methodLevel,o=t.methodValue,l=t.val,c=e._logEvent.bindings;n||h(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=r.filter(function(e){return -1===c.indexOf(e)}),e._logEvent.level.label=a,e._logEvent.level.value=o,i(a,e._logEvent,l),e._logEvent=f(c)})(this,{ts:a,methodLevel:l,methodValue:c,transmitLevel:n,transmitValue:r.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:s(e._level,r)},o,p)}});let d=function(e){let t=[];e.bindings&&t.push(e.bindings);let r=e[o];for(;r.parent;)(r=r.parent).logger.bindings&&t.push(r.logger.bindings);return t.reverse()}(e);0!==d.length&&(e[l]=(u=e[l],function(){return u.apply(this,[...d,...arguments])}))}function h(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=u.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i])&&t)for(let n in e[i])t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function f(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function p(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}function y(){return{}}function g(e){return e}function m(){}function b(){return!1}function w(){return Date.now()}u.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},u.stdSerializers={mapHttpRequest:y,mapHttpResponse:y,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:y,res:y,err:p,errWithCause:p},u.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:w,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),e.exports.default=u,e.exports.pino=u},38526:(e,t,r)=>{"use strict";r.d(t,{_:()=>tl});class n{constructor(e,t){this.scope=e,this.module=t}storeObject(e,t){this.setItem(e,JSON.stringify(t))}loadObject(e){let t=this.getItem(e);return t?JSON.parse(t):void 0}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){let e=this.scopedKey(""),t=[];for(let r=0;r<localStorage.length;r++){let n=localStorage.key(r);"string"==typeof n&&n.startsWith(e)&&t.push(n)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new n("CBWSDK").clear(),new n("walletlink").clear()}}let i={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},s={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},a="Unspecified error message.";function o(e,t=a){if(e&&Number.isInteger(e)){let t=e.toString();if(c(s,t))return s[t].message;if(e>=-32099&&e<=-32e3)return"Unspecified server error."}return t}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}let d={rpc:{parse:e=>h(i.rpc.parse,e),invalidRequest:e=>h(i.rpc.invalidRequest,e),invalidParams:e=>h(i.rpc.invalidParams,e),methodNotFound:e=>h(i.rpc.methodNotFound,e),internal:e=>h(i.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return h(t,e)},invalidInput:e=>h(i.rpc.invalidInput,e),resourceNotFound:e=>h(i.rpc.resourceNotFound,e),resourceUnavailable:e=>h(i.rpc.resourceUnavailable,e),transactionRejected:e=>h(i.rpc.transactionRejected,e),methodNotSupported:e=>h(i.rpc.methodNotSupported,e),limitExceeded:e=>h(i.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>f(i.provider.userRejectedRequest,e),unauthorized:e=>f(i.provider.unauthorized,e),unsupportedMethod:e=>f(i.provider.unsupportedMethod,e),disconnected:e=>f(i.provider.disconnected,e),chainDisconnected:e=>f(i.provider.chainDisconnected,e),unsupportedChain:e=>f(i.provider.unsupportedChain,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new g(t,r,n)}}};function h(e,t){let[r,n]=p(t);return new y(e,r||o(e),n)}function f(e,t){let[r,n]=p(t);return new g(e,r||o(e),n)}function p(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}class y extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}}class g extends y{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}let m=e=>e,b=e=>e,w=e=>e;function v(e){return Math.floor(e)}var _,x=r(75927).hp;let E=/^[0-9]*$/,I=/^[a-f0-9]*$/;function A(e){return S(crypto.getRandomValues(new Uint8Array(e)))}function S(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}function k(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function C(e,t=!1){let r=e.toString("hex");return m(t?`0x${r}`:r)}function T(e){return C(j(e),!0)}function O(e){return w(e.toString(10))}function P(e){return m(`0x${BigInt(e).toString(16)}`)}function R(e){return e.startsWith("0x")||e.startsWith("0X")}function D(e){return R(e)?e.slice(2):e}function N(e){return R(e)?`0x${e.slice(2)}`:`0x${e}`}function U(e){if("string"!=typeof e)return!1;let t=D(e).toLowerCase();return I.test(t)}function M(e,t=!1){let r=function(e,t=!1){if("string"==typeof e){let r=D(e).toLowerCase();if(I.test(r))return m(t?`0x${r}`:r)}throw d.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}(e,!1);return r.length%2==1&&(r=m(`0${r}`)),t?m(`0x${r}`):r}function B(e){if("string"==typeof e){let t=D(e).toLowerCase();if(U(t)&&40===t.length)return b(N(t))}throw d.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}function j(e){if(x.isBuffer(e))return e;if("string"==typeof e){if(U(e)){let t=M(e,!1);return x.from(t,"hex")}return x.from(e,"utf8")}throw d.rpc.invalidParams(`Not binary data: ${String(e)}`)}function L(e){if("number"==typeof e&&Number.isInteger(e))return v(e);if("string"==typeof e){if(E.test(e))return v(Number(e));if(U(e))return v(Number(BigInt(M(e,!0))))}throw d.rpc.invalidParams(`Not an integer: ${String(e)}`)}function F(e){if(null!==e&&("bigint"==typeof e||function(e){if(null==e||"function"!=typeof e.constructor)return!1;let{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}(e)))return BigInt(e.toString(10));if("number"==typeof e)return BigInt(L(e));if("string"==typeof e){if(E.test(e))return BigInt(e);if(U(e))return BigInt(M(e,!0))}throw d.rpc.invalidParams(`Not an integer: ${String(e)}`)}async function $(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function z(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function q(e,t){let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,new TextEncoder().encode(t));return{iv:r,cipherText:n}}async function W(e,{iv:t,cipherText:r}){let n=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r);return new TextDecoder().decode(n)}function H(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function V(e,t){let r=H(e);return S(new Uint8Array(await crypto.subtle.exportKey(r,t)))}async function K(e,t){let r=H(e),n=k(t).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,"private"===e?["deriveKey"]:[])}async function G(e,t){return q(t,JSON.stringify(e,(e,t)=>t instanceof Error?Object.assign(Object.assign({},t.code?{code:t.code}:{}),{message:t.message}):t))}async function Z(e,t){return JSON.parse(await W(t,e))}let J={storageKey:"ownPrivateKey",keyType:"private"},Y={storageKey:"ownPublicKey",keyType:"public"},Q={storageKey:"peerPublicKey",keyType:"public"};class X{constructor(){this.storage=new n("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(Q,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(Y.storageKey),this.storage.removeItem(J.storageKey),this.storage.removeItem(Q.storageKey)}async generateKeyPair(){let e=await $();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(J,e.privateKey),await this.storeKey(Y,e.publicKey)}async loadKeysIfNeeded(){null===this.ownPrivateKey&&(this.ownPrivateKey=await this.loadKey(J)),null===this.ownPublicKey&&(this.ownPublicKey=await this.loadKey(Y)),(null===this.ownPrivateKey||null===this.ownPublicKey)&&await this.generateKeyPair(),null===this.peerPublicKey&&(this.peerPublicKey=await this.loadKey(Q)),null===this.sharedSecret&&null!==this.ownPrivateKey&&null!==this.peerPublicKey&&(this.sharedSecret=await z(this.ownPrivateKey,this.peerPublicKey))}async loadKey(e){let t=this.storage.getItem(e.storageKey);return t?K(e.keyType,t):null}async storeKey(e,t){let r=await V(e.keyType,t);this.storage.setItem(e.storageKey,r)}}let ee="4.3.2",et="@coinbase/wallet-sdk";async function er(e,t){let r=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(t,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":ee,"X-Cbw-Sdk-Platform":et}}),{result:i,error:s}=await n.json();if(s)throw s;return i}let en="accounts",ei="activeChain",es="availableChains",ea="walletCapabilities";class eo{constructor(e){var t,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new X,this.storage=new n("CBWSDK","SCWStateManager"),this.accounts=null!==(t=this.storage.loadObject(en))&&void 0!==t?t:[],this.chain=this.storage.loadObject(ei)||{id:null!==(i=null===(r=e.metadata.appChainIds)||void 0===r?void 0:r[0])&&void 0!==i?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var t,r,n,i;await (null===(r=(t=this.communicator).waitForPopupLoaded)||void 0===r?void 0:r.call(t));let s=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,null!==(n=e.params)&&void 0!==n?n:{})}}),a=await this.communicator.postRequestAndWaitForResponse(s);if("failure"in a.content)throw a.content.failure;let o=await K("public",a.sender);await this.keyManager.setPeerPublicKey(o);let l=(await this.decryptResponseMessage(a)).result;if("error"in l)throw l.error;if("eth_requestAccounts"===e.method){let e=l.value;this.accounts=e,this.storage.storeObject(en,e),null===(i=this.callback)||void 0===i||i.call(this,"accountsChanged",e)}}async request(e){var t;if(0===this.accounts.length){if("wallet_sendCalls"===e.method)return this.sendRequestToPopup(e);throw d.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return null===(t=this.callback)||void 0===t||t.call(this,"connect",{chainId:P(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return P(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(ea);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw d.rpc.internal("No RPC URL set for chain");return er(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var t,r;await (null===(r=(t=this.communicator).waitForPopupLoaded)||void 0===r?void 0:r.call(t));let n=await this.sendEncryptedRequest(e),i=(await this.decryptResponseMessage(n)).result;if("error"in i)throw i.error;return i.value}async cleanup(){var e,t;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:null!==(t=null===(e=this.metadata.appChainIds)||void 0===e?void 0:e[0])&&void 0!==t?t:1}}async handleSwitchChainRequest(e){var t;let r=e.params;if(!r||!(null===(t=r[0])||void 0===t?void 0:t.chainId))throw d.rpc.invalidParams();let n=L(r[0].chainId);if(this.updateChain(n))return null;let i=await this.sendRequestToPopup(e);return null===i&&this.updateChain(n),i}async sendEncryptedRequest(e){let t=await this.keyManager.getSharedSecret();if(!t)throw d.provider.unauthorized("No valid session found, try requestAccounts before other methods");let r=await G({action:e,chainId:this.chain.id},t),n=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(n)}async createRequestMessage(e){let t=await V("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:t,content:e,timestamp:new Date}}async decryptResponseMessage(e){var t,r;let n=e.content;if("failure"in n)throw n.failure;let i=await this.keyManager.getSharedSecret();if(!i)throw d.provider.unauthorized("Invalid session");let s=await Z(n.encrypted,i),a=null===(t=s.data)||void 0===t?void 0:t.chains;if(a){let e=Object.entries(a).map(([e,t])=>({id:Number(e),rpcUrl:t}));this.storage.storeObject(es,e),this.updateChain(this.chain.id,e)}let o=null===(r=s.data)||void 0===r?void 0:r.capabilities;return o&&this.storage.storeObject(ea,o),s}updateChain(e,t){var r;let n=null!=t?t:this.storage.loadObject(es),i=null==n?void 0:n.find(t=>t.id===e);return!!i&&(i!==this.chain&&(this.chain=i,this.storage.storeObject(ei,i),null===(r=this.callback)||void 0===r||r.call(this,"chainChanged",P(i.id))),!0)}}var el=r(15875);let ec="Addresses";function eu(e){return void 0!==e.errorMessage}class ed{constructor(e){this.secret=e}async encrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",k(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(e)),a=s.slice(s.byteLength-16),o=s.slice(0,s.byteLength-16),l=new Uint8Array(a),c=new Uint8Array(o);return S(new Uint8Array([...r,...l,...c]))}async decrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");return new Promise((r,n)=>{!async function(){let i=await crypto.subtle.importKey("raw",k(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=k(e),a=s.slice(0,12),o=s.slice(12,28),l=new Uint8Array([...s.slice(28),...o]),c={name:"AES-GCM",iv:new Uint8Array(a)};try{let e=await window.crypto.subtle.decrypt(c,i,l),t=new TextDecoder;r(t.decode(e))}catch(e){n(e)}}()})}}class eh{constructor(e,t,r){this.linkAPIUrl=e,this.sessionId=t;let n=`${t}:${r}`;this.auth=`Basic ${btoa(n)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(e=>console.error("Unabled to mark event as failed:",e))}async fetchUnseenEvents(){var e;let t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){let{events:r,error:n}=await t.json();if(n)throw Error(`Check unseen events failed: ${n}`);let i=null!==(e=null==r?void 0:r.filter(e=>"Web3Response"===e.event).map(e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data})))&&void 0!==e?e:[];return this.markUnseenEventsAsSeen(i),i}throw Error(`Check unseen events failed: ${t.status}`)}}!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(_||(_={}));class ef{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw Error("webSocket object is not null");return new Promise((e,t)=>{var r;let n;try{this.webSocket=n=new this.WebSocketClass(this.url)}catch(e){t(e);return}null===(r=this.connectionStateListener)||void 0===r||r.call(this,_.CONNECTING),n.onclose=e=>{var r;this.clearWebSocket(),t(Error(`websocket error ${e.code}: ${e.reason}`)),null===(r=this.connectionStateListener)||void 0===r||r.call(this,_.DISCONNECTED)},n.onopen=t=>{var r;e(),null===(r=this.connectionStateListener)||void 0===r||r.call(this,_.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(e=>this.sendData(e)),this.pendingData=[])},n.onmessage=e=>{var t,r;if("h"===e.data)null===(t=this.incomingDataListener)||void 0===t||t.call(this,{type:"Heartbeat"});else try{let t=JSON.parse(e.data);null===(r=this.incomingDataListener)||void 0===r||r.call(this,t)}catch(e){}}})}disconnect(){var e;let{webSocket:t}=this;if(t){this.clearWebSocket(),null===(e=this.connectionStateListener)||void 0===e||e.call(this,_.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(e){}}}sendData(e){let{webSocket:t}=this;if(!t){this.pendingData.push(e),this.connect();return}t.send(e)}clearWebSocket(){let{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}class ep{constructor({session:e,linkAPIUrl:t,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=v(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{e&&new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]).forEach((t,r)=>{let n=e[r];void 0!==n&&t(n)})},this.handleDestroyed=e=>{var t;"1"===e&&(null===(t=this.listener)||void 0===t||t.resetAndReload())},this.handleAccountUpdated=async e=>{var t;let r=await this.cipher.decrypt(e);null===(t=this.listener)||void 0===t||t.accountUpdated(r)},this.handleMetadataUpdated=async(e,t)=>{var r;let n=await this.cipher.decrypt(t);null===(r=this.listener)||void 0===r||r.metadataUpdated(e,n)},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated("walletUsername",e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated("AppVersion",e)},this.handleChainUpdated=async(e,t)=>{var r;let n=await this.cipher.decrypt(e),i=await this.cipher.decrypt(t);null===(r=this.listener)||void 0===r||r.chainUpdated(n,i)},this.session=e,this.cipher=new ed(e.secret),this.listener=r;let n=new ef(`${t}/rpc`,WebSocket);n.setConnectionStateListener(async e=>{let t=!1;switch(e){case _.DISCONNECTED:if(!this.destroyed){let e=async()=>{await new Promise(e=>setTimeout(e,5e3)),this.destroyed||n.connect().catch(()=>{e()})};e()}break;case _.CONNECTED:t=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},1e4),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();case _.CONNECTING:}this.connected!==t&&(this.connected=t)}),n.setIncomingDataListener(e=>{var t;switch(e.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{let t="IsLinkedOK"===e.type?e.linked:void 0;this.linked=t||e.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":this.handleSessionMetadataUpdated(e.metadata);break;case"Event":this.handleIncomingEvent(e)}void 0!==e.id&&(null===(t=this.requestResolutions.get(e.id))||void 0===t||t(e))}),this.ws=n,this.http=new eh(t,e.id,e.key)}connect(){if(this.destroyed)throw Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:v(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var t,r;this._linked=e,e&&(null===(t=this.onceLinked)||void 0===t||t.call(this)),null===(r=this.listener)||void 0===r||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t;if("Event"!==e.type||"Web3Response"!==e.event)return;let r=JSON.parse(await this.cipher.decrypt(e.data));if("WEB3_RESPONSE"!==r.type)return;let{id:n,response:i}=r;null===(t=this.listener)||void 0===t||t.handleWeb3ResponseMessage(n,i)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(e=>this.handleIncomingEvent(e))}async publishEvent(e,t,r=!1){let n=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:v(this.nextReqId++),sessionId:this.session.id,event:e,data:n,callWebhook:r};return this.setOnceLinked(async()=>{let e=await this.makeRequest(i);if("Fail"===e.type)throw Error(e.error||"failed to publish event");return e.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4){this.ws.disconnect();return}try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t={timeout:6e4}){let r;let n=e.id;return this.sendData(e),Promise.race([new Promise((e,i)=>{r=window.setTimeout(()=>{i(Error(`request ${n} timed out`))},t.timeout)}),new Promise(e=>{this.requestResolutions.set(n,t=>{clearTimeout(r),e(t),this.requestResolutions.delete(n)})})])}async handleConnected(){return"Fail"!==(await this.makeRequest({type:"HostSession",id:v(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type&&(this.sendData({type:"IsLinked",id:v(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:v(this.nextReqId++),sessionId:this.session.id}),!0)}}class ey{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%0x7fffffff;let e=this._nextRequestId,t=N(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}function eg(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function em(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eb(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ew(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ev(e,t){return e<<32-t|e>>>t}let e_="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,ex=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eE(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),eg(e),e}class eI{}class eA extends eI{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=ew(this.buffer)}update(e){em(this),eg(e=eE(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=ew(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){em(this),function(e,t){eg(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,eb(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,c=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=ew(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let eS=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),ek=BigInt(0x100000000-1),eC=BigInt(32),eT=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),eO=new Uint32Array(64);class eP extends eA{constructor(e=32){super(64,e,8,!1),this.A=0|eS[0],this.B=0|eS[1],this.C=0|eS[2],this.D=0|eS[3],this.E=0|eS[4],this.F=0|eS[5],this.G=0|eS[6],this.H=0|eS[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)eO[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=eO[e-15],r=eO[e-2],n=ev(t,7)^ev(t,18)^t>>>3,i=ev(r,17)^ev(r,19)^r>>>10;eO[e]=i+eO[e-7]+n+eO[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){var u,d,h,f;let t=c+(ev(a,6)^ev(a,11)^ev(a,25))+((u=a)&o^~u&l)+eT[e]+eO[e]|0,p=(ev(r,2)^ev(r,13)^ev(r,22))+((d=r)&(h=n)^d&(f=i)^h&f)|0;c=l,l=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,s,a,o,l,c)}roundClean(){eb(eO)}destroy(){this.set(0,0,0,0,0,0,0,0),eb(this.buffer)}}let eR=function(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:a}=function(e,t=!1){return t?{h:Number(e&ek),l:Number(e>>eC&ek)}:{h:0|Number(e>>eC&ek),l:0|Number(e&ek)}}(e[s],t);[n[s],i[s]]=[r,a]}return[n,i]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e)));eR[0],eR[1];let eD=function(e){let t=t=>e().update(eE(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new eP),eN="session:id",eU="session:secret",eM="session:linked";class eB{constructor(e,t,r,n=!1){this.storage=e,this.id=t,this.secret=r,this.key=function(e){if(eg(e),e_)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=ex[e[r]];return t}(eD(`${t}, ${r} WalletLink`)),this._linked=!!n}static create(e){return new eB(e,A(16),A(32)).save()}static load(e){let t=e.getItem(eN),r=e.getItem(eM),n=e.getItem(eU);return t&&n?new eB(e,t,n,"1"===r):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(eN,this.id),this.storage.setItem(eU,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(eM,this._linked?"1":"0")}}function ej(){var e,t;return null!==(t=null===(e=null==window?void 0:window.matchMedia)||void 0===e?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)&&void 0!==t&&t}function eL(){let e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode('@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')),document.documentElement.appendChild(e)}var eF=r(68921),e$=r(33530),ez=r(58646);class eq{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=ej()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){let t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,e$.XX)((0,e$.h)("div",null,(0,e$.h)(eW,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>(0,e$.h)(eH,Object.assign({},t,{key:e}))))),this.root)}}let eW=e=>(0,e$.h)("div",{class:(0,eF.$)("-cbwsdk-snackbar-container")},(0,e$.h)("style",null,".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"),(0,e$.h)("div",{class:"-cbwsdk-snackbar"},e.children)),eH=({autoExpand:e,message:t,menuItems:r})=>{let[n,i]=(0,ez.J0)(!0),[s,a]=(0,ez.J0)(null!=e&&e);return(0,ez.vJ)(()=>{let e=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{a(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}}),(0,e$.h)("div",{class:(0,eF.$)("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},(0,e$.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{a(!s)}},(0,e$.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,e$.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,e$.h)("div",{class:"-gear-container"},!s&&(0,e$.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e$.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,e$.h)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&(0,e$.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((e,t)=>(0,e$.h)("div",{class:(0,eF.$)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,e$.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e$.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,e$.h)("span",{class:(0,eF.$)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))},eV="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class eK{constructor(){this.attached=!1,this.snackbar=new eq}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");let e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.snackbar.attach(t),this.attached=!0,eL()}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:eV,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}}class eG{constructor(){this.root=null,this.darkMode=ej()}attach(){let e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),eL()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,e$.XX)(null,this.root),e&&(0,e$.XX)((0,e$.h)(eZ,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}let eZ=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:i})=>(0,e$.h)(eW,{darkMode:r},(0,e$.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,e$.h)("style",null,".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"),(0,e$.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,e$.h)("div",{class:(0,eF.$)("-cbwsdk-redirect-dialog-box",r?"dark":"light")},(0,e$.h)("p",null,e),(0,e$.h)("button",{onClick:n},t)))),eJ="https://www.walletlink.org";class eY{constructor(){this.attached=!1,this.redirectDialog=new eG}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){let t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",function(){try{if(function(){try{return null!==window.frameElement}catch(e){return!1}}()&&window.top)return window.top.location;return window.location}catch(e){return window.location}}().href),e&&t.searchParams.append("wl_url",e);let r=document.createElement("a");r.target="cbw-opener",r.href=t.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class eQ{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null===(e=null==window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)}(),this.linkedUpdated=e=>{this.isLinked=e;let t=this.storage.getItem(ec);if(e&&(this._session.linked=e),this.isUnlinkedErrorState=!1,t){let r=t.split(" "),n="true"===this.storage.getItem("IsStandaloneSigning");""===r[0]||e||!this._session.linked||n||(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)},this.chainUpdated=(e,t)=>{(this.chainCallbackParams.chainId!==e||this.chainCallbackParams.jsonRpcUrl!==t)&&(this.chainCallbackParams={chainId:e,jsonRpcUrl:t},this.chainCallback&&this.chainCallback(t,Number.parseInt(e,10)))},this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]),eQ.accountRequestCallbackIds.size>0&&(Array.from(eQ.accountRequestCallbackIds.values()).forEach(t=>{this.invokeCallback(t,{method:"requestEthereumAccounts",result:[e]})}),eQ.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;let{session:t,ui:r,connection:n}=this.subscribe();this._session=t,this.connection=n,this.relayEventManager=new ey,this.ui=r,this.ui.attach()}subscribe(){let e=eB.load(this.storage)||eB.create(this.storage),{linkAPIUrl:t}=this,r=new ep({session:e,linkAPIUrl:t,listener:this}),n=this.isMobileWeb?new eY:new eK;return r.connect(),{session:e,ui:n,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{let e=eB.load(this.storage);(null==e?void 0:e.id)===this._session.id&&n.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:O(e.weiValue),data:C(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?O(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?O(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?O(e.gasPriceInWei):null,gasLimit:e.gasLimit?O(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:O(e.weiValue),data:C(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?O(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?O(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?O(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?O(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:C(e,!0),chainId:t}})}getWalletLinkSession(){return this._session}sendRequest(e){let t=null,r=A(8),n=n=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,n),null==t||t()};return new Promise((i,s)=>{t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,e=>{if(null==t||t(),eu(e))return s(Error(e.errorMessage));i(e)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,t){let r={type:"WEB3_REQUEST",id:e,request:t};this.publishEvent("Web3Request",r,!0).then(e=>{}).catch(e=>{this.handleWeb3ResponseMessage(r.id,{method:t.method,errorMessage:e.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(t.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof eY)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink()}}publishWeb3RequestCanceledEvent(e){this.publishEvent("Web3RequestCanceled",{type:"WEB3_REQUEST_CANCELED",id:e},!1).then()}publishEvent(e,t,r){return this.connection.publishEvent(e,t,r)}handleWeb3ResponseMessage(e,t){if("requestEthereumAccounts"===t.method){eQ.accountRequestCallbackIds.forEach(e=>this.invokeCallback(e,t)),eQ.accountRequestCallbackIds.clear();return}this.invokeCallback(e,t)}handleErrorResponse(e,t,r){var n;let i=null!==(n=null==r?void 0:r.message)&&void 0!==n?n:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:t,errorMessage:i})}invokeCallback(e,t){let r=this.relayEventManager.callbacks.get(e);r&&(r(t),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){let{appName:e,appLogoUrl:t}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:t}},n=A(8);return new Promise((e,t)=>{this.relayEventManager.callbacks.set(n,r=>{if(eu(r))return t(Error(r.errorMessage));e(r)}),eQ.accountRequestCallbackIds.add(n),this.publishWeb3RequestEvent(n,r)})}watchAsset(e,t,r,n,i,s){let a={method:"watchAsset",params:{type:e,options:{address:t,symbol:r,decimals:n,image:i},chainId:s}},o=null,l=A(8);return o=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,e),null==o||o()},onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(l,r=>{if(null==o||o(),eu(r))return t(Error(r.errorMessage));e(r)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(e,t,r,n,i,s){let a={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:n,chainName:i,iconUrls:r,nativeCurrency:s}},o=null,l=A(8);return o=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,e),null==o||o()},onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(l,r=>{if(null==o||o(),eu(r))return t(Error(r.errorMessage));e(r)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(e,t){let r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})},n=null,i=A(8);return n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,e),null==n||n()},onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(i,r=>(null==n||n(),eu(r)&&r.errorCode)?t(d.provider.custom({code:r.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):eu(r)?t(Error(r.errorMessage)):void e(r)),this.publishWeb3RequestEvent(i,r)})}}eQ.accountRequestCallbackIds=new Set;var eX=r(75927).hp;let e0="DefaultChainId",e1="DefaultJsonRpcUrl";class e2{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new n("walletlink",eJ),this.callback=e.callback||null;let t=this._storage.getItem(ec);if(t){let e=t.split(" ");""!==e[0]&&(this._addresses=e.map(e=>B(e)))}this.initializeRelay()}getSession(){let{id:e,secret:t}=this.initializeRelay().getWalletLinkSession();return{id:e,secret:t}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return null!==(e=this._storage.getItem(e1))&&void 0!==e?e:void 0}set jsonRpcUrl(e){this._storage.setItem(e1,e)}updateProviderInfo(e,t){var r;this.jsonRpcUrl=e;let n=this.getChainId();this._storage.setItem(e0,t.toString(10)),L(t)!==n&&(null===(r=this.callback)||void 0===r||r.call(this,"chainChanged",P(t)))}async watchAsset(e){let t=Array.isArray(e)?e[0]:e;if(!t.type)throw d.rpc.invalidParams("Type is required");if((null==t?void 0:t.type)!=="ERC20")throw d.rpc.invalidParams(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw d.rpc.invalidParams("Options are required");if(!(null==t?void 0:t.options.address))throw d.rpc.invalidParams("Address is required");let r=this.getChainId(),{address:n,symbol:i,image:s,decimals:a}=t.options,o=this.initializeRelay(),l=await o.watchAsset(t.type,n,i,a,s,null==r?void 0:r.toString());return!eu(l)&&!!l.result}async addEthereumChain(e){var t,r;let n=e[0];if((null===(t=n.rpcUrls)||void 0===t?void 0:t.length)===0)throw d.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!n.chainName||""===n.chainName.trim())throw d.rpc.invalidParams("chainName is a required field");if(!n.nativeCurrency)throw d.rpc.invalidParams("nativeCurrency is a required field");let i=Number.parseInt(n.chainId,16);if(i===this.getChainId())return!1;let s=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:o=[],chainName:l,iconUrls:c=[],nativeCurrency:u}=n,h=await s.addEthereumChain(i.toString(),a,c,o,l,u);if(eu(h))return!1;if((null===(r=h.result)||void 0===r?void 0:r.isApproved)===!0)return this.updateProviderInfo(a[0],i),null;throw d.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){let t=Number.parseInt(e[0].chainId,16),r=this.initializeRelay(),n=await r.switchEthereumChain(t.toString(10),this.selectedAddress||void 0);if(eu(n))throw n;let i=n.result;return i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,t){var r;if(!Array.isArray(e))throw Error("addresses is not an array");let n=e.map(e=>B(e));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,null===(r=this.callback)||void 0===r||r.call(this,"accountsChanged",n),this._storage.setItem(ec,n.join(" ")))}async request(e){let t=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return P(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(t);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(t);case"eth_sendTransaction":return this._eth_sendTransaction(t);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(t);case"wallet_switchEthereumChain":return this.switchEthereumChain(t);case"wallet_watchAsset":return this.watchAsset(t);default:if(!this.jsonRpcUrl)throw d.rpc.internal("No RPC URL set for chain");return er(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){let t=B(e);if(!this._addresses.map(e=>B(e)).includes(t))throw Error("Unknown Ethereum address")}_prepareTransactionParams(e){let t=e.from?B(e.from):this.selectedAddress;if(!t)throw Error("Ethereum address is unavailable");this._ensureKnownAddress(t);let r=e.to?B(e.to):null,n=null!=e.value?F(e.value):BigInt(0),i=e.data?j(e.data):eX.alloc(0),s=null!=e.nonce?L(e.nonce):null,a=null!=e.gasPrice?F(e.gasPrice):null,o=null!=e.maxFeePerGas?F(e.maxFeePerGas):null;return{fromAddress:t,toAddress:r,weiValue:n,data:i,nonce:s,gasPriceInWei:a,maxFeePerGas:o,maxPriorityFeePerGas:null!=e.maxPriorityFeePerGas?F(e.maxPriorityFeePerGas):null,gasLimit:null!=e.gas?F(e.gas):null,chainId:e.chainId?L(e.chainId):this.getChainId()}}async ecRecover(e){let{method:t,params:r}=e;if(!Array.isArray(r))throw d.rpc.invalidParams();let n=this.initializeRelay(),i=await n.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:T(r[0]),signature:T(r[1]),addPrefix:"personal_ecRecover"===t}});if(eu(i))throw i;return i.result}getChainId(){var e;return Number.parseInt(null!==(e=this._storage.getItem(e0))&&void 0!==e?e:"1",10)}async _eth_requestAccounts(){var e,t;if(this._addresses.length>0)return null===(e=this.callback)||void 0===e||e.call(this,"connect",{chainId:P(this.getChainId())}),this._addresses;let r=this.initializeRelay(),n=await r.requestEthereumAccounts();if(eu(n))throw n;if(!n.result)throw Error("accounts received is empty");return this._setAddresses(n.result),null===(t=this.callback)||void 0===t||t.call(this,"connect",{chainId:P(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw d.rpc.invalidParams();let t=e[1],r=e[0];this._ensureKnownAddress(t);let n=this.initializeRelay(),i=await n.sendRequest({method:"signEthereumMessage",params:{address:B(t),message:T(r),addPrefix:!0,typedDataJson:null}});if(eu(i))throw i;return i.result}async _eth_signTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),r=this.initializeRelay(),n=await r.signEthereumTransaction(t);if(eu(n))throw n;return n.result}async _eth_sendRawTransaction(e){let t=j(e[0]),r=this.initializeRelay(),n=await r.submitEthereumTransaction(t,this.getChainId());if(eu(n))throw n;return n.result}async _eth_sendTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),r=this.initializeRelay(),n=await r.signAndSubmitEthereumTransaction(t);if(eu(n))throw n;return n.result}async signTypedData(e){let{method:t,params:r}=e;if(!Array.isArray(r))throw d.rpc.invalidParams();let n=r["eth_signTypedData_v1"===t?1:0],i=r["eth_signTypedData_v1"===t?0:1];this._ensureKnownAddress(n);let s=this.initializeRelay(),a=await s.sendRequest({method:"signEthereumMessage",params:{address:B(n),message:C(({eth_signTypedData_v1:el.hashForSignTypedDataLegacy,eth_signTypedData_v3:el.hashForSignTypedData_v3,eth_signTypedData_v4:el.hashForSignTypedData_v4,eth_signTypedData:el.hashForSignTypedData_v4})[t]({data:function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw d.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}(i)}),!0),typedDataJson:JSON.stringify(i,null,2),addPrefix:!1}});if(eu(a))throw a;return a.result}initializeRelay(){return this._relay||(this._relay=new eQ({linkAPIUrl:eJ,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}let e6="SignerType",e5=new n("CBWSDK","SignerConfigurator");async function e8(e){let{communicator:t,metadata:r,handshakeRequest:n,callback:i}=e;e3(t,r,i).catch(()=>{});let s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},e.preference),{handshakeRequest:n})},{data:a}=await t.postRequestAndWaitForResponse(s);return a}async function e3(e,t,r){await e.onMessage(({event:e})=>"WalletLinkSessionRequest"===e);let n=new e2({metadata:t,callback:r});e.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}let e4=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,{checkCrossOriginOpenerPolicy:e9,getCrossOriginOpenerPolicy:e7}=(()=>{let e;return{getCrossOriginOpenerPolicy:()=>void 0===e?"undefined":e,checkCrossOriginOpenerPolicy:async()=>{if("undefined"==typeof window){e="non-browser-env";return}try{let t=`${window.location.origin}${window.location.pathname}`,r=await fetch(t,{method:"HEAD"});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let n=r.headers.get("Cross-Origin-Opener-Policy");e=null!=n?n:"null","same-origin"===e&&console.error(e4)}catch(t){console.error("Error checking Cross-Origin-Opener-Policy:",t.message),e="error"}}}})(),te={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:eV,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},tt=null;class tr{constructor({url:e="https://keys.coinbase.com/connect",metadata:t,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async e=>{(await this.waitForPopupLoaded()).postMessage(e,this.url.origin)},this.postRequestAndWaitForResponse=async e=>{let t=this.onMessage(({requestId:t})=>t===e.id);return this.postMessage(e),await t},this.onMessage=async e=>new Promise((t,r)=>{let n=r=>{if(r.origin!==this.url.origin)return;let i=r.data;e(i)&&(t(i),window.removeEventListener("message",n),this.listeners.delete(n))};window.addEventListener("message",n),this.listeners.set(n,{reject:r})}),this.disconnect=()=>{(function(e){e&&!e.closed&&e.close()})(this.popup),this.popup=null,this.listeners.forEach(({reject:e},t)=>{e(d.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",t)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await function(e){let t=(window.innerWidth-420)/2+window.screenX,r=(window.innerHeight-540)/2+window.screenY;function n(){let n=`wallet_${crypto.randomUUID()}`,i=window.open(e,n,`width=420, height=540, left=${t}, top=${r}`);return(null==i||i.focus(),i)?i:null}(function(e){for(let[t,r]of Object.entries({sdkName:et,sdkVersion:ee,origin:window.location.origin,coop:e7()}))e.searchParams.append(t,r.toString())})(e);let i=n();if(!i){let e=function(){if(!tt){let e=document.createElement("div");e.className="-cbwsdk-css-reset",document.body.appendChild(e),(tt=new eq).attach(e)}return tt}();return new Promise((t,r)=>{e.presentItem({autoExpand:!0,message:"Popup was blocked. Try again.",menuItems:[Object.assign(Object.assign({},te),{onClick:()=>{(i=n())?t(i):r(d.rpc.internal("Popup window was blocked")),e.clear()}})]})})}return Promise.resolve(i)}(this.url),this.onMessage(({event:e})=>"PopupUnload"===e).then(this.disconnect).catch(()=>{}),this.onMessage(({event:e})=>"PopupLoaded"===e).then(e=>{this.postMessage({requestId:e.id,data:{version:ee,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw d.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=t,this.preference=r}}var tn=r(29761);class ti extends tn.b{}var ts=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class ta extends ti{constructor(e){var{metadata:t}=e,r=e.preference,{keysUrl:n}=r,i=ts(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=t,this.preference=i,this.communicator=new tr({url:n,metadata:t,preference:i});let s=e5.getItem(e6);s&&(this.signer=this.initSigner(s))}async request(e){try{if(!function(e){if(!e||"object"!=typeof e||Array.isArray(e))throw d.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:e});let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw d.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw d.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:e});switch(t){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw d.provider.unsupportedMethod()}}(e),!this.signer)switch(e.method){case"eth_requestAccounts":{let t=await this.requestSignerSelection(e),r=this.initSigner(t);await r.handshake(e),this.signer=r,e5.setItem(e6,t);break}case"wallet_sendCalls":{let t=this.initSigner("scw");await t.handshake({method:"handshake"});let r=await t.request(e);return await t.cleanup(),r}case"wallet_getCallsStatus":return er(e,"https://rpc.wallet.coinbase.com");case"net_version":return 1;case"eth_chainId":return P(1);default:throw d.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(t){let{code:e}=t;return e===i.provider.unauthorized&&this.disconnect(),Promise.reject(function(e){let t=function(e,{shouldIncludeStack:t=!1}={}){var r,n;let d={};return e&&"object"==typeof e&&!Array.isArray(e)&&c(e,"code")&&Number.isInteger(r=e.code)&&(s[r.toString()]||(n=r)>=-32099&&n<=-32e3)?(d.code=e.code,e.message&&"string"==typeof e.message?(d.message=e.message,c(e,"data")&&(d.data=e.data)):(d.message=o(d.code),d.data={originalError:l(e)})):(d.code=i.rpc.internal,d.message=u(e,"message")?e.message:a,d.data={originalError:l(e)}),t&&(d.stack=u(e,"stack")?e.stack:void 0),d}(function(e){var t;if("string"==typeof e)return{message:e,code:i.rpc.internal};if(eu(e)){let r=e.errorMessage,n=null!==(t=e.errorCode)&&void 0!==t?t:r.match(/(denied|rejected)/i)?i.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},e),{message:r,code:n,data:{method:e.method}})}return e}(e),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return r.searchParams.set("version",ee),r.searchParams.set("code",t.code.toString()),r.searchParams.set("message",t.message),Object.assign(Object.assign({},t),{docUrl:r.href})}(t))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await (null===(e=this.signer)||void 0===e?void 0:e.cleanup()),this.signer=null,n.clearAll(),this.emit("disconnect",d.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return e8({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return function(e){let{signerType:t,metadata:r,communicator:n,callback:i}=e;switch(t){case"scw":return new eo({metadata:r,callback:i,communicator:n});case"walletlink":return new e2({metadata:r,callback:i})}}({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}let to={options:"all"};function tl(e){var t;new n("CBWSDK").setItem("VERSION",ee),e9();let r={metadata:{appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||"",appChainIds:e.appChainIds||[]},preference:Object.assign(to,null!==(t=e.preference)&&void 0!==t?t:{})};!function(e){if(e){if(!["all","smartWalletOnly","eoaOnly"].includes(e.options))throw Error(`Invalid options: ${e.options}`);if(e.attribution&&void 0!==e.attribution.auto&&void 0!==e.attribution.dataSuffix)throw Error("Attribution cannot contain both auto and dataSuffix properties")}}(r.preference);let i=null;return{getProvider:()=>(i||(i=function(e){var t;let r={metadata:e.metadata,preference:e.preference};return null!==(t=function({metadata:e,preference:t}){var r,n;let{appName:i,appLogoUrl:s,appChainIds:a}=e;if("smartWalletOnly"!==t.options){let e=globalThis.coinbaseWalletExtension;if(e)return null===(r=e.setAppInfo)||void 0===r||r.call(e,i,s,a,t),e}let o=function(){var e,t;try{let r=globalThis;return null!==(e=r.ethereum)&&void 0!==e?e:null===(t=r.top)||void 0===t?void 0:t.ethereum}catch(e){return}}();if(null==o?void 0:o.isCoinbaseBrowser)return null===(n=o.setAppInfo)||void 0===n||n.call(o,i,s,a,t),o}(r))&&void 0!==t?t:new ta(r)}(r)),i)}}},76291:(e,t,r)=>{"use strict";r.d(t,{VY:()=>h,rU:()=>d});var n=r(12115),i=r(44608),s=r(68840),a=r(54984),o=r(3256),l=r(12651),c=r(63593);let u=(0,n.createContext)(null);function d(){let[e,t]=(0,n.useState)([]);return[e.length>0?e.join(" "):void 0,(0,n.useMemo)(()=>function(e){let r=(0,i._)(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),s=(0,n.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props,value:e.value}),[r,e.slot,e.name,e.props,e.value]);return n.createElement(u.Provider,{value:s},e.children)},[t])]}u.displayName="DescriptionContext";let h=Object.assign((0,c.FX)(function(e,t){let r=(0,n.useId)(),i=(0,l._)(),{id:d="headlessui-description-".concat(r),...h}=e,f=function e(){let t=(0,n.useContext)(u);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),p=(0,o.P)(t);(0,s.s)(()=>f.register(d),[d,f.register]);let y=(0,a._)({...f.slot,disabled:i||!1}),g={ref:p,...f.props,id:d};return(0,c.Ci)()({ourProps:g,theirProps:h,slot:y,defaultTag:"p",name:f.name||"Description"})}),{})},10771:(e,t,r)=>{"use strict";r.d(t,{lG:()=>ea,Lj:()=>es});var n=r(12115),i=r(9257),s=r(61743);function a(e,t,r,i){let a=(0,s.Y)(r);(0,n.useEffect)(()=>{function r(e){a.current(e)}return(e=null!=e?e:window).addEventListener(t,r,i),()=>e.removeEventListener(t,r,i)},[e,t,i])}var o=r(20766),l=r(44608),c=r(85200),u=r(68840),d=r(48553),h=r(96502),f=r(167),p=r(63593),y=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(y||{});let g=(0,p.FX)(function(e,t){var r;let{features:n=1,...i}=e,s={ref:t,"aria-hidden":(2&n)==2||(null!=(r=i["aria-hidden"])?r:void 0),hidden:(4&n)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return(0,p.Ci)()({ourProps:s,theirProps:i,slot:{},defaultTag:"span",name:"Hidden"})});var m=r(41671),b=r(42572);let w=(0,n.createContext)(null);function v(e){let{children:t,node:r}=e,[i,s]=(0,n.useState)(null),a=_(null!=r?r:i);return n.createElement(w.Provider,{value:a},t,null===a&&n.createElement(g,{features:y.Hidden,ref:e=>{var t,r;if(e){for(let n of null!=(r=null==(t=(0,b.TW)(e))?void 0:t.querySelectorAll("html > *, body > *"))?r:[])if(n!==document.body&&n!==document.head&&m.vq(n)&&null!=n&&n.contains(e)){s(n);break}}}}))}function _(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!=(e=(0,n.useContext)(w))?e:t}var x=r(65134),E=r(45384),I=r(54984),A=r(3256);let S=(0,n.createContext)(()=>{});function k(e){let{value:t,children:r}=e;return n.createElement(S.Provider,{value:t},r)}var C=r(64254),T=r(6774),O=r(60454),P=r(23780),R=r(93270),D=r(76291),N=r(36271),U=r(15245),M=r(72904),B=r(84689),j=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(j||{});function L(e,t){let r=(0,n.useRef)([]),i=(0,l._)(e);(0,n.useEffect)(()=>{let e=[...r.current];for(let[n,s]of t.entries())if(r.current[n]!==s){let n=i(t,e);return r.current=t,n}},[i,...t])}var F=r(60109);let $=[];!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}(()=>{function e(e){if(!m.Lk(e.target)||e.target===document.body||$[0]===e.target)return;let t=e.target;t=t.closest(F.Uo),$.unshift(null!=t?t:e.target),($=$.filter(e=>null!=e&&e.isConnected)).splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var z=r(12159);function q(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)m.vq(r.current)&&t.add(r.current);return t}var W=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(W||{});let H=Object.assign((0,p.FX)(function(e,t){let r,i=(0,n.useRef)(null),s=(0,A.P)(i,t),{initialFocus:c,initialFocusFallback:u,containers:d,features:h=15,...w}=e;(0,E.g)()||(h=0);let v=(0,f.g)(i.current);!function(e,t){let{ownerDocument:r}=t,i=!!(8&e),s=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,n.useRef)($.slice());return L((e,r)=>{let[n]=e,[i]=r;!0===i&&!1===n&&(0,z._)(()=>{t.current.splice(0)}),!1===i&&!0===n&&(t.current=$.slice())},[e,$,t]),(0,l._)(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(i);L(()=>{i||(0,b.X7)(null==r?void 0:r.body)&&(0,F.pW)(s())},[i]),(0,M.X)(()=>{i&&(0,F.pW)(s())})}(h,{ownerDocument:v});let _=function(e,t){let{ownerDocument:r,container:i,initialFocus:s,initialFocusFallback:a}=t,l=(0,n.useRef)(null),c=(0,o.S)(!!(1&e),"focus-trap#initial-focus"),u=(0,U.a)();return L(()=>{if(0===e)return;if(!c){null!=a&&a.current&&(0,F.pW)(a.current);return}let t=i.current;t&&(0,z._)(()=>{if(!u.current)return;let n=null==r?void 0:r.activeElement;if(null!=s&&s.current){if((null==s?void 0:s.current)===n){l.current=n;return}}else if(t.contains(n)){l.current=n;return}if(null!=s&&s.current)(0,F.pW)(s.current);else{if(16&e){if((0,F.CU)(t,F.BD.First|F.BD.AutoFocus)!==F.Me.Error)return}else if((0,F.CU)(t,F.BD.First)!==F.Me.Error)return;if(null!=a&&a.current&&((0,F.pW)(a.current),(null==r?void 0:r.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=null==r?void 0:r.activeElement})},[a,c,e]),l}(h,{ownerDocument:v,container:i,initialFocus:c,initialFocusFallback:u});!function(e,t){let{ownerDocument:r,container:n,containers:i,previousActiveElement:s}=t,o=(0,U.a)(),l=!!(4&e);a(null==r?void 0:r.defaultView,"focus",e=>{if(!l||!o.current)return;let t=q(i);m.sb(n.current)&&t.add(n.current);let r=s.current;if(!r)return;let a=e.target;m.sb(a)?V(t,a)?(s.current=a,(0,F.pW)(a)):(e.preventDefault(),e.stopPropagation(),(0,F.pW)(r)):(0,F.pW)(s.current)},!0)}(h,{ownerDocument:v,container:i,containers:d,previousActiveElement:_});let x=(r=(0,n.useRef)(0),(0,B.M)(!0,"keydown",e=>{"Tab"===e.key&&(r.current=e.shiftKey?1:0)},!0),r),I=(0,l._)(e=>{if(!m.sb(i.current))return;let t=i.current;(0,R.Y)(x.current,{[j.Forwards]:()=>{(0,F.CU)(t,F.BD.First,{skipElements:[e.relatedTarget,u]})},[j.Backwards]:()=>{(0,F.CU)(t,F.BD.Last,{skipElements:[e.relatedTarget,u]})}})}),S=(0,o.S)(!!(2&h),"focus-trap#tab-lock"),k=(0,N.L)(),C=(0,n.useRef)(!1),T=(0,p.Ci)();return n.createElement(n.Fragment,null,S&&n.createElement(g,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:I,features:y.Focusable}),T({ourProps:{ref:s,onKeyDown(e){"Tab"==e.key&&(C.current=!0,k.requestAnimationFrame(()=>{C.current=!1}))},onBlur(e){if(!(4&h))return;let t=q(d);m.sb(i.current)&&t.add(i.current);let r=e.relatedTarget;m.Lk(r)&&"true"!==r.dataset.headlessuiFocusGuard&&(V(t,r)||(C.current?(0,F.CU)(i.current,(0,R.Y)(x.current,{[j.Forwards]:()=>F.BD.Next,[j.Backwards]:()=>F.BD.Previous})|F.BD.WrapAround,{relativeTo:e.target}):m.Lk(e.target)&&(0,F.pW)(e.target)))}},theirProps:w,defaultTag:"div",name:"FocusTrap"}),S&&n.createElement(g,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:I,features:y.Focusable}))}),{features:W});function V(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var K=r(83773),G=r(57247),Z=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Z||{}),J=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(J||{});let Y={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},Q=(0,n.createContext)(null);function X(e){let t=(0,n.useContext)(Q);if(null===t){let t=Error("<".concat(e," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return t}function ee(e,t){return(0,R.Y)(t.type,Y,e,t)}Q.displayName="DialogContext";let et=(0,p.FX)(function(e,t){let r=(0,n.useId)(),{id:s="headlessui-dialog-".concat(r),open:y,onClose:g,initialFocus:w,role:v="dialog",autoFocus:S=!0,__demoMode:R=!1,unmount:N=!1,...U}=e,M=(0,n.useRef)(!1);v="dialog"===v||"alertdialog"===v?v:(M.current||(M.current=!0,console.warn("Invalid role [".concat(v,"] passed to <Dialog />. Only `dialog` and and `alertdialog` are supported. Using `dialog` instead."))),"dialog");let B=(0,C.O_)();void 0===y&&null!==B&&(y=(B&C.Uw.Open)===C.Uw.Open);let j=(0,n.useRef)(null),L=(0,A.P)(j,t),F=(0,f.g)(j.current),$=y?0:1,[z,q]=(0,n.useReducer)(ee,{titleId:null,descriptionId:null,panelRef:(0,n.createRef)()}),V=(0,l._)(()=>g(!1)),G=(0,l._)(e=>q({type:0,id:e})),Z=!!(0,E.g)()&&0===$,[J,Y]=(0,K.k2)(),X=_(),{resolveContainers:et}=function(){let{defaultContainers:e=[],portals:t,mainTreeNode:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,l._)(()=>{var n,i;let s=(0,b.TW)(r),a=[];for(let t of e)null!==t&&(m.vq(t)?a.push(t):"current"in t&&m.vq(t.current)&&a.push(t.current));if(null!=t&&t.current)for(let e of t.current)a.push(e);for(let e of null!=(n=null==s?void 0:s.querySelectorAll("html > *, body > *"))?n:[])e!==document.body&&e!==document.head&&m.vq(e)&&"headlessui-portal-root"!==e.id&&(r&&(e.contains(r)||e.contains(null==(i=null==r?void 0:r.getRootNode())?void 0:i.host))||a.some(t=>e.contains(t))||a.push(e));return a});return{resolveContainers:n,contains:(0,l._)(e=>n().some(t=>t.contains(e)))}}({mainTreeNode:X,portals:J,defaultContainers:[{get current(){var ei;return null!=(ei=z.panelRef.current)?ei:j.current}}]}),es=null!==B&&(B&C.Uw.Closing)===C.Uw.Closing;(0,c.v)(!R&&!es&&Z,{allowed:(0,l._)(()=>{var e,t;return[null!=(t=null==(e=j.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:(0,l._)(()=>{var e;return[null!=(e=null==X?void 0:X.closest("body > *:not(#headlessui-portal-root)"))?e:null]})});let ea=O.D.get(null);(0,u.s)(()=>{if(Z)return ea.actions.push(s),()=>ea.actions.pop(s)},[ea,s,Z]);let eo=(0,P.y)(ea,(0,n.useCallback)(e=>ea.selectors.isTop(e,s),[ea,s]));(0,h.j)(eo,et,e=>{e.preventDefault(),V()}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"!=typeof document?document.defaultView:null,r=arguments.length>2?arguments[2]:void 0,n=(0,o.S)(e,"escape");a(t,"keydown",e=>{n&&(e.defaultPrevented||e.key===i.D.Escape&&r(e))})}(eo,null==F?void 0:F.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),V()}),(0,x.K)(!R&&!es&&Z,F,et),(0,d.O)(Z,j,V);let[el,ec]=(0,D.rU)(),eu=(0,n.useMemo)(()=>[{dialogState:$,close:V,setTitleId:G,unmount:N},z],[$,V,G,N,z]),ed=(0,I._)({open:0===$}),eh={ref:L,id:s,role:v,tabIndex:-1,"aria-modal":R?void 0:0===$||void 0,"aria-labelledby":z.titleId,"aria-describedby":el,unmount:N},ef=!function(){var e;let[t]=(0,n.useState)(()=>"undefined"!=typeof window&&"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null),[r,i]=(0,n.useState)(null!=(e=null==t?void 0:t.matches)&&e);return(0,u.s)(()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){i(e.matches)}},[t]),r}(),ep=W.None;Z&&!R&&(ep|=W.RestoreFocus,ep|=W.TabLock,S&&(ep|=W.AutoFocus),ef&&(ep|=W.InitialFocus));let ey=(0,p.Ci)();return n.createElement(C.$x,null,n.createElement(T.a,{force:!0},n.createElement(K.ZL,null,n.createElement(Q.Provider,{value:eu},n.createElement(K.Ee,{target:j},n.createElement(T.a,{force:!1},n.createElement(ec,{slot:ed},n.createElement(Y,null,n.createElement(H,{initialFocus:w,initialFocusFallback:j,containers:et,features:ep},n.createElement(k,{value:V},ey({ourProps:eh,theirProps:U,slot:ed,defaultTag:er,features:en,visible:0===$,name:"Dialog"})))))))))))}),er="div",en=p.Ac.RenderStrategy|p.Ac.Static,ei=(0,p.FX)(function(e,t){let{transition:r=!1,open:i,...s}=e,a=(0,C.O_)(),o=e.hasOwnProperty("open")||null!==a,l=e.hasOwnProperty("onClose");if(!o&&!l)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&"boolean"!=typeof e.open)throw Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(e.open));if("function"!=typeof e.onClose)throw Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(e.onClose));return(void 0!==i||r)&&!s.static?n.createElement(v,null,n.createElement(G.e,{show:i,transition:r,unmount:s.unmount},n.createElement(et,{ref:t,...s}))):n.createElement(v,null,n.createElement(et,{ref:t,open:i,...s}))}),es=(0,p.FX)(function(e,t){let r=(0,n.useId)(),{id:i="headlessui-dialog-panel-".concat(r),transition:s=!1,...a}=e,[{dialogState:o,unmount:c},u]=X("Dialog.Panel"),d=(0,A.P)(t,u.panelRef),h=(0,I._)({open:0===o}),f=(0,l._)(e=>{e.stopPropagation()}),y=s?G._:n.Fragment,g=(0,p.Ci)();return n.createElement(y,{...s?{unmount:c}:{}},g({ourProps:{ref:d,id:i,onClick:f},theirProps:a,slot:h,defaultTag:"div",name:"Dialog.Panel"}))}),ea=Object.assign(ei,{Panel:es,Title:((0,p.FX)(function(e,t){let{transition:r=!1,...i}=e,[{dialogState:s,unmount:a}]=X("Dialog.Backdrop"),o=(0,I._)({open:0===s}),l=r?G._:n.Fragment,c=(0,p.Ci)();return n.createElement(l,{...r?{unmount:a}:{}},c({ourProps:{ref:t,"aria-hidden":!0},theirProps:i,slot:o,defaultTag:"div",name:"Dialog.Backdrop"}))}),(0,p.FX)(function(e,t){let r=(0,n.useId)(),{id:i="headlessui-dialog-title-".concat(r),...s}=e,[{dialogState:a,setTitleId:o}]=X("Dialog.Title"),l=(0,A.P)(t);(0,n.useEffect)(()=>(o(i),()=>o(null)),[i,o]);let c=(0,I._)({open:0===a});return(0,p.Ci)()({ourProps:{ref:l,id:i},theirProps:s,slot:c,defaultTag:"h2",name:"Dialog.Title"})})),Description:D.VY})},9257:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});var n=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(n||{})},83773:(e,t,r)=>{"use strict";r.d(t,{Ee:()=>v,ZL:()=>_,k2:()=>b});var n=r(12115),i=r(47650),s=r(36271),a=r(44608),o=r(72904),l=r(167),c=r(3256),u=r(6774),d=r(50468),h=r(63593);let f=n.Fragment,p=(0,h.FX)(function(e,t){let{ownerDocument:r=null,...a}=e,p=(0,n.useRef)(null),y=(0,c.P)((0,c.a)(e=>{p.current=e}),t),b=(0,l.g)(p.current),w=function(e){let t=(0,u.S)(),r=(0,n.useContext)(g),[i,s]=(0,n.useState)(()=>{var n;if(!t&&null!==r)return null!=(n=r.current)?n:null;if(d._.isServer)return null;let i=null==e?void 0:e.getElementById("headlessui-portal-root");if(i)return i;if(null===e)return null;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)});return(0,n.useEffect)(()=>{null!==i&&(null!=e&&e.body.contains(i)||null==e||e.body.appendChild(i))},[i,e]),(0,n.useEffect)(()=>{t||null!==r&&s(r.current)},[r,s,t]),i}(null!=r?r:b),v=(0,n.useContext)(m),_=(0,s.L)(),x=(0,h.Ci)();return(0,o.X)(()=>{var e;w&&w.childNodes.length<=0&&(null==(e=w.parentElement)||e.removeChild(w))}),w?(0,i.createPortal)(n.createElement("div",{"data-headlessui-portal":"",ref:e=>{_.dispose(),v&&e&&_.add(v.register(e))}},x({ourProps:{ref:y},theirProps:a,slot:{},defaultTag:f,name:"Portal"})),w):null}),y=n.Fragment,g=(0,n.createContext)(null),m=(0,n.createContext)(null);function b(){let e=(0,n.useContext)(m),t=(0,n.useRef)([]),r=(0,a._)(r=>(t.current.push(r),e&&e.register(r),()=>i(r))),i=(0,a._)(r=>{let n=t.current.indexOf(r);-1!==n&&t.current.splice(n,1),e&&e.unregister(r)}),s=(0,n.useMemo)(()=>({register:r,unregister:i,portals:t}),[r,i,t]);return[t,(0,n.useMemo)(()=>function(e){let{children:t}=e;return n.createElement(m.Provider,{value:s},t)},[s])]}let w=(0,h.FX)(function(e,t){let r=(0,c.P)(t),{enabled:i=!0,ownerDocument:s,...a}=e,o=(0,h.Ci)();return i?n.createElement(p,{...a,ownerDocument:s,ref:r}):o({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:f,name:"Portal"})}),v=(0,h.FX)(function(e,t){let{target:r,...i}=e,s={ref:(0,c.P)(t)},a=(0,h.Ci)();return n.createElement(g.Provider,{value:r},a({ourProps:s,theirProps:i,defaultTag:y,name:"Popover.Group"}))}),_=Object.assign(w,{Group:v})},57247:(e,t,r)=>{"use strict";r.d(t,{_:()=>S,e:()=>k});var n=r(12115),i=r(36271),s=r(44608),a=r(15245),o=r(68840),l=r(61743),c=r(45384),u=r(3256),d=r(80760),h=r(64254),f=r(35802),p=r(93270),y=r(63593);function g(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!(0,y.zv)(null!=(t=e.as)?t:x)||1===n.Children.count(e.children)}let m=(0,n.createContext)(null);m.displayName="TransitionContext";var b=(e=>(e.Visible="visible",e.Hidden="hidden",e))(b||{});let w=(0,n.createContext)(null);function v(e){return"children"in e?v(e.children):e.current.filter(e=>{let{el:t}=e;return null!==t.current}).filter(e=>{let{state:t}=e;return"visible"===t}).length>0}function _(e,t){let r=(0,l.Y)(e),o=(0,n.useRef)([]),c=(0,a.a)(),u=(0,i.L)(),d=(0,s._)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.mK.Hidden,n=o.current.findIndex(t=>{let{el:r}=t;return r===e});-1!==n&&((0,p.Y)(t,{[y.mK.Unmount](){o.current.splice(n,1)},[y.mK.Hidden](){o.current[n].state="hidden"}}),u.microTask(()=>{var e;!v(o)&&c.current&&(null==(e=r.current)||e.call(r))}))}),h=(0,s._)(e=>{let t=o.current.find(t=>{let{el:r}=t;return r===e});return t?"visible"!==t.state&&(t.state="visible"):o.current.push({el:e,state:"visible"}),()=>d(e,y.mK.Unmount)}),f=(0,n.useRef)([]),g=(0,n.useRef)(Promise.resolve()),m=(0,n.useRef)({enter:[],leave:[]}),b=(0,s._)((e,r,n)=>{f.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(t=>{let[r]=t;return r!==e})),null==t||t.chains.current[r].push([e,new Promise(e=>{f.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(m.current[r].map(e=>{let[t,r]=e;return r})).then(()=>e())})]),"enter"===r?g.current=g.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),w=(0,s._)((e,t,r)=>{Promise.all(m.current[t].splice(0).map(e=>{let[t,r]=e;return r})).then(()=>{var e;null==(e=f.current.shift())||e()}).then(()=>r(t))});return(0,n.useMemo)(()=>({children:o,register:h,unregister:d,onStart:b,onStop:w,wait:g,chains:m}),[h,d,o,b,w,m,g])}w.displayName="NestingContext";let x=n.Fragment,E=y.Ac.RenderStrategy,I=(0,y.FX)(function(e,t){let{show:r,appear:i=!1,unmount:a=!0,...l}=e,d=(0,n.useRef)(null),f=g(e),p=(0,u.P)(...f?[d,t]:null===t?[]:[t]);(0,c.g)();let b=(0,h.O_)();if(void 0===r&&null!==b&&(r=(b&h.Uw.Open)===h.Uw.Open),void 0===r)throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[x,I]=(0,n.useState)(r?"visible":"hidden"),S=_(()=>{r||I("hidden")}),[k,C]=(0,n.useState)(!0),T=(0,n.useRef)([r]);(0,o.s)(()=>{!1!==k&&T.current[T.current.length-1]!==r&&(T.current.push(r),C(!1))},[T,r]);let O=(0,n.useMemo)(()=>({show:r,appear:i,initial:k}),[r,i,k]);(0,o.s)(()=>{r?I("visible"):v(S)||null===d.current||I("hidden")},[r,S]);let P={unmount:a},R=(0,s._)(()=>{var t;k&&C(!1),null==(t=e.beforeEnter)||t.call(e)}),D=(0,s._)(()=>{var t;k&&C(!1),null==(t=e.beforeLeave)||t.call(e)}),N=(0,y.Ci)();return n.createElement(w.Provider,{value:S},n.createElement(m.Provider,{value:O},N({ourProps:{...P,as:n.Fragment,children:n.createElement(A,{ref:p,...P,...l,beforeEnter:R,beforeLeave:D})},theirProps:{},defaultTag:n.Fragment,features:E,visible:"visible"===x,name:"Transition"})))}),A=(0,y.FX)(function(e,t){var r,i;let{transition:a=!0,beforeEnter:l,afterEnter:b,beforeLeave:I,afterLeave:A,enter:S,enterFrom:k,enterTo:C,entered:T,leave:O,leaveFrom:P,leaveTo:R,...D}=e,[N,U]=(0,n.useState)(null),M=(0,n.useRef)(null),B=g(e),j=(0,u.P)(...B?[M,t,U]:null===t?[]:[t]),L=null==(r=D.unmount)||r?y.mK.Unmount:y.mK.Hidden,{show:F,appear:$,initial:z}=function(){let e=(0,n.useContext)(m);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[q,W]=(0,n.useState)(F?"visible":"hidden"),H=function(){let e=(0,n.useContext)(w);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:V,unregister:K}=H;(0,o.s)(()=>V(M),[V,M]),(0,o.s)(()=>{if(L===y.mK.Hidden&&M.current){if(F&&"visible"!==q){W("visible");return}return(0,p.Y)(q,{hidden:()=>K(M),visible:()=>V(M)})}},[q,M,V,K,F,L]);let G=(0,c.g)();(0,o.s)(()=>{if(B&&G&&"visible"===q&&null===M.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[M,q,G,B]);let Z=z&&!$,J=$&&F&&z,Y=(0,n.useRef)(!1),Q=_(()=>{Y.current||(W("hidden"),K(M))},H),X=(0,s._)(e=>{Y.current=!0,Q.onStart(M,e?"enter":"leave",e=>{"enter"===e?null==l||l():"leave"===e&&(null==I||I())})}),ee=(0,s._)(e=>{let t=e?"enter":"leave";Y.current=!1,Q.onStop(M,t,e=>{"enter"===e?null==b||b():"leave"===e&&(null==A||A())}),"leave"!==t||v(Q)||(W("hidden"),K(M))});(0,n.useEffect)(()=>{B&&a||(X(F),ee(F))},[F,B,a]);let et=!(!a||!B||!G||Z),[,er]=(0,d.p)(et,N,F,{start:X,end:ee}),en=(0,y.oE)({ref:j,className:(null==(i=(0,f.x)(D.className,J&&S,J&&k,er.enter&&S,er.enter&&er.closed&&k,er.enter&&!er.closed&&C,er.leave&&O,er.leave&&!er.closed&&P,er.leave&&er.closed&&R,!er.transition&&F&&T))?void 0:i.trim())||void 0,...(0,d.B)(er)}),ei=0;"visible"===q&&(ei|=h.Uw.Open),"hidden"===q&&(ei|=h.Uw.Closed),F&&"hidden"===q&&(ei|=h.Uw.Opening),F||"visible"!==q||(ei|=h.Uw.Closing);let es=(0,y.Ci)();return n.createElement(w.Provider,{value:Q},n.createElement(h.El,{value:ei},es({ourProps:en,theirProps:D,defaultTag:x,features:E,visible:"visible"===q,name:"Transition.Child"})))}),S=(0,y.FX)(function(e,t){let r=null!==(0,n.useContext)(m),i=null!==(0,h.O_)();return n.createElement(n.Fragment,null,!r&&i?n.createElement(I,{ref:t,...e}):n.createElement(A,{ref:t,...e}))}),k=Object.assign(I,{Child:S,Root:I})},36271:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(12115),i=r(50772);function s(){let[e]=(0,n.useState)(i.e);return(0,n.useEffect)(()=>()=>e.dispose(),[e]),e}},71468:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});var n=r(12115),i=r(61743);function s(e,t,r,s){let a=(0,i.Y)(r);(0,n.useEffect)(()=>{if(e)return document.addEventListener(t,r,s),()=>document.removeEventListener(t,r,s);function r(e){a.current(e)}},[e,t,s])}},44608:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(12115),i=r(61743);let s=function(e){let t=(0,i.Y)(e);return n.useCallback(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current(...r)},[t])}},85200:(e,t,r)=>{"use strict";r.d(t,{v:()=>u});var n=r(50772),i=r(42572),s=r(20766),a=r(68840);let o=new Map,l=new Map;function c(e){var t;let r=null!=(t=l.get(e))?t:0;return l.set(e,r+1),0!==r||(o.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>(function(e){var t;let r=null!=(t=l.get(e))?t:1;if(1===r?l.delete(e):l.set(e,r-1),1!==r)return;let n=o.get(e);n&&(null===n["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,o.delete(e))})(e)}function u(e){let{allowed:t,disallowed:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,s.S)(e,"inert-others");(0,a.s)(()=>{var e,s;if(!o)return;let a=(0,n.e)();for(let t of null!=(e=null==r?void 0:r())?e:[])t&&a.add(c(t));let l=null!=(s=null==t?void 0:t())?s:[];for(let e of l){if(!e)continue;let t=(0,i.TW)(e);if(!t)continue;let r=e.parentElement;for(;r&&r!==t.body;){for(let e of r.children)l.some(t=>e.contains(t))||a.add(c(e));r=r.parentElement}}return a.dispose},[o,t,r])}},15245:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var n=r(12115),i=r(68840);function s(){let e=(0,n.useRef)(!1);return(0,i.s)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},20766:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(12115),i=r(60454),s=r(23780),a=r(68840);function o(e,t){let r=(0,n.useId)(),o=i.D.get(t),[l,c]=(0,s.y)(o,(0,n.useCallback)(e=>[o.selectors.isTop(e,r),o.selectors.inStack(e,r)],[o,r]));return(0,a.s)(()=>{if(e)return o.actions.push(r),()=>o.actions.pop(r)},[o,e,r]),!!e&&(!c||l)}},68840:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(12115),i=r(50468);let s=(e,t)=>{i._.isServer?(0,n.useEffect)(e,t):(0,n.useLayoutEffect)(e,t)}},61743:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});var n=r(12115),i=r(68840);function s(e){let t=(0,n.useRef)(e);return(0,i.s)(()=>{t.current=e},[e]),t}},48553:(e,t,r)=>{"use strict";r.d(t,{O:()=>o});var n=r(12115),i=r(50772),s=r(41671),a=r(61743);function o(e,t,r){let o=(0,a.Y)(e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&r()});(0,n.useEffect)(()=>{if(!e)return;let r=null===t?null:s.sb(t)?t:t.current;if(!r)return;let n=(0,i.e)();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver(()=>o.current(r));e.observe(r),n.add(()=>e.disconnect())}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver(()=>o.current(r));e.observe(r),n.add(()=>e.disconnect())}return()=>n.dispose()},[t,o,e])}},72904:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});var n=r(12115),i=r(12159),s=r(44608);function a(e){let t=(0,s._)(e),r=(0,n.useRef)(!1);(0,n.useEffect)(()=>(r.current=!1,()=>{r.current=!0,(0,i._)(()=>{r.current&&t()})}),[t])}},96502:(e,t,r)=>{"use strict";r.d(t,{j:()=>u});var n=r(12115),i=r(41671),s=r(60109),a=r(38958),o=r(71468),l=r(61743),c=r(84689);function u(e,t,r){let u=(0,l.Y)(r),d=(0,n.useCallback)(function(e,r){if(e.defaultPrevented)return;let n=r(e);if(null!==n&&n.getRootNode().contains(n)&&n.isConnected){for(let r of function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t))if(null!==r&&(r.contains(n)||e.composed&&e.composedPath().includes(r)))return;return(0,s.Bm)(n,s.MZ.Loose)||-1===n.tabIndex||e.preventDefault(),u.current(e,n)}},[u,t]),h=(0,n.useRef)(null);(0,o.z)(e,"pointerdown",e=>{var t,r;(0,a.Fr)()||(h.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),(0,o.z)(e,"pointerup",e=>{if((0,a.Fr)()||!h.current)return;let t=h.current;return h.current=null,d(e,()=>t)},!0);let f=(0,n.useRef)({x:0,y:0});(0,o.z)(e,"touchstart",e=>{f.current.x=e.touches[0].clientX,f.current.y=e.touches[0].clientY},!0),(0,o.z)(e,"touchend",e=>{let t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(!(Math.abs(t.x-f.current.x)>=30||Math.abs(t.y-f.current.y)>=30))return d(e,()=>i.Lk(e.target)?e.target:null)},!0),(0,c.M)(e,"blur",e=>d(e,()=>i.Gu(window.document.activeElement)?window.document.activeElement:null),!0)}},167:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});var n=r(12115),i=r(42572);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.useMemo)(()=>(0,i.TW)(...t),[...t])}},65134:(e,t,r)=>{"use strict";r.d(t,{K:()=>d});var n=r(12115),i=r(68840),s=r(50772),a=r(41671),o=r(38958);function l(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let c=function(e,t){let r=e(),n=new Set;return{getSnapshot:()=>r,subscribe:e=>(n.add(e),()=>n.delete(e)),dispatch(e){for(var i=arguments.length,s=Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];let o=t[e].call(r,...s);o&&(r=o,n.forEach(e=>e()))}}}(()=>new Map,{PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:(0,s.e)(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=l(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=l(r.meta)),this},SCROLL_PREVENT(e){let t;let r={doc:e.doc,d:e.d,meta:()=>e.computedMeta},n=[(0,o.un)()?{before(e){let{doc:t,d:r,meta:n}=e;function i(e){for(let t of n().containers)for(let r of t())if(r.contains(e))return!0;return!1}r.microTask(()=>{var e;if("auto"!==window.getComputedStyle(t.documentElement).scrollBehavior){let e=(0,s.e)();e.style(t.documentElement,"scrollBehavior","auto"),r.add(()=>r.microTask(()=>e.dispose()))}let n=null!=(e=window.scrollY)?e:window.pageYOffset,o=null;r.addEventListener(t,"click",e=>{if(a.Lk(e.target))try{let r=e.target.closest("a");if(!r)return;let{hash:n}=new URL(r.href),s=t.querySelector(n);a.Lk(s)&&!i(s)&&(o=s)}catch(e){}},!0),r.group(e=>{r.addEventListener(t,"touchstart",t=>{if(e.dispose(),a.Lk(t.target)&&a.pv(t.target)){if(i(t.target)){let r=t.target;for(;r.parentElement&&i(r.parentElement);)r=r.parentElement;e.style(r,"overscrollBehavior","contain")}else e.style(t.target,"touchAction","none")}})}),r.addEventListener(t,"touchmove",e=>{if(a.Lk(e.target)&&!a.A3(e.target)){if(i(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}},{passive:!1}),r.add(()=>{var e;n!==(null!=(e=window.scrollY)?e:window.pageYOffset)&&window.scrollTo(0,n),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{},{before(e){var r;let{doc:n}=e,i=n.documentElement;t=Math.max(0,(null!=(r=n.defaultView)?r:window).innerWidth-i.clientWidth)},after(e){let{doc:r,d:n}=e,i=r.documentElement,s=Math.max(0,i.clientWidth-i.offsetWidth),a=Math.max(0,t-s);n.style(i,"paddingRight","".concat(a,"px"))}},{before(e){let{doc:t,d:r}=e;r.style(t.documentElement,"overflow","hidden")}}];n.forEach(e=>{let{before:t}=e;return null==t?void 0:t(r)}),n.forEach(e=>{let{after:t}=e;return null==t?void 0:t(r)})},SCROLL_ALLOW(e){let{d:t}=e;t.dispose()},TEARDOWN(e){let{doc:t}=e;this.delete(t)}});c.subscribe(()=>{let e=c.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&c.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&c.dispatch("TEARDOWN",r)}});var u=r(20766);function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[document.body];!function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>({containers:[]}),s=(0,n.useSyncExternalStore)(c.subscribe,c.getSnapshot,c.getSnapshot),a=t?s.get(t):void 0;a&&a.count,(0,i.s)(()=>{if(!(!t||!e))return c.dispatch("PUSH",t,r),()=>c.dispatch("POP",t,r)},[e,t])}((0,u.S)(e,"scroll-lock"),t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}})}},45384:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n,i=r(12115),s=r(50468);function a(){let e;let t=(e="undefined"==typeof document,(0,(n||(n=r.t(i,2))).useSyncExternalStore)(()=>()=>{},()=>!1,()=>!e)),[a,o]=i.useState(s._.isHandoffComplete);return a&&!1===s._.isHandoffComplete&&o(!1),i.useEffect(()=>{!0!==a&&o(!0)},[a]),i.useEffect(()=>s._.handoff(),[]),!t&&a}},54984:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(12115);function i(e){return(0,n.useMemo)(()=>e,Object.values(e))}},3256:(e,t,r)=>{"use strict";r.d(t,{P:()=>o,a:()=>a});var n=r(12115),i=r(44608);let s=Symbol();function a(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return Object.assign(e,{[s]:t})}function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=(0,n.useRef)(t);(0,n.useEffect)(()=>{a.current=t},[t]);let o=(0,i._)(e=>{for(let t of a.current)null!=t&&("function"==typeof t?t(e):t.current=e)});return t.every(e=>null==e||(null==e?void 0:e[s]))?void 0:o}},80760:(e,t,r)=>{"use strict";r.d(t,{B:()=>d,p:()=>h});var n,i,s=r(12115),a=r(50772),o=r(36271),l=r(68840),c=r(87358);void 0!==c&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&(null==(n=null==c?void 0:c.env)?void 0:n.NODE_ENV)==="test"&&void 0===(null==(i=null==Element?void 0:Element.prototype)?void 0:i.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn("Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.\nPlease install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.\n\nExample usage:\n```js\nimport { mockAnimationsApi } from 'jsdom-testing-mocks'\nmockAnimationsApi()\n```"),[]});var u=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(u||{});function d(e){let t={};for(let r in e)!0===e[r]&&(t["data-".concat(r)]="");return t}function h(e,t,r,n){let[i,c]=(0,s.useState)(r),{hasFlag:u,addFlag:d,removeFlag:h}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[t,r]=(0,s.useState)(e),n=(0,s.useCallback)(e=>r(e),[]),i=(0,s.useCallback)(e=>r(t=>t|e),[]),a=(0,s.useCallback)(e=>(t&e)===e,[t]);return{flags:t,setFlag:n,addFlag:i,hasFlag:a,removeFlag:(0,s.useCallback)(e=>r(t=>t&~e),[]),toggleFlag:(0,s.useCallback)(e=>r(t=>t^e),[])}}(e&&i?3:0),f=(0,s.useRef)(!1),p=(0,s.useRef)(!1),y=(0,o.L)();return(0,l.s)(()=>{var i;if(e){if(r&&c(!0),!t){r&&d(3);return}return null==(i=null==n?void 0:n.start)||i.call(n,r),function(e,t){let{prepare:r,run:n,done:i,inFlight:s}=t,o=(0,a.e)();return function(e,t){let{inFlight:r,prepare:n}=t;if(null!=r&&r.current){n();return}let i=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=i}(e,{prepare:r,inFlight:s}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(function(e,t){var r,n;let i=(0,a.e)();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=null!=(n=null==(r=e.getAnimations)?void 0:r.call(e).filter(e=>e instanceof CSSTransition))?n:[];return 0===o.length?t():Promise.allSettled(o.map(e=>e.finished)).then(()=>{s||t()}),i.dispose}(e,i))})}),o.dispose}(t,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,p.current||(r?(d(3),h(4)):(d(4),h(2)))},run(){p.current?r?(h(3),d(4)):(h(4),d(3)):r?h(1):d(1)},done(){var e,i,s;p.current&&(null!=(s=null==(i=t.getAnimations)?void 0:i.call(t))?s:[]).some(e=>e instanceof CSSTransition&&"finished"!==e.playState)||(f.current=!1,h(7),r||c(!1),null==(e=null==n?void 0:n.end)||e.call(n,r))}})}},[e,r,t,y]),e?[i,{closed:u(1),enter:u(2),leave:u(4),transition:u(2)||u(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}},84689:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(12115),i=r(61743);function s(e,t,r,s){let a=(0,i.Y)(r);(0,n.useEffect)(()=>{if(e)return window.addEventListener(t,r,s),()=>window.removeEventListener(t,r,s);function r(e){a.current(e)}},[e,t,s])}},12651:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(12115);let i=(0,n.createContext)(void 0);function s(){return(0,n.useContext)(i)}},64254:(e,t,r)=>{"use strict";r.d(t,{$x:()=>l,El:()=>o,O_:()=>a,Uw:()=>s});var n=r(12115);let i=(0,n.createContext)(null);i.displayName="OpenClosedContext";var s=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(s||{});function a(){return(0,n.useContext)(i)}function o(e){let{value:t,children:r}=e;return n.createElement(i.Provider,{value:t},r)}function l(e){let{children:t}=e;return n.createElement(i.Provider,{value:null},t)}},6774:(e,t,r)=>{"use strict";r.d(t,{S:()=>s,a:()=>a});var n=r(12115);let i=(0,n.createContext)(!1);function s(){return(0,n.useContext)(i)}function a(e){return n.createElement(i.Provider,{value:e.force},e.children)}},12876:(e,t,r)=>{"use strict";r.d(t,{bN:()=>m,u5:()=>g,vA:()=>v});var n,i,s,a=r(73885),o=r(50772),l=r(50468),c=Object.defineProperty,u=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t,r)=>(u(e,"symbol"!=typeof t?t+"":t,r),r),h=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},f=(e,t,r)=>(h(e,t,"read from private field"),r?r.call(e):t.get(e)),p=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},y=(e,t,r,n)=>(h(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);class g{dispose(){this.disposables.dispose()}get state(){return f(this,n)}subscribe(e,t){if(l._.isServer)return()=>{};let r={selector:e,callback:t,current:e(f(this,n))};return f(this,s).add(r),this.disposables.add(()=>{f(this,s).delete(r)})}on(e,t){return l._.isServer?()=>{}:(f(this,i).get(e).add(t),this.disposables.add(()=>{f(this,i).get(e).delete(t)}))}send(e){let t=this.reduce(f(this,n),e);if(t!==f(this,n)){for(let e of(y(this,n,t),f(this,s))){let t=e.selector(f(this,n));m(e.current,t)||(e.current=t,e.callback(t))}for(let t of f(this,i).get(e.type))t(f(this,n),e)}}constructor(e){p(this,n,{}),p(this,i,new a.G(()=>new Set)),p(this,s,new Set),d(this,"disposables",(0,o.e)()),y(this,n,e),l._.isServer&&this.disposables.microTask(()=>{this.dispose()})}}function m(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&b(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&b(e.entries(),t.entries()):!!(w(e)&&w(t))&&b(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function b(e,t){for(;;){let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}}function w(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}function v(e){let[t,r]=e(),n=(0,o.e)();return function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];t(...i),n.dispose(),n.microTask(r)}}n=new WeakMap,i=new WeakMap,s=new WeakMap},60454:(e,t,r)=>{"use strict";r.d(t,{D:()=>h,Q:()=>c});var n=r(12876),i=r(73885),s=r(93270),a=Object.defineProperty,o=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t,r)=>(o(e,"symbol"!=typeof t?t+"":t,r),r),c=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(c||{});let u={0(e,t){let r=t.id,n=e.stack,i=e.stack.indexOf(r);if(-1!==i){let t=e.stack.slice();return t.splice(i,1),t.push(r),n=t,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(-1===n)return e;let i=e.stack.slice();return i.splice(n,1),{...e,stack:i}}};class d extends n.u5{static new(){return new d({stack:[]})}reduce(e,t){return(0,s.Y)(t.type,u,e,t)}constructor(){super(...arguments),l(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),l(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}}let h=new i.G(()=>d.new())},23780:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(31356),i=r(44608),s=r(12876);function a(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.bN;return(0,n.useSyncExternalStoreWithSelector)((0,i._)(t=>e.subscribe(o,t)),(0,i._)(()=>e.state),(0,i._)(()=>e.state),(0,i._)(t),r)}function o(e){return e}},35802:(e,t,r)=>{"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.from(new Set(t.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}r.d(t,{x:()=>n})},73885:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});class n extends Map{get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}constructor(e){super(),this.factory=e}}},50772:(e,t,r)=>{"use strict";r.d(t,{e:()=>function e(){let t=[],r={addEventListener:(e,t,n,i)=>(e.addEventListener(t,n,i),r.add(()=>e.removeEventListener(t,n,i))),requestAnimationFrame(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=requestAnimationFrame(...t);return r.add(()=>cancelAnimationFrame(i))},nextFrame(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.requestAnimationFrame(()=>r.requestAnimationFrame(...t))},setTimeout(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=setTimeout(...t);return r.add(()=>clearTimeout(i))},microTask(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let s={current:!0};return(0,n._)(()=>{s.current&&t[0]()}),r.add(()=>{s.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(t){let r=e();return t(r),this.add(()=>r.dispose())},add:e=>(t.includes(e)||t.push(e),()=>{let r=t.indexOf(e);if(r>=0)for(let e of t.splice(r,1))e()}),dispose(){for(let e of t.splice(0))e()}};return r}});var n=r(12159)},41671:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&"nodeType"in e}function i(e){return n(e)&&"tagName"in e}function s(e){return i(e)&&"accessKey"in e}function a(e){return i(e)&&"tabIndex"in e}function o(e){return i(e)&&"style"in e}function l(e){return s(e)&&"IFRAME"===e.nodeName}function c(e){return s(e)&&"INPUT"===e.nodeName}function u(e){return s(e)&&"LABEL"===e.nodeName}function d(e){return s(e)&&"FIELDSET"===e.nodeName}function h(e){return s(e)&&"LEGEND"===e.nodeName}function f(e){return!!i(e)&&e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]')}r.d(t,{A3:()=>c,Er:()=>d,Gu:()=>l,H5:()=>f,Jb:()=>h,Lk:()=>a,Ll:()=>n,kS:()=>u,pv:()=>o,sb:()=>s,vq:()=>i})},50468:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var n=Object.defineProperty,i=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t,r)=>(i(e,"symbol"!=typeof t?t+"":t,r),r);class a{set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}constructor(){s(this,"current",this.detect()),s(this,"handoffState","pending"),s(this,"currentId",0)}}let o=new a},60109:(e,t,r)=>{"use strict";r.d(t,{BD:()=>c,Bm:()=>p,CU:()=>v,Fh:()=>y,MZ:()=>f,Me:()=>u,Uo:()=>o,p9:()=>w,pW:()=>m,wl:()=>b});var n=r(50772),i=r(41671),s=r(93270),a=r(42572);let o=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>"".concat(e,":not([tabindex='-1'])")).join(","),l=["[data-autofocus]"].map(e=>"".concat(e,":not([tabindex='-1'])")).join(",");var c=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(c||{}),u=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(u||{}),d=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(d||{});function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(o)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var f=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(f||{});function p(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==(null==(t=(0,a.TW)(e))?void 0:t.body)&&(0,s.Y)(r,{0:()=>e.matches(o),1(){let t=e;for(;null!==t;){if(t.matches(o))return!0;t=t.parentElement}return!1}})}function y(e){(0,n.e)().nextFrame(()=>{let t=(0,a.bq)(e);t&&i.Lk(t)&&!p(t,0)&&m(e)})}var g=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(g||{});function m(e){null==e||e.focus({preventScroll:!0})}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort((e,r)=>{let n=t(e),i=t(r);if(null===n||null===i)return 0;let s=n.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function w(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===e?document.body:(0,a.zm)(e);return v(h(r),t,{relativeTo:e})}function v(e,t){var r,n,i;let{sorted:s=!0,relativeTo:o=null,skipElements:c=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Array.isArray(e)?e.length>0?(0,a.zm)(e[0]):document:(0,a.zm)(e),d=Array.isArray(e)?s?b(e):e:64&t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(l)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e):h(e);c.length>0&&d.length>1&&(d=d.filter(e=>!c.some(t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))),o=null!=o?o:null==u?void 0:u.activeElement;let f=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,d.indexOf(o))-1;if(4&t)return Math.max(0,d.indexOf(o))+1;if(8&t)return d.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),y=32&t?{preventScroll:!0}:{},g=0,m=d.length,w;do{if(g>=m||g+m<=0)return 0;let e=p+g;if(16&t)e=(e+m)%m;else{if(e<0)return 3;if(e>=m)return 1}null==(w=d[e])||w.focus(y),g+=f}while(w!==(0,a.bq)(w));return 6&t&&null!=(i=null==(n=null==(r=w)?void 0:r.matches)?void 0:n.call(r,"textarea,input"))&&i&&w.select(),2}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0))},93270:(e,t,r)=>{"use strict";function n(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(e in t){let r=t[e];return"function"==typeof r?r(...i):r}let a=Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map(e=>'"'.concat(e,'"')).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,n),a}r.d(t,{Y:()=>n})},12159:(e,t,r)=>{"use strict";function n(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}r.d(t,{_:()=>n})},42572:(e,t,r)=>{"use strict";r.d(t,{TW:()=>i,X7:()=>o,bq:()=>a,zm:()=>s});var n=r(50468);function i(e){var t;return n._.isServer?null:null==e?document:null!=(t=null==e?void 0:e.ownerDocument)?t:document}function s(e){var t,r;return n._.isServer?null:null==e?document:null!=(r=null==(t=null==e?void 0:e.getRootNode)?void 0:t.call(e))?r:document}function a(e){var t,r;return null!=(r=null==(t=s(e))?void 0:t.activeElement)?r:null}function o(e){return a(e)===e}},38958:(e,t,r)=>{"use strict";function n(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i(){return n()||/Android/gi.test(window.navigator.userAgent)}r.d(t,{Fr:()=>i,un:()=>n})},63593:(e,t,r)=>{"use strict";r.d(t,{Ac:()=>a,Ci:()=>l,FX:()=>f,mK:()=>o,oE:()=>p,v6:()=>h,zv:()=>g});var n=r(12115),i=r(35802),s=r(93270),a=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(a||{}),o=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(o||{});function l(){let e,t;let r=(e=(0,n.useRef)([]),t=(0,n.useCallback)(t=>{for(let r of e.current)null!=r&&("function"==typeof r?r(t):r.current=t)},[]),function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];if(!n.every(e=>null==e))return e.current=n,t});return(0,n.useCallback)(e=>(function(e){let{ourProps:t,theirProps:r,slot:n,defaultTag:i,features:a,visible:o=!0,name:l,mergeRefs:h}=e;h=null!=h?h:u;let f=d(r,t);if(o)return c(f,n,i,l,h);let p=null!=a?a:0;if(2&p){let{static:e=!1,...t}=f;if(e)return c(t,n,i,l,h)}if(1&p){let{unmount:e=!0,...t}=f;return(0,s.Y)(e?0:1,{0:()=>null,1:()=>c({...t,hidden:!0,style:{display:"none"}},n,i,l,h)})}return c(f,n,i,l,h)})({mergeRefs:r,...e}),[r])}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,{as:o=r,children:l,refName:c="ref",...u}=y(e,["unmount","static"]),h=void 0!==e.ref?{[c]:e.ref}:{},f="function"==typeof l?l(t):l;"className"in u&&u.className&&"function"==typeof u.className&&(u.className=u.className(t)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let m={};if(t){let e=!1,r=[];for(let[n,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&r.push(n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())));if(e)for(let e of(m["data-headlessui-state"]=r.join(" "),r))m["data-".concat(e)]=""}if(g(o)&&(Object.keys(p(u)).length>0||Object.keys(p(m)).length>0)){if(!(0,n.isValidElement)(f)||Array.isArray(f)&&f.length>1||g(f.type)){if(Object.keys(p(u)).length>0)throw Error(['Passing props on "Fragment"!',"","The current component <".concat(s,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(p(u)).concat(Object.keys(p(m))).map(e=>"  - ".concat(e)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>"  - ".concat(e)).join("\n")].join("\n"))}else{let e=f.props,t=null==e?void 0:e.className,r="function"==typeof t?function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,i.x)(t(...r),u.className)}:(0,i.x)(t,u.className),s=d(f.props,p(y(u,["ref"])));for(let e in m)e in s&&delete m[e];return(0,n.cloneElement)(f,Object.assign({},s,m,h,{ref:a(n.version.split(".")[0]>="19"?f.props.ref:f.ref,h.ref)},r?{className:r}:{}))}}return(0,n.createElement)(o,Object.assign({},y(u,["ref"]),!g(o)&&h,!g(o)&&m),f)}function u(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every(e=>null==e)?void 0:e=>{for(let r of t)null!=r&&("function"==typeof r?r(e):r.current=e)}}function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return{};if(1===t.length)return t[0];let n={},i={};for(let e of t)for(let t in e)t.startsWith("on")&&"function"==typeof e[t]?(null!=i[t]||(i[t]=[]),i[t].push(e[t])):n[t]=e[t];if(n.disabled||n["aria-disabled"])for(let e in i)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(e)&&(i[e]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let e in i)Object.assign(n,{[e](t){for(var r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];for(let r of i[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;r(t,...n)}}});return n}function h(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return{};if(1===t.length)return t[0];let n={},i={};for(let e of t)for(let t in e)t.startsWith("on")&&"function"==typeof e[t]?(null!=i[t]||(i[t]=[]),i[t].push(e[t])):n[t]=e[t];for(let e in i)Object.assign(n,{[e](){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];for(let t of i[e])null==t||t(...r)}});return n}function f(e){var t;return Object.assign((0,n.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function p(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}function g(e){return e===n.Fragment||e===Symbol.for("react.fragment")}},31827:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Object.create(n.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:n.name})}}},57080:(e,t,r)=>{"use strict";r.d(t,{g:()=>o});class n{constructor(e,t){this.type=e,this.data=t}}var i=r(31827),s=r(88514);let a={type:-1,encode:function(e){return e instanceof Date?function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=0x3ffffffff){if(0===t&&e<=0xffffffff){let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}{let r=e/0x100000000,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,t<<2|3&r),i.setUint32(4,0xffffffff&e),n}}{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,t),(0,s._j)(n,4,e),r}}(function(e){let t=e.getTime(),r=Math.floor(t/1e3),n=(t-1e3*r)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}(e)):null},decode:function(e){let t=function(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let e=t.getUint32(0);return{sec:(3&e)*0x100000000+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:(0,s.eN)(t,4),nsec:t.getUint32(0)};default:throw new i.X(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class o{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(a)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{let n=-1-e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){let i=this.builtInEncoders[r];if(null!=i){let s=i(e,t);if(null!=s)return new n(-1-r,s)}}for(let r=0;r<this.encoders.length;r++){let i=this.encoders[r];if(null!=i){let s=i(e,t);if(null!=s)return new n(r,s)}}return e instanceof n?e:null}decode(e,t,r){let i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new n(t,e)}}o.defaultCodec=new o},74332:(e,t,r)=>{"use strict";function n(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}r.d(t,{D:()=>v});var i=r(57080),s=r(88514),a=r(7524),o=r(81715);class l{constructor(e=16,t=16){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){let n=this.caches[r-1];t:for(let i of n){let n=i.bytes;for(let i=0;i<r;i++)if(n[i]!==e[t+i])continue t;return i.str}return null}store(e,t){let r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(e,t,r){let n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;let i=(0,a.Zf)(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,i),i}}var c=r(31827);let u="array",d="map_key",h="map_value",f=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new c.X("The type of key must be string or number but "+typeof e)};class p{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let t=this.getUninitializedStateFromPool();t.type=u,t.position=0,t.size=e,t.array=Array(e)}pushMapState(e){let t=this.getUninitializedStateFromPool();t.type=d,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw Error("Invalid stack state. Released state is not on top of the stack.");e.type===u&&(e.size=0,e.array=void 0,e.position=0,e.type=void 0),(e.type===d||e.type===h)&&(e.size=0,e.map=void 0,e.readCount=0,e.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let y=new DataView(new ArrayBuffer(0)),g=new Uint8Array(y.buffer);try{y.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let m=RangeError("Insufficient data"),b=new l;class w{constructor(e){this.totalPos=0,this.pos=0,this.view=y,this.bytes=g,this.headByte=-1,this.stack=new p,this.entered=!1,this.extensionCodec=e?.extensionCodec??i.g.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??s.f7,this.maxBinLength=e?.maxBinLength??s.f7,this.maxArrayLength=e?.maxArrayLength??s.f7,this.maxMapLength=e?.maxMapLength??s.f7,this.maxExtLength=e?.maxExtLength??s.f7,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:b,this.mapKeyConverter=e?.mapKeyConverter??f}clone(){return new w({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){let t=(0,o.C)(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){let t=this.bytes.subarray(this.pos),r=(0,o.C)(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:t,pos:r}=this;return RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){let t=this.clone();yield*t.decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{let t;this.entered=!0;let r=!1;for await(let n of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(n);try{t=this.doDecodeSync(),r=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}let{headByte:i,pos:s,totalPos:a}=this;throw RangeError(`Insufficient data in parsing ${n(i)} at ${a} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async *decodeMultiAsync(e,t){if(this.entered){let r=this.clone();yield*r.decodeMultiAsync(e,t);return}try{this.entered=!0;let r=t,n=-1;for await(let i of e){if(t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--n;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){r:for(;;){let e;let t=this.readHeadByte();if(t>=224)e=t-256;else if(t<192){if(t<128)e=t;else if(t<144){let r=t-128;if(0!==r){this.pushMapState(r),this.complete();continue}e={}}else if(t<160){let r=t-144;if(0!==r){this.pushArrayState(r),this.complete();continue}e=[]}else{let r=t-160;e=this.decodeString(r,0)}}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){let t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){let t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){let t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){let t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(221===t){let t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(222===t){let t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(223===t){let t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(196===t){let t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){let t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){let t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){let t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){let t=this.lookU16();e=this.decodeExtension(t,2)}else if(201===t){let t=this.lookU32();e=this.decodeExtension(t,4)}else throw new c.X(`Unrecognized type byte: ${n(t)}`);this.complete();let r=this.stack;for(;r.length>0;){let t=r.top();if(t.type===u){if(t.array[t.position]=e,t.position++,t.position===t.size)e=t.array,r.release(t);else continue r}else if(t.type===d){if("__proto__"===e)throw new c.X("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=h;continue r}else if(t.map[t.key]=e,t.readCount++,t.readCount===t.size)e=t.map,r.release(t);else{t.key=null,t.type=d;continue r}}return e}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new c.X(`Unrecognized array type byte: ${n(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new c.X(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new c.X(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){let r;if(e>this.maxStrLength)throw new c.X(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw m;let n=this.pos+t;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,n,e):(0,a._u)(this.bytes,n,e),this.pos+=t+e,r}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===d}decodeBinary(e,t){if(e>this.maxBinLength)throw new c.X(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw m;let r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new c.X(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){let e=(0,s.Hn)(this.view,this.pos);return this.pos+=8,e}readI64(){let e=(0,s.eN)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function v(e,t){return new w(t).decode(e)}},48469:(e,t,r)=>{"use strict";r.d(t,{l:()=>l});var n=r(7524),i=r(57080),s=r(88514),a=r(81715);class o{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??i.g.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new o({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){let t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){let t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let t=(0,n.dS)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),(0,n.yi)(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){let r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error(`Too large binary: ${t}`);let r=(0,a.C)(e);this.writeU8a(r)}encodeArray(e,t){let r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<0x100000000)this.writeU8(221),this.writeU32(r);else throw Error(`Too large array: ${r}`);for(let r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(let n of t)void 0!==e[n]&&r++;return r}encodeMap(e,t){let r=Object.keys(e);this.sortKeys&&r.sort();let n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else if(n<0x100000000)this.writeU8(223),this.writeU32(n);else throw Error(`Too large map object: ${n}`);for(let n of r){let r=e[n];this.ignoreUndefined&&void 0===r||(this.encodeString(n),this.doEncode(r,t+1))}}encodeExtension(e){if("function"==typeof e.data){let t=e.data(this.pos+6),r=t.length;if(r>=0x100000000)throw Error(`Too large extension object: ${r}`);this.writeU8(201),this.writeU32(r),this.writeI8(e.type),this.writeU8a(t);return}let t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<0x100000000)this.writeU8(201),this.writeU32(t);else throw Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,s.X3)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,s._j)(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function l(e,t){return new o(t).encodeSharedRef(e)}},88514:(e,t,r)=>{"use strict";r.d(t,{Hn:()=>o,X3:()=>i,_j:()=>s,eN:()=>a,f7:()=>n});let n=0xffffffff;function i(e,t,r){e.setUint32(t,r/0x100000000),e.setUint32(t+4,r)}function s(e,t,r){let n=Math.floor(r/0x100000000);e.setUint32(t,n),e.setUint32(t+4,r)}function a(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}function o(e,t){return 0x100000000*e.getUint32(t)+e.getUint32(t+4)}},81715:(e,t,r)=>{"use strict";function n(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}r.d(t,{C:()=>n})},7524:(e,t,r)=>{"use strict";function n(e){let t=e.length,r=0,n=0;for(;n<t;){let i=e.charCodeAt(n++);if((0xffffff80&i)==0){r++;continue}if((0xfffff800&i)==0)r+=2;else{if(i>=55296&&i<=56319&&n<t){let t=e.charCodeAt(n);(64512&t)==56320&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}(0xffff0000&i)==0?r+=3:r+=4}}return r}r.d(t,{Zf:()=>a,_u:()=>l,dS:()=>n,yi:()=>s});let i=new TextEncoder;function s(e,t,r){e.length>50?i.encodeInto(e,t.subarray(r)):!function(e,t,r){let n=e.length,i=r,s=0;for(;s<n;){let r=e.charCodeAt(s++);if((0xffffff80&r)==0){t[i++]=r;continue}if((0xfffff800&r)==0)t[i++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&s<n){let t=e.charCodeAt(s);(64512&t)==56320&&(++s,r=((1023&r)<<10)+(1023&t)+65536)}(0xffff0000&r)==0?t[i++]=r>>12&15|224:(t[i++]=r>>18&7|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128}t[i++]=63&r|128}}(e,t,r)}function a(e,t,r){let n=t,i=n+r,s=[],a="";for(;n<i;){let t=e[n++];if((128&t)==0)s.push(t);else if((224&t)==192){let r=63&e[n++];s.push((31&t)<<6|r)}else if((240&t)==224){let r=63&e[n++],i=63&e[n++];s.push((31&t)<<12|r<<6|i)}else if((248&t)==240){let r=(7&t)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++];r>65535&&(r-=65536,s.push(r>>>10&1023|55296),r=56320|1023&r),s.push(r)}else s.push(t);s.length>=4096&&(a+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(a+=String.fromCharCode(...s)),a}let o=new TextDecoder;function l(e,t,r){return r>200?function(e,t,r){let n=e.subarray(t,t+r);return o.decode(n)}(e,t,r):a(e,t,r)}},33403:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(72486);let i=e=>e.map(e=>{if(e.rpcUrls.privyWalletOverride)return e;let t=n.m.find(t=>t.id===e.id),r=t?.rpcUrls.privy?.http[0];return r?function(e,t){return{...e,rpcUrls:{...e.rpcUrls,privy:{http:[t]}}}}(e,r):e})},72486:(e,t,r)=>{"use strict";r.d(t,{m:()=>b,o:()=>w});var n=r(30796),i=r(70973),s=r(21127),a=r(63931),o=r(8005),l=r(31854),c=r(85697),u=r(15343),d=r(40280),h=r(69236),f=r(64837),p=r(54622),y=r(79700),g=r(75531),m=r(64820);let b=[d.r,g.G,{id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},n.D,i.Y,h.R,f.i,p.n,y.n,c.A,{id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},{id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},{id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},o.E,l.Z,{id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},{id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},{id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},u._,{id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},s.m,a.C,m.L,{id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},{id:0x3b9ac9ff,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},{id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},{id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}}],w=new Set(b.map(e=>e.id))},30796:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});let n={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}}},70973:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});let n={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0}},21127:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});let n={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}}},63931:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});let n={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0}},8005:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});let n={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}}},31854:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0}},85697:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1}},15343:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});let n={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1}},40280:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});let n={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}}},69236:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});let n={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}}},64837:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});let n={id:0xaa37dc,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0}},54622:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});let n={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}}},79700:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});let n={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0}},75531:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});let n={id:0xaa36a7,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0}},64820:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});let n={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}}},8254:(e,t,r)=>{"use strict";r.d(t,{_:()=>l,k:()=>a});var n=r(11601),i=r(98979);let s={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"},a={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4},o=e=>void 0!==e?BigInt(e):void 0;function l(e){let t,{type:r=2,...a}="string"==typeof e?JSON.parse(e):e;a.accessList&&Array.isArray(a.accessList)?t=a.accessList.map(e=>Array.isArray(e)?{address:e[0],storageKeys:e[1]}:e):a.accessList&&(t=Object.entries(a.accessList).map(e=>({address:e[0],storageKeys:e[1]})));let l=Number(a.chainId??1),c=(0,n.q)(a.data)?a.data:a.data?(0,i.nj)(Uint8Array.from(a.data)):void 0,u=a.nonce?Number(a.nonce):void 0,d={chainId:l,data:c,nonce:u,value:o(a.value),gas:o(a.gas??a.gasLimit)},h=Number(r);if(0===h)return{...a,type:s[h],...d,gasPrice:o(a.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(1===h)return{...a,type:s[h],...d,gasPrice:o(a.gasPrice),accessList:t,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(2===h)return{...a,type:s[h],...d,nonce:u,accessList:t,maxFeePerGas:o(a.maxFeePerGas),maxPriorityFeePerGas:o(a.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${r}`)}},87083:(e,t,r)=>{"use strict";r.d(t,{VQ:()=>n,gn:()=>s,wE:()=>i});class n extends Error{constructor({error:e,code:t}){super(e),this.error=e,this.code=t}}class i extends Error{constructor({error:e,code:t}){super(e),this.code=t,this.error=e}}class s extends Error{constructor({error:e,code:t,response:r}){super(e),this.code=t,this.error=e,this.response=r}}},41102:(e,t,r)=>{"use strict";r.d(t,{A:()=>t$});let n={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"};class i{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(n,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}}let s={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"};var a=r(232);class o{static parse(e){try{return new o(e)}catch(e){return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=a.i(e)}}class l{async updateOnCrossAppAuthentication(e,t){let r=t.access_token,n=l.providerAccessTokenStorageKey(e);await this._storage.put(n,r)}async getProviderAccessToken(e){let t=l.providerAccessTokenStorageKey(e),r=await this._storage.get(t);if("string"!=typeof r)return null;try{if(new o(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(t),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(s,{params:{app_id:this._privyInternal.appId}})}constructor(e,t){this._privyInternal=e,this._storage=t}}l.providerAccessTokenStorageKey=e=>`privy:cross-app:${e}`;var c=r(23617);class u{async revoke(){await this._privyInternal.fetch(c.xh,{})}constructor(e){this._privyInternal=e}}var d=r(72486),h=r(33403),f=r(87083);let p=e=>!!e.id&&"privy-v2"===e.recovery_method;class y{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(p(this._account))throw new f.wE({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new f.wE({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i}){this._proxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i}}var g=r(95967),m=r(86542);async function b({context:e,chainType:t}){return{wallet:await (0,m.v)(e,{request:{chain_type:t,owner_id:void 0}})}}var w=r(52956);class v{enqueue(e,t){this.callbacks[e]=t}dequeue(e,t){let r=this.callbacks[t];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${t}`);switch(delete this.callbacks[t],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}}async function _(e,t,r,n,i=!1,s,a){let o=i,l=async s=>{if(o){s===(i?0:1)?n():r.current?.reject(new g.Pi("missing_or_invalid_mfa","MFA verification failed, retry."));let o=await new Promise((e,n)=>{t.current={resolve:e,reject:n},setTimeout(()=>{let e=new g.Pi("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(e),n(e)},a)});return await e(o)}return await e()},c=null;for(let e=0;e<s;e++)try{c=await l(e),r.current?.resolve(void 0);break}catch(e){if("missing_or_invalid_mfa"!==e.type)throw r.current?.resolve(void 0),e;o=!0}if(null===c){let e=new g.Pi("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(e),e}return c}let x=(V=0,()=>"id-"+V++),E=(e,t)=>"bigint"==typeof t?t.toString():t,I=async(e,{ms:t,msg:r})=>{let n,i=new Promise((e,i)=>{n=setTimeout(()=>{i(Error(r))},t??15e3)});try{return await Promise.race([e,i])}finally{void 0!==n&&clearTimeout(n)}},A=new v;class S{invokeWithMfa(e,t){return I(_(r=>I(this.waitForReady().then(()=>e(r)),{msg:t.timeoutMsg,ms:t.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),t.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return I(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return I(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(t=>this.invoke("privy:wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return I(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(t=>this.invoke("privy:delegated-actions:consent",{...t,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:verify",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:init-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:submit-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:unenroll",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return I(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(t=>this.invoke("privy:user-signer:sign",{...t,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return I(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:set-recovery",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return I(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:recover",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){if(!e.event.startsWith("privy:"))return void console.warn(`Unsupported event type: ${e.event}`);let{reject:t,resolve:r}=A.dequeue(e.event,e.id);return void 0!==e.error?t(new g.Pi(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,t)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(t),await new Promise(e=>{setTimeout(()=>{e()},150)})})}invoke(e,t){let r=`${e}${JSON.stringify(t,E)}`;if("privy:wallet:create"===e||"privy:solana-wallet:create"===e){let e=this.cache.get(r);if(e)return e}let n=new Promise((r,n)=>{let i=x();A.enqueue(i,{resolve:r,reject:n}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:i,event:e,data:t}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,n),n}constructor(e,t){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=t}}var k=r(29761),C=r(98979),T=r(8254),O=r(75927).hp;let P=e=>/^0x[0-9a-fA-F]*$/.test(e),R=e=>O.from(e,"utf8"),D=e=>`0x${e.toString("hex")}`;var N=r(82088),U=r(75927).hp;function M(e){return"number"==typeof e||"bigint"==typeof e?`0x${BigInt(e).toString(16)}`:"string"==typeof e?P(e)?e:D(R(e)):void 0}async function B({context:e,account:t,rpcRequest:r}){switch(r.chainType){case"ethereum":return async function({context:e,account:t,rpcRequest:r}){var n;switch(r.method){case"personal_sign":{let[n]=r.params,i=await (0,N._)(e,e.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:t.id,params:n.startsWith("0x")?{message:n.slice(2),encoding:"hex"}:{message:n,encoding:"utf-8"}});if("personal_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"eth_signTransaction":{let[n]=r.params,i=await (0,N._)(e,e.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:t.id,params:{transaction:{from:n.from,to:n.to??void 0,nonce:M(n.nonce),chain_id:M(n.chainId),data:function(e){if(void 0!==e)return"string"==typeof e?P(e)?e:D(R(e)):D(U.from(Uint8Array.from(e)))}(n.data),value:M(n.value),type:n.type,gas_limit:M(n.gasLimit),gas_price:M(n.gasPrice),max_fee_per_gas:M(n.maxFeePerGas),max_priority_fee_per_gas:M(n.maxPriorityFeePerGas)}}});if("eth_signTransaction"!==i.method)throw Error("Unable to sign transaction");return{data:i.data.signed_transaction}}case"eth_signTypedData_v4":{let[,i]=r.params,s=await (0,N._)(e,e.signRequest,{chain_type:"ethereum",method:r.method,wallet_id:t.id,params:{typed_data:("string"==typeof(n=i)&&(n=JSON.parse(n)),{types:n.types,primary_type:String(n.primaryType),domain:n.domain,message:n.message})}});if("eth_signTypedData_v4"!==s.method)throw Error("Unable to sign typed data");return{data:s.data.signature}}case"eth_sign":{let[,n]=r.params,i=await (0,N._)(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:P(n)?n:D(R(n))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"secp256k1_sign":{let[n]=r.params,i=await (0,N._)(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:P(n)?n:D(R(n))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${r.method}`)}}({context:e,account:t,rpcRequest:r.request});case"solana":return async function({context:e,account:t,rpcRequest:r}){if("signMessage"===r.method){let{message:n}=r.params,i=await (0,N._)(e,e.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:t.id,params:{message:n,encoding:"base64"}});if("signMessage"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}}({context:e,account:t,rpcRequest:r.request})}}r(4247);let j=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]);class L extends k.A{async request(e){if(j.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let t=e.params?.[0];return this.handleSignTransaction(t)}case"eth_sendTransaction":{let t=e.params?.[0];return this.handleSendTransaction(t)}case"eth_populateTransactionRequest":{let t=e.params?.[0];return this.handlePopulateTransaction(t)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let t={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(t.chainId),t}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=(0,w.Bm)(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let t=this.ensureChainId(e),r=(0,T._)(t),{type:n,...i}=await this._client.prepareTransactionRequest({account:t.from??this._account.address,...r});return{...i,type:T.k[n]}}async handleSignTransaction(e){let t={...e};for(let e of Object.keys(t)){let r=t[e];r&&"bigint"==typeof r&&(t[e]=(0,C.nj)(r))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[t]})}async handleSendTransaction(e){let t=await this.handlePopulateTransaction(e),r=await this.handleSignTransaction(t);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let t=e.params?.[0],r=this.ensureChainId(t),n=(0,T._)(r);return await this._client.estimateGas({account:r.from??this._account.address,...n})}handleSwitchEthereumChain(e){let t;if(!e.params||!Array.isArray(e.params))throw new g.sj(`Invalid params for ${e.method}`,4200);if("string"==typeof e.params[0])t=e.params[0];else{if(!("chainId"in e.params[0])||"string"!=typeof e.params[0].chainId)throw new g.sj(`Invalid params for ${e.method}`,4200);t=e.params[0].chainId}this.internalSwitchEthereumChain(t)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(p(r)){let{data:n}=await B({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._walletProxy.signWithUserSigner({accessToken:t,message:e})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return n}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t})}catch(r){let e=(0,g.pO)(r);if(e&&"privy"===this._account.recovery_method)await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t});else{if(!e||!this._onNeedsRecovery)throw r;{let e;await new Promise(async(t,r)=>{e=setTimeout(()=>r(new f.wE({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)})}).finally(()=>clearTimeout(e))}}}return(await this._walletProxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i,chains:s,onNeedsRecovery:a,chainId:o=s[0].id,appApi:l}){super(),this._walletProxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i,this._chainId=o,this._chains=s,this._onNeedsRecovery=a,this._client=(0,w.Bm)(o,s,{rpcUrls:[]},{appId:l.appId}),this._appApi=l}}function F(e){return"version"in e}function $(e,t){let r=(F(e)?e.message:e.compileMessage()).staticAccountKeys.find(e=>e.toBase58()===t);if(!r)throw Error(`Transaction does not contain public key ${t}`);return r}var z=r(75927).hp;class q{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new f.wE({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if("privy-v2"!==this._account.recovery_method)try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(r){let t=(0,g.pO)(r);if(t&&"privy"===this._account.recovery_method)await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!t||!this._onNeedsRecovery)throw r;{let e;await new Promise(async(t,r)=>{e=setTimeout(()=>r(new f.wE({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)})}).finally(()=>clearTimeout(e))}}}}async signMessageRpc(e,t){let r=this._account;if(!p(r))return(await this._proxy.rpcWallet({accessToken:t,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:n}=await B({context:{app:this._app,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._proxy.signWithUserSigner({accessToken:t,message:e})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:n}}}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t),await this.signMessageRpc(e,t)}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}async handleSignAndSendTransaction(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:r,connection:n,options:i}=e.params,s=$(r,this._account.address),a=F(r)?z.from(r.message.serialize()):r.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},t);return r.addSignature(s,z.from(o,"base64")),{signature:await n.sendRawTransaction(r.serialize(),i)}}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}async handleSignTransaction(e){try{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:r}=e.params,n=$(r,this._account.address),i=F(r)?z.from(r.message.serialize()):r.serializeMessage(),{signature:s}=await this.signMessageRpc({method:"signMessage",params:{message:i.toString("base64")}},t);return r.addSignature(n,z.from(s,"base64")),{signedTransaction:r}}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:t}),new f.wE({code:"embedded_wallet_request_error",error:t})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i,onNeedsRecovery:s,app:a}){this._proxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i,this._onNeedsRecovery=s,this._app=a}}class W{setMessagePoster(e){this._proxy=new S(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw new f.wE({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:t,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await b({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:e.chainType});else{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw new f.wE({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:t,...e})}let{user:t}=await this._privyInternal.refreshSession();return{user:t}}async getBitcoinProvider({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return p(e)||await this._load({entropyId:t,entropyIdVerifier:r,wallet:e,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s}),new y({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:r})}async create({password:e,recoveryMethod:t,recoveryToken:r,recoveryKey:n,recoverySecretOverride:i,iCloudRecordNameOverride:s,solanaAccount:a,skipCallbacks:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode){if(t&&!t.startsWith("privy"))throw new f.wE({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await b({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"ethereum"})}else{let o;if(o=t||(e?"user-passcode":"privy"),e&&"string"!=typeof e)throw Error("Invalid recovery password, must be a string");if("privy"===o&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let l=await this._privyInternal.getAccessTokenInternal();if(!l)throw Error("User must be logged in to create an embedded wallet");let{address:c}=await this._proxy.create({accessToken:l,recoveryMethod:o,recoveryKey:n,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:i,iCloudRecordNameOverride:s,solanaAddress:a?.address});if(!c)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(o)}async createSolana(e){if(!this._proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await b({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"solana"});else{let t=await this._privyInternal.getAccessTokenInternal();if(!t)throw new f.wE({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:t,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new f.wE({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:t}){if(!this._proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new f.wE({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:t})}async getProvider(e,t,r,n,i){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return p(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:t,recoveryKey:i,recoveryAccessToken:r,recoverySecretOverride:n}),new L({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s,recoveryKey:a,onNeedsRecovery:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return p(e)||(!o||n||i||s||a)&&await this._load({entropyId:t,entropyIdVerifier:r,wallet:e,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s,recoveryKey:a}),new L({account:e,entropyId:t,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:o,appApi:this._appApi})}async getSolanaProvider(e,t,r,n,i,s,a){if(!this._proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return p(e)||(!a||n||i||s)&&await this._load({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:s}),new q({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:r,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:t,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(p(t))throw new f.wE({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});(0,w.Di)({currentRecoveryMethod:t.recovery_method,upgradeToRecoveryMethod:"icloud-native"===r.recoveryMethod?"icloud":r.recoveryMethod}),await this._load("solana"===t.chain_type?{wallet:t,entropyId:t.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"});let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("User must be logged in to interact with embedded wallets");let i=t.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:t.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:i});try{let e;if("user-passcode"===r.recoveryMethod)e={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if("google-drive"===r.recoveryMethod)e={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if("icloud"===r.recoveryMethod)e={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if("icloud-native"===r.recoveryMethod)e={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if("recovery-encryption-key"===r.recoveryMethod)e={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if("privy"!==r.recoveryMethod)throw Error(`Unknown recovery method: ${r.recoveryMethod}`);e={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:n,entropyId:t.address,entropyIdVerifier:"solana"===t.chain_type?"solana-address-verifier":"ethereum-address-verifier",...e}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:t.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:i});let{user:s}=await this._privyInternal.refreshSession();return{user:s,provider:"ethereum"!==t.chain_type?null:new L({account:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(e){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:t.address,recovery_method:t.recovery_method,error:e instanceof Error?e.message:"Unable to recover wallet"}),e}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(e){return console.error(e),!1}}async _load({entropyId:e,entropyIdVerifier:t,wallet:r,recoveryPassword:n,recoveryKey:i,recoveryAccessToken:s,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let o=await this._privyInternal.getAccessTokenInternal();if(!o)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:o,entropyId:e,entropyIdVerifier:t}),e}catch(l){if((0,g.pO)(l))try{if("privy"===r.recovery_method){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:o,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}if("user-passcode"===r.recovery_method&&n){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let i=await this._proxy.recover({accessToken:o,recoveryPassword:n,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),i.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:o,recoveryAccessToken:s,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}if("icloud"===r.recovery_method&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let n=await this._proxy.recover({accessToken:o,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),n.entropyId}if("recovery-encryption-key"===r.recovery_method&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:o,recoveryKey:i,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}}catch(t){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:t instanceof Error?t.message:`Unable to recover wallet: ${e}`}),t}throw l}}constructor(e,t,r,n,i,s){if(this._chains=Array.from(d.m),this._privyInternal=e,t&&(this._proxy=new S(t,i),n.setProxy(this._proxy)),r){let e=(0,h._)(r);this._chains=e}this._mfa=n,this._mfaPromises=i,this._appApi=s}}class H extends k.A{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}}var V,K,G=r(91026),Z=r(79749),J=((K={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",K.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",K.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",K.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",K.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",K.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",K.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",K.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",K.INVALID_DATA="invalid_data",K.INVALID_CREDENTIALS="invalid_credentials",K.INVALID_CAPTCHA="invalid_captcha",K.LINKED_TO_ANOTHER_USER="linked_to_another_user",K.ALLOWLIST_REJECTED="allowlist_rejected",K.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",K.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",K.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",K.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",K.TOO_MANY_REQUESTS="too_many_requests",K.RESOURCE_CONFLICT="resource_conflict",K.INVALID_ORIGIN="invalid_origin",K.MISSING_ORIGIN="missing_origin",K.INVALID_NATIVE_APP_ID="invalid_native_app_id",K.TOKEN_ALREADY_USED="token_already_used",K.ALREADY_LOGGED_OUT="already_logged_out",K.NOT_SUPPORTED="not_supported",K.USER_UNSUBSCRIBED="user_unsubscribed",K.MAX_APPS_REACHED="max_apps_reached",K.USER_LIMIT_REACHED="max_accounts_reached",K.DEVICE_REVOKED="device_revoked",K.WALLET_PASSWORD_EXISTS="wallet_password_exists",K.OAUTH_STATE_MISMATCH="oauth_state_mismatch",K.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",K.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",K.DISALLOWED_LOGIN_METHOD="disallowed_login_method",K.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",K.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",K.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",K.CANNOT_SET_PASSWORD="cannot_set_password",K.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",K.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",K.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",K.USER_DOES_NOT_EXIST="user_does_not_exist",K.ALREADY_EXISTS="resource_already_exists",K.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",K.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",K.FEATURE_NOT_ENABLED="feature_not_enabled",K.INSUFFICIENT_FUNDS="insufficient_funds",K.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",K.TRANSACTION_EXECUTION_FAILURE="transaction_execution_failure",K.INVALID_POLICY_FORMAT="invalid_policy_format",K.POLICY_VIOLATION="policy_violation",K.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",K.INVALID_REQUEST="invalid_request",K.SIGNUP_DISABLED="signup_disabled",K);let Y=(e,t)=>t?Object.entries(t).reduce((e,[t,r])=>e.replace(`:${t}`,`${r}`),e):e,Q={path:"/api/v1/apps/:app_id",method:"GET"},X={path:"/api/v1/analytics_events",method:"POST"},ee={path:"/api/v1/sessions",method:"POST"},et={path:"/api/v1/sessions/logout",method:"POST"};var er=r(18639),en=r(89208);let ei=Promise.allSettled.bind(Promise)??(e=>Promise.all(e.map(e=>e.then(e=>({status:"fulfilled",value:e})).catch(e=>({status:"rejected",reason:e}))))),es="privy:token",ea="privy-token",eo="privy:pat",el="privy:refresh_token",ec="privy-refresh-token",eu="privy:id-token",ed="privy-id-token",eh="privy-session";class ef extends k.A{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(es);try{return"string"==typeof e?new o(e).value:null}catch(e){return console.error(e),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(eo);try{return"string"==typeof e?new o(e).value:null}catch(e){return console.error(e),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(el);return"string"==typeof e?e:null}async getIdentityToken(){let e=await this._storage.get(eu);return"string"==typeof e?e:null}get mightHaveServerCookies(){try{let e=en.A.get(eh);return void 0!==e&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,t){return this.mightHaveServerCookies||"string"==typeof e&&"string"==typeof t}tokenIsActive(e){if(!e)return!1;let t=o.parse(e);return null!==t&&!t.isExpired(30)}async destroyLocalState(e){await ei([this._storage.del(es),this._storage.del(el),this._storage.del(eu),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),en.A.remove(ea),en.A.remove(ec),en.A.remove(ed),en.A.remove(eh),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if("string"==typeof e){let t=await this._storage.get(es);if(await this._storage.put(es,e),!this._isUsingServerCookies){let t=o.parse(e)?.expiration;en.A.set(ea,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(es);await this._storage.del(es),en.A.remove(ea),null!==e&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){"string"==typeof e?await this._storage.put(eo,e):await this._storage.del(eo)}async storeRefreshToken(e){"string"==typeof e?(await this._storage.put(el,e),this._isUsingServerCookies||(en.A.set(eh,"t",{sameSite:"Strict",secure:!0,expires:30}),en.A.set(ec,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(el),en.A.remove(ec),en.A.remove(eh),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let t=(await ei([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(e=>"rejected"===e.status);t.length>0&&this.emit("error_storing_tokens",t.map(e=>String(e.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if("string"==typeof e){let t=await this._storage.get(eu);if(await this._storage.put(eu,e),!this._isUsingServerCookies){let t=o.parse(e)?.expiration;en.A.set(ed,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(eu);await this._storage.del(eu),en.A.remove(ed),null!==e&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&"string"==typeof e)return e;let t=er.l(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,t),t}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}}ef.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var ep=e=>{let t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal};let ey=()=>{},eg={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY},em=({level:e}={level:"ERROR"})=>({get level(){return e},error:eg[e]>=eg.ERROR?console.error:ey,warn:eg[e]>=eg.WARN?console.warn:ey,info:eg[e]>=eg.INFO?console.info:ey,debug:eg[e]>=eg.DEBUG?console.debug:ey}),eb="privy:caid";class ew{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new f.wE({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:t,query:r}){return`${this.baseUrl}${Y(e.path,t)}${function(e){let t=new URLSearchParams;for(let r in e)null!=e[r]&&t.append(r,String(e[r]));return Array.from(t).length?"?"+t.toString():""}(r)}`}async fetch(e,{body:t,params:r,query:n,headers:i,onRequest:s=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:r,query:n}),{method:e.method,body:JSON.stringify(t),headers:i}),o=await s(a),l=await this._fetch(a,o),c=await l.json();if(l.status>299)throw new f.VQ(c);return c}async _beforeRequestWithoutInitialize(e){let t=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),t&&r.set("Authorization",`Bearer ${t}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let n=await this._getOrGenerateClientAnalyticsId();return n&&r.set("privy-ca-id",n),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:ep(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(Q,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(eb);if("string"==typeof e&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=(0,Z.A)()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(this._analyticsId){try{await this._storage.put(eb,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}}async destroyClientAnalyticsId(){try{return await this._storage.del(eb)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,t){try{await this.fetch(X,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:t},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch(e){}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new f.wE({code:"storage_error",error:"Unable to access storage"});let t=await this.session.getRefreshToken()??void 0,r=t??"key",n=this._cache.get(r);if(n)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await n;let i=this._refreshSession(t,e);this._cache.set(r,i);try{return await i}finally{this._cache.delete(r)}}async _refreshSession(e,t){let r=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new f.VQ({code:J.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${ee.path}`);let r=await this.fetch(ee,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),n=r.session_update_action;return this.logger.debug(`[privy:refresh] response: ${n}`),t||this.callbacks?.setUser?.(r.user),"set"===n&&(await this.session.updateWithTokensResponse(r),this.logger.debug("[privy:refresh] tokens stored")),"clear"===n&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),t||this.callbacks?.setUser?.(null)),"ignore"===n&&r.token&&(await this.session.storeCustomerAccessToken(r.token),await this.session.storePrivyAccessToken(r.privy_access_token),this.logger.debug("[privy:refresh] access token stored"),r.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(r.identity_token))),this.logger.debug("[privy:refresh] returning response"),r}catch(e){throw this.logger.debug(`[privy:refresh] error: ${e.message??"unknown error"}`),e instanceof f.VQ&&e.code===J.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),t||this.callbacks?.setUser?.(null)),e}}async getAccessToken(){let[e,t]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,t)){let t=await this.refreshSession(),r=await this.session.getCustomerAccessToken();return t.token||this.logger.debug("[privy:getAccessToken] expected token received null"),t.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),r===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),t.token??r}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${(0,Z.A)()}`,t="blobby";await this._storage.put(e,t);let r=await this._storage.get(e);return await this._storage.del(e),r===t}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.58.2",this._cache=new Map,this.logger=em({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new ef({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=G(globalThis.fetch,{retries:3,retryDelay:e=>3**e*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",e=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:e})})}}let ev={path:"/api/v1/users/me/accept_terms",method:"POST"};class e_{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(ev,{})}}constructor(e){this._privyInternal=e}}let ex={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},eE=e=>"wallet"===e.type&&"privy"===e.wallet_client_type&&"embedded"===e.connector_type,eI=e=>e?e.linked_accounts.filter(eE).filter(e=>"ethereum"===e.chain_type).sort((e,t)=>e.wallet_index-t.wallet_index):[],eA=e=>eI(e).find(e=>0===e.wallet_index)??null,eS=e=>e?e.linked_accounts.filter(eE).filter(e=>"solana"===e.chain_type).sort((e,t)=>e.wallet_index-t.wallet_index):[],ek=e=>eS(e).find(e=>0===e.wallet_index)??null,eC=(e,t)=>!("off"===t||eI(e).length>0||e.linked_accounts.filter(e=>"wallet"===e.type&&"ethereum"===e.chain_type).length>0&&"all-users"!==t),eT=(e,t)=>!("off"===t||eS(e).length>0||e.linked_accounts.filter(e=>"wallet"===e.type&&"solana"===e.chain_type).length>0&&"all-users"!==t),eO=async(e,t,r)=>{let n=eC(t.user,r?.ethereum?.createOnLogin??"off"),i=eT(t.user,r?.solana?.createOnLogin??"off");if(n&&i){let r=await e.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await e.createSolana({ethereumAccount:eA(r.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}}return n?{...await e.create({recoveryMethod:"privy",solanaAccount:ek(t.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:i?{...await e.createSolana({ethereumAccount:eA(t.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:t};class eP{async syncWithToken(e,t,r){let n=await this._privyInternal.fetch(ex,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await eO(this._embedded,n,t?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,t){this._privyInternal=e,this._embedded=t}}let eR={path:"/api/v1/passwordless/authenticate",method:"POST"},eD={path:"/api/v1/passwordless/init",method:"POST"},eN={path:"/api/v1/passwordless/link",method:"POST"},eU={path:"/api/v1/passwordless/unlink",method:"POST"},eM={path:"/api/v1/passwordless/update",method:"POST"};class eB{async sendCode(e,t){return this._privyInternal.fetch(eD,{body:{email:e,token:t}})}async loginWithCode(e,t,r,n){let i=await this._privyInternal.fetch(eR,{body:{email:e,code:t,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await eO(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,t){await this._privyInternal.fetch(eN,{body:{email:e,code:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:t,code:r}){await this._privyInternal.fetch(eM,{body:{oldAddress:e,newAddress:t,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async unlink(e){await this._privyInternal.fetch(eU,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let ej={path:"/api/v1/farcaster/init",method:"POST"},eL={path:"/api/v1/farcaster/authenticate",method:"POST"},eF={path:"/api/v1/farcaster/link",method:"POST"},e$={path:"/api/v1/farcaster/unlink",method:"POST"},ez={path:"/api/v1/farcaster/status",method:"GET"},eq={path:"/api/v2/farcaster/init",method:"POST"},eW={path:"/api/v2/farcaster/authenticate",method:"POST"};class eH{async initializeAuth({relyingParty:e,redirectUrl:t,token:r}){return await this._privyInternal.fetch(ej,{body:{relying_party:e,redirect_url:t,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(ez,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:t,signature:r,fid:n,mode:i},s){let a=await this._privyInternal.fetch(eL,{body:{channel_token:e,message:t,signature:r,fid:n,mode:i}});await this._privyInternal.session.updateWithTokensResponse(a);let o=await eO(this._embedded,a,s?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async link({channel_token:e,message:t,signature:r,fid:n}){await this._privyInternal.fetch(eF,{body:{channel_token:e,message:t,signature:r,fid:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(e$,{body:{fid:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class eV{async initializeAuth(){return await this._privyInternal.fetch(eq,{body:{}})}async authenticate({message:e,signature:t,fid:r},n){let i=await this._privyInternal.fetch(eW,{body:{message:e,signature:t,fid:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await eO(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,t){this._privyInternal=e,this._embedded=t}}let eK={path:"/api/v1/guest/authenticate",method:"POST"};class eG{async create(e){let t=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(eK,{body:{guest_credential:t}});await this._privyInternal.session.updateWithTokensResponse(r);let n=await eO(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(n.user),n}constructor(e,t){this._privyInternal=e,this._embedded=t}}let eZ={path:"/api/v1/oauth/authenticate",method:"POST"},eJ={path:"/api/v1/oauth/init",method:"POST"},eY={path:"/api/v1/oauth/link",method:"POST"},eQ={path:"/api/v1/oauth/unlink",method:"POST"},eX="privy:state_code",e0="privy:code_verifier";async function e1(e,t){let r=(new TextEncoder).encode(e);return new Uint8Array(await t("SHA-256",r))}function e2(){return er.l(crypto.getRandomValues(new Uint8Array(36)))}async function e6({codeVerifier:e,method:t="S256",digest:r=crypto.subtle.digest.bind(crypto.subtle)}){if("S256"!=t)return e;{let t=await e1(e,r);return er.l(t)}}class e5{async generateURL(e,t){let r=e2(),n=e2(),i=await e6({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(e0,r),this._storage.put(eX,n)]),this._privyInternal.fetch(eJ,{body:{redirect_to:t,provider:e,code_challenge:i,state_code:n}})}async loginWithCode(e,t,r,n,i,s){let[a,o]=await Promise.all([this._storage.get(e0),this._storage.get(eX)]);if(o!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:o??"",returnedStateCode:t??""}),new f.wE({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let l=await this._privyInternal.fetch(eZ,{body:{authorization_code:e,code_type:n,state_code:o,code_verifier:a,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await eO(this._embedded,l,s?.embedded);return await Promise.all([this._storage.del(e0),this._storage.del(eX)]),this._privyInternal.callbacks?.setUser?.(c.user),c}async linkWithCode(e,t,r,n){let[i,s]=await Promise.all([this._storage.get(e0),this._storage.get(eX)]);if(s!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:s??"",returnedStateCode:t??""}),new f.wE({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(eY,{body:{authorization_code:e,code_type:n,state_code:s,code_verifier:i}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let o=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(e0),this._storage.del(eX)]),{user:o.user,identity_token:o.identity_token}}async unlink(e,t){await this._privyInternal.fetch(eQ,{body:{provider:e,subject:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,t,r,n){this._privyInternal=e,this._embedded=t,this._storage=r,this._crypto=n}}let e8={path:"/api/v1/passkeys/link",method:"POST"},e3={path:"/api/v1/passkeys/authenticate",method:"POST"},e4={path:"/api/v1/passkeys/register",method:"POST"},e9={path:"/api/v1/passkeys/authenticate/init",method:"POST"},e7={path:"/api/v1/passkeys/register/init",method:"POST"},te={path:"/api/v1/passkeys/link/init",method:"POST"};class tt{async generateRegistrationOptions(e){return await this._privyInternal.fetch(te,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(e9,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(e7,{body:{relying_party:e}})}async loginWithPasskey(e,t,r,n){let i=await this._privyInternal.fetch(e3,{body:{relying_party:r,challenge:t,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await eO(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async signupWithPasskey(e,t,r){let n=await this._privyInternal.fetch(e4,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await eO(this._embedded,n,r?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}async linkWithPasskey(e,t){await this._privyInternal.fetch(e8,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let tr={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},tn={path:"/api/v1/passwordless_sms/init",method:"POST"},ti={path:"/api/v1/passwordless_sms/link",method:"POST"},ts={path:"/api/v1/passwordless_sms/unlink",method:"POST"},ta={path:"/api/v1/passwordless_sms/update",method:"POST"};class to{async sendCode(e,t){return this._privyInternal.fetch(tn,{body:{phoneNumber:e,token:t}})}async loginWithCode(e,t,r,n){let i=await this._privyInternal.fetch(tr,{body:{phoneNumber:e,code:t,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await eO(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithCode(e,t){await this._privyInternal.fetch(ti,{body:{phoneNumber:e,code:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:t,code:r}){await this._privyInternal.fetch(ta,{body:{old_phone_number:e,new_phone_number:t,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async unlink(e){await this._privyInternal.fetch(ts,{body:{phoneNumber:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let tl={path:"/api/v1/siwe/init",method:"POST"},tc={path:"/api/v1/siwe/authenticate",method:"POST"},tu={path:"/api/v1/siwe/link",method:"POST"},td={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},th={path:"/api/v1/siwe/unlink",method:"POST"};class tf{async unlinkWallet(e){await this._privyInternal.fetch(th,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async linkWithSiwe(e,t,r){let n=t||this._wallet,i=r||this._preparedMessage;if(!n)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!i)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(tu,{body:{message:i,signature:e,chainId:n.chainId,walletClientType:n.walletClientType??null,connectorType:n.connectorType??null}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async loginWithSiwe(e,t,r,n,i){let s=t||this._wallet,a=r||this._preparedMessage;if(!s)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let o=await this._privyInternal.fetch(tc,{body:{signature:e,message:a,chainId:s.chainId,walletClientType:s.walletClientType??null,connectorType:s.connectorType??null,mode:n}});await this._privyInternal.session.updateWithTokensResponse(o);let l=await eO(this._embedded,o,i?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async init(e,t,r){var n;this._wallet=e;let{nonce:i}=await this._privyInternal.fetch(tl,{body:{address:e.address}}),s=`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:t,nonce:i,uri:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=s,{nonce:i,message:s}}constructor(e,t){this._wallet=void 0,this._privyInternal=e,this._embedded=t}}let tp={path:"/api/v1/siws/init",method:"POST"},ty={path:"/api/v1/siws/authenticate",method:"POST"},tg={path:"/api/v1/siws/link",method:"POST"},tm={path:"/api/v1/siws/unlink",method:"POST"};class tb{async unlink({address:e}){await this._privyInternal.fetch(tm,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async link({message:e,signature:t,walletClientType:r,connectorType:n}){await this._privyInternal.fetch(tg,{body:{message:e,signature:t,walletClientType:r??null,connectorType:n??null}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async login({mode:e,message:t,signature:r,walletClientType:n,connectorType:i,opts:s}){let a=await this._privyInternal.fetch(ty,{body:{signature:r,message:t,walletClientType:n??null,connectorType:i??null,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let o=await eO(this._embedded,a,s?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async fetchNonce({address:e}){let{nonce:t}=await this._privyInternal.fetch(tp,{body:{address:e}});return{nonce:t}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class tw{async link(e,t,r,n){await this._privyInternal.fetch(td,{body:{message:e,signature:t,smart_wallet_type:r,smart_wallet_version:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async init(e){var t;let{nonce:r}=await this._privyInternal.fetch(tl,{body:{address:e.address}});return{nonce:r,message:`${(t={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${t.address}

${t.statement}

URI: ${t.uri}
Version: 1
Chain ID: ${t.chainId}
Nonce: ${t.nonce}
Issued At: ${t.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}}class tv{async logout(e){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(et,{body:{refresh_token:e}})}catch(e){console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),e?.userId&&this._mfa.clearMfa({userId:e.userId})]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,t,r,n,i){this._privyInternal=e,this._mfa=i,this.customProvider=new eP(this._privyInternal,t),this.phone=new to(this._privyInternal,t),this.email=new eB(this._privyInternal,t),this.oauth=new e5(this._privyInternal,t,r,n),this.guest=new eG(this._privyInternal,t),this.siwe=new tf(this._privyInternal,t),this.siws=new tb(this._privyInternal,t),this.smartWallet=new tw(this._privyInternal),this.passkey=new tt(this._privyInternal,t),this.farcaster=new eH(this._privyInternal,t),this.farcasterV2=new eV(this._privyInternal,t)}}let t_={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},tx={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"};class tE{async initOnRampSession(e){return await this._privyInternal.fetch(t_,{body:e})}async getStatus(e){return await this._privyInternal.fetch(tx,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}}let tI={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"};var tA=r(87040);class tS{async sign(e){return await this._privyInternal.fetch(tI,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:t}){let{url:r,key:n}=tA.IX[t?"sandbox":"prod"],i=await G(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${n}`);if(!i.ok)throw new f.gn({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:i});let s=await i.json();return Array.isArray(s)?s.at(0):void 0}constructor(e){this._privyInternal=e}}class tk{constructor(e){this.moonpay=new tS(e),this.coinbase=new tE(e)}}let tC={path:"/api/v1/mfa/passkeys/init",method:"POST"};class tT{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(tC,{body:e})}constructor(e){this._privyInternal=e}}let tO={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"};class tP{async sendCode(e){return await this._privyInternal.fetch(tO,{body:e})}constructor(e){this._privyInternal=e}}class tR{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new f.wE({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),t}async unenrollMfa(e){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),t}async clearMfa(e){if(!this.proxy)throw new f.wE({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,t){this.proxy=t,this.privyInternal=e,this.sms=new tP(e),this.passkey=new tT(e)}}let tD={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},tN={path:"/api/v1/recovery/oauth/init",method:"POST"},tU={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},tM={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},tB={path:"/api/v1/recovery/configuration_icloud",method:"POST"},tj=class{async init(e){return this._privyInternal.fetch(tM,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(tB,{body:{client_type:e}})}constructor(e){this._privyInternal=e}};class tL{async generateURL(e){let t=e2(),r=e2(),n=await e6({codeVerifier:t,digest:this._crypto?.digest});return await Promise.all([this._storage.put(e0,t),this._storage.put(eX,r)]),this._privyInternal.fetch(tN,{body:{redirect_to:e,code_challenge:n,state_code:r}})}async authorize(e,t){let[r,n]=await Promise.all([this._storage.get(e0),this._storage.get(eX)]);if(n!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:n??"",returnedStateCode:t??""}),new f.wE({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let i=await this._privyInternal.fetch(tU,{body:{authorization_code:e,state_code:n,code_verifier:r}});return await Promise.all([this._storage.del(e0),this._storage.del(eX)]),i}constructor(e,t,r){this._privyInternal=e,this._storage=t,this._crypto=r}}class tF{async getRecoveryKeyMaterial(e,t){return this._privyInternal.fetch(tD,{body:{chain_type:t},params:{address:e}})}constructor(e,t,r){this._privyInternal=e,this.auth=new tL(this._privyInternal,t,r),this.icloudAuth=new tj(this._privyInternal)}}class t${async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,t){return this._privyInternal.getPath(e,t)}async fetchPrivyRoute(e,t){return this._privyInternal.fetch(e,t)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...t}){this._privyInternal=new ew({...t,appClientId:e}),this.mfa=new tR(this._privyInternal),this.mfaPromises=new H,this.app=new i(this._privyInternal),this.embeddedWallet=new W(this._privyInternal,t.embeddedWalletMessagePoster,t.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new e_(this._privyInternal),this.auth=new tv(this._privyInternal,this.embeddedWallet,t.storage,t.crypto,this.mfa),this.recovery=new tF(this._privyInternal,t.storage,t.crypto),this.funding=new tk(this._privyInternal),this.delegated=new u(this._privyInternal),this.crossApp=new l(this._privyInternal,t.storage)}}},95967:(e,t,r)=>{"use strict";var n;r.d(t,{sj:()=>l,g1:()=>o,Pi:()=>a,Z9:()=>c,pO:()=>u});let i=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];(n={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",n.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",n.INVALID_DATA="invalid_data",n.LINKED_TO_ANOTHER_USER="linked_to_another_user",n.ALLOWLIST_REJECTED="allowlist_rejected",n.OAUTH_USER_DENIED="oauth_user_denied",n.UNKNOWN_AUTH_ERROR="unknown_auth_error",n.USER_EXITED_AUTH_FLOW="exited_auth_flow",n.MUST_BE_AUTHENTICATED="must_be_authenticated",n.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",n.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",n.CLIENT_REQUEST_TIMEOUT="client_request_timeout",n.INVALID_CREDENTIALS="invalid_credentials";class s extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,t,r){super(e),t instanceof Error&&(this.cause=t),this.privyErrorCode=r}}class a extends Error{constructor(e,t){super(t),this.type=e}}class o extends s{constructor(e,t,r){super(e,t,r),this.type="connector_error"}}class l extends Error{constructor(e,t,r){super(e),this.code=t,this.data=r}}let c={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function u(e){let t;return"string"==typeof(t=e.type)&&i.includes(t)&&"wallet_not_on_device"===e.type}},52956:(e,t,r)=>{"use strict";r.d(t,{Bm:()=>a,Di:()=>l,K9:()=>o});var n=r(11326),i=r(96355),s=r(95967);let a=(e,t,r,a)=>{let l=Number(e),c=t.find(e=>e.id===l);if(!c)throw new s.g1(`Unsupported chainId ${e}`,4901);return(0,n.l)({transport:(0,i.L)(o(c,r,a.appId)),chain:c})},o=(e,t,r)=>{let n,i=e.id,a=Number(e.id);if(e.rpcUrls.privyWalletOverride&&e.rpcUrls.privyWalletOverride.http[0])n=e.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[a])n=t.rpcUrls[a];else if(e.rpcUrls.privy?.http[0]){let t=new URL(e.rpcUrls.privy.http[0]);t.searchParams.append("privyAppId",r),n=t.toString()}else n=e.rpcUrls.public?.http[0]?e.rpcUrls.public.http[0]:e.rpcUrls.default?.http[0];if(!n)throw new s.g1(`No RPC url found for ${i}`);return n};function l({currentRecoveryMethod:e,upgradeToRecoveryMethod:t}){switch(e){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(e===t)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}},87040:(e,t,r)=>{"use strict";r.d(t,{IX:()=>u,Rx:()=>f,v:()=>p});var n=r(40280),i=r(30796),s=r(8005),a=r(54622),o=r(21127),l=r(85697),c=r(69236);let u={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}},d=new Set([n.r.id,i.D.id,s.E.id,a.n.id,o.m.id,l.A.id]),h=new Set([n.r.id,i.D.id,c.R.id,s.E.id,a.n.id,o.m.id]);function f(e,t){switch(t){case"native-currency":return d.has(e);case"USDC":return h.has(e);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function p(e,t){switch(e){case i.D.id:return"native-currency"===t?"ETH_ARBITRUM":"USDC_ARBITRUM";case o.m.id:return"native-currency"===t?"AVAX_CCHAIN":"USDC_CCHAIN";case s.E.id:return"native-currency"===t?"ETH_BASE":"USDC_BASE";case l.A.id:return"CELO_CELO";case a.n.id:return"native-currency"===t?"MATIC_POLYGON":"USDC_POLYGON";case n.r.id:return"native-currency"===t?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${e} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}},32789:(e,t,r)=>{"use strict";function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}r.d(t,{W:()=>l});var i=0;function s(e){return"__private_"+i+++"_"+e}var a=s("_wallet"),o=s("_account");class l{get standardWallet(){return n(this,a)[a]}get address(){return n(this,o)[o].address}async disconnect(){if(!n(this,a)[a].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await n(this,a)[a].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!n(this,a)[a].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let t=await n(this,a)[a].features["solana:signMessage"].signMessage(...e.map(e=>({...e,account:n(this,o)[o]})));return 1===e.length?t[0]:[...t]}async signTransaction(...e){if(!n(this,a)[a].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let t=await n(this,a)[a].features["solana:signTransaction"].signTransaction(...e.map(e=>({...e,account:n(this,o)[o]})));return 1===e.length?t[0]:[...t]}async signAndSendTransaction(...e){if(!n(this,a)[a].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let t=await n(this,a)[a].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(e=>({...e,account:n(this,o)[o]})));return 1===e.length?t[0]:[...t]}async signAndSendAllTransactions(e){if(!n(this,a)[a].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await n(this,a)[a].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(e=>({...e,account:n(this,o)[o]})))]}constructor({wallet:e,account:t}){Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,o,{writable:!0,value:void 0}),n(this,a)[a]=e,n(this,o)[o]=t}}},86542:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var n=r(23617);async function i(e,{request:t}){return await e.fetchPrivyRoute(n.GK,{body:t})}},82088:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(23617),i=r(4247),s=r(87083),a=r(75927).hp;async function o(e,t){let r=i(t);if(void 0===r)throw new s.wE({error:"Failed to prepare the payload for signing",code:"invalid_input"});let n=a.from(r).toString("base64"),{signature:o}=await e({message:n});return{signature:o}}async function l(e,t,{wallet_id:r,...i}){let s={version:1,url:e.getCompiledPath(n.H_,{params:{wallet_id:r}}),method:n.H_.method,headers:{"privy-app-id":e.app.appId},body:{...i}},{signature:a}=await o(t,s);return await e.fetchPrivyRoute(n.H_,{body:i,params:{wallet_id:r},headers:{"privy-authorization-signature":a}})}},64510:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});let n=({w:e,h:t})=>{let r=void 0!==window.screenLeft?window.screenLeft:window.screenX,n=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${t},width=${e},popup=1,left=${(i-e)/2/(i/window.screen.availWidth)+r},top=${(s-t)/2/(s/window.screen.availHeight)+n}`},i=e=>window.open(e?.location,void 0,n({w:440,h:680}))},81084:(e,t,r)=>{"use strict";r.d(t,{C:()=>y,D:()=>c,H:()=>C,I:()=>v,M:()=>B,O:()=>T,P:()=>w,R:()=>m,S:()=>S,V:()=>p,W:()=>U,a:()=>k,b:()=>P,c:()=>ei,d:()=>E,e:()=>A,f:()=>x,g:()=>I,h:()=>F,i:()=>g,j:()=>b,k:()=>_,l:()=>u,m:()=>er,n:()=>R,o:()=>O,p:()=>N,q:()=>d,r:()=>h,s:()=>D,t:()=>f,u:()=>en,v:()=>M,w:()=>L,x:()=>j});var n=r(95155),i=r(12115),s=r(33403),a=r(72486),o=r(40280),l=r(68943);let c="https://auth.privy.io",u=2e4,d=1400,h=2500,f=4e3,p="3.8.1",y="privy:token",g="privy-token",m="privy:refresh_token",b="privy-refresh-token",w="privy:pat",v="privy:id_token",_="privy-id-token",x="privy-session",E="privy:caid",I=e=>`privy:guest:${e}`,A=e=>`privy:cross-app:${e}`,S="privy:state_code",k="privy:code_verifier",C="privy:headless_oauth",T="privy:oauth_disable_signup",O=e=>`privy:wallet:${e}`,P="privy:connections",R=12e4,D=1,N="0x1",U=3e4,M="https://api.moonpay.com/v1",B="https://api.moonpay.com/v1",j="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",L="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI",F="deprecated",$={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}},z=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","wallet_connect_qr_solana","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","jupiter","binance","binanceus","bitget_wallet","kraken_wallet"]),q=e=>z.has(e),W=(e,t,r)=>r.indexOf(e)===t,H=({input:e,overrides:t})=>t?t.primary.concat(t.overflow??[]).filter(q).filter(W):e?e.filter(q).filter(W):$.appearance.walletList,V=/paymaster\.biconomy\.io\/api/i,K={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}},G=(e,t)=>e&&V.test(e)?K:t&&t.policy_id?{policyId:t.policy_id}:void 0;function Z(e,t){let r=Math.max(0,Math.min(1,e.toHsl().l+t));return(0,l.A)({...e.toHsl(),l:r})}function J(e,t){let r=e.getLuminance(),n=t.getLuminance();return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}let Y={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Q={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function X(e,t,r,n,i){let c,u,d,h,f,p,y,g,m,b,w,v,_,x,E,I,A,S=r?console.warn:()=>{};t?.loginMethods?(c=t.loginMethods.includes("email"),u=t.loginMethods.includes("sms"),h=t.loginMethods.includes("wallet"),f=t.loginMethods.includes("google"),p=t.loginMethods.includes("twitter"),y=t.loginMethods.includes("discord"),w=t.loginMethods.includes("spotify"),v=t.loginMethods.includes("instagram"),g=t.loginMethods.includes("tiktok"),m=t.loginMethods.includes("line"),b=t.loginMethods.includes("twitch"),x=t.loginMethods.includes("github"),_=t.loginMethods.includes("linkedin"),E=t.loginMethods.includes("apple"),I=t.loginMethods.includes("farcaster"),A=t.loginMethods.includes("telegram"),d=t.loginMethods.includes("passkey")):(c=e.email_auth,u=e.sms_auth,h=e.wallet_auth||e.solana_wallet_auth,f=e.google_oauth,p=e.twitter_oauth,y=e.discord_oauth,x=e.github_oauth,w=e.spotify_oauth,v=e.instagram_oauth,g=e.tiktok_oauth,m=e.line_oauth,b=e.twitch_oauth,_=e.linkedin_oauth,E=e.apple_oauth,I=e.farcaster_auth,A=e.telegram_auth,d=e.passkey_auth),e.passkey_auth&&(d=!0),"undefined"!=typeof window&&"function"!=typeof window.PublicKeyCredential&&(d=!1);let k=[c,u].filter(Boolean),C=[f,p,y,x,w,v,g,m,_,E,I,A].filter(Boolean),T=[h].filter(Boolean),O=t?.loginMethods?.includes("passkey")??!1,P=e.passkeys_for_signup_enabled??!1,R=[d&&(P||O)].filter(Boolean);if(k.length+C.length+T.length+R.length===0)throw Error("You must enable at least one login method");let D=void 0!==t?.appearance?.showWalletLoginFirst?t?.appearance?.showWalletLoginFirst:e.show_wallet_login_first;D&&0===T.length?(S("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),D=!1):D||C.length+k.length!==0||(S("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),D=!0);let N=t?.externalWallets?.walletConnect?.enabled??!0;t?.loginMethods&&t.loginMethodsAndOrder&&S("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let U=H({input:t?.appearance?.walletList,overrides:t?.loginMethodsAndOrder});if((U.includes("wallet_connect_qr")||U.includes("wallet_connect"))&&U.includes("wallet_connect_qr_solana"))throw Error("wallet_connect_qr and wallet_connect_qr_solana cannot both be present in walletList due to WalletConnect session conflicts.");let M=(({input:e})=>{if(!e||!e.primary[0])return;let t=[e.primary[0]],r=[];for(let r of(e.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),e.primary.slice(1)))t.includes(r)?console.warn(`Duplicated login method: ${r}`):t.push(r);for(let n of e.overflow??[])t.includes(n)||r.includes(n)?console.warn(`Duplicated login method: ${n}`):r.push(n);return{primary:t,overflow:r}})({input:t?.loginMethodsAndOrder}),B=t?.intl?.defaultCountry??"US",{chains:j,defaultChain:L}=function({supportedChains:e,defaultChainFromConfig:t}){let r;if(e){if(0===e.length)throw Error("`supportedChains` must contain at least one chain");r=(0,s._)(e)}else r=[...a.m];let n=e?r[0]:o.r,i=t??n;if(!r.find(e=>e.id===i.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:r,defaultChain:i}}({supportedChains:t?.supportedChains,defaultChainFromConfig:t?.defaultChain}),F=!!t?.defaultChain,z=t?.customAuth?.getCustomAccessToken&&!1!==t?.customAuth?.enabled,q=z?"all-users":e.embedded_wallet_config.ethereum.create_on_login,W=e.embedded_wallet_config.solana.create_on_login;e.solana_wallet_auth&&!t?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let V=e.telegram_auth_config?{botId:e.telegram_auth_config.bot_id,botName:e.telegram_auth_config.bot_name,linkEnabled:e.telegram_auth_config.link_enabled,seamlessAuthEnabled:e.telegram_auth_config.seamless_auth_enabled}:void 0,K=e.funding_config?{methods:e.funding_config.methods,options:e.funding_config.options,defaultRecommendedAmount:e.funding_config.default_recommended_amount,defaultRecommendedCurrency:e.funding_config.default_recommended_currency,promptFundingOnWalletCreation:e.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:e.funding_config.cross_chain_bridging_enabled}:void 0,X=e.smart_wallet_config;return{id:e.id,appClientId:i,name:e.name,allowlistConfig:{errorTitle:e.allowlist_config.error_title,errorDetail:e.allowlist_config.error_detail,errorCtaText:e.allowlist_config.cta_text,errorCtaLink:e.allowlist_config.cta_link},legacyWalletUiConfig:e.legacy_wallet_ui_config,appearance:{logo:t?.appearance?.logo??e.logo_url??void 0,landingHeader:t?.appearance?.landingHeader??$.appearance.landingHeader,loginMessage:"string"==typeof t?.appearance?.loginMessage?t?.appearance?.loginMessage.slice(0,100):t?.appearance?.loginMessage,footerLogo:t?.appearance?.footerLogo,palette:function({backgroundTheme:e,accentHex:t}){let r,n,i,s,a,o,c;"light"===e?r=!1:"dark"===e?r=!0:(r=.5>=(0,l.A)(e).getLuminance(),n=(0,l.A)(e).toHslString());let u=r?"dark":"light",d=r?Y:Q,{accent:h,accentLight:f,accentHover:p,accentDark:y,accentDarkest:g}=function(e,t){if(!e){let e=t?Y:Q;return{accent:(0,l.A)(e.background.interactive),accentLight:(0,l.A)(e.background.interactive),accentHover:(0,l.A)(e.background["interactive-hover"]),accentDark:(0,l.A)(e.background["interactive-clicked"]),accentDarkest:(0,l.A)(e.background["interactive-disabled"])}}let r=(0,l.A)(e);return{accent:r,accentLight:Z(r,.15),accentHover:Z(r,.3),accentDark:Z(r,-.06),accentDarkest:Z(r,-.6)}}(t,r),m=(i=(0,l.A)(Q.text.default),s=(0,l.A)(Y.text.default),a=J(h,i),o=J(h,s),(c=h.toHsl()).h>=220&&c.h<=300&&o>=3?Y.text.default:a>o?Q.text.default:Y.text.default),b=(0,l.A)(m),w=J(h,(0,l.A)(d.background.default))>=3;return{colorScheme:u,background:n||d.background.default,background2:d.background.elevated,background3:d.background.interactive,foreground:d.text.default,foreground2:d.text.muted,foreground3:d.text.placeholder,foreground4:d.border.default,accent:h.toHslString(),accentLight:f.toHslString(),accentHover:p.toHslString(),accentDark:y.toHslString(),accentDarkest:g.toHslString(),foregroundAccent:b.toHslString(),success:d.background.success,successDark:d.text.success,successLight:d.background.success,error:d.text.error,errorLight:d.background.error,warn:d.background.warning,warnLight:d.background.warning,warningDark:d.text.warning,errorDark:d.text.error,successBg:d.background.success,errorBg:d.background.error,errorBgHover:d.background["error-hover"],warnBg:d.background.warning,infoBg:d.background.info,infoBgHover:d.background["info-hover"],borderDefault:d.border.default,borderHover:d.border["default-hover"],borderFocus:d.border.focused,borderError:d.border.error,borderSuccess:d.border.success,borderWarning:d.border.warning,borderInfo:d.border.info,borderInteractive:d.border.interactive,borderInteractiveHover:d.border["interactive-hover"],backgroundHover:d.background["default-hover"],backgroundClicked:d.background["default-clicked"],backgroundDisabled:d.background["default-disabled"],backgroundInteractive:d.background.interactive,backgroundInteractiveHover:d.background["interactive-hover"],backgroundInteractiveClicked:d.background["interactive-clicked"],backgroundInteractiveDisabled:d.background["interactive-disabled"],foregroundHover:d.text.default,foregroundClicked:d.text.default,foregroundDisabled:d.text["default-disabled"],foregroundInteractive:d.text.interactive,foregroundInteractiveHover:d.text["interactive-hover"],accentHasGoodContrast:w?"1":"0",linkNavigationColor:w?h.toHslString():d.text.default,linkNavigationDecoration:w?"none":"underline",iconDefault:d.icon.default,iconMuted:d.icon.muted,iconSubtle:d.icon.subtle,iconInverse:d.icon.inverse,iconSuccess:d.icon.success,iconWarning:d.icon.warning,iconError:d.icon.error,iconInteractive:d.icon.interactive,iconDefaultHover:d.icon["default-hover"],iconMutedHover:d.icon["muted-hover"],iconSubtleHover:d.icon["subtle-hover"],iconDefaultClicked:d.icon["default-clicked"],iconMutedClicked:d.icon["muted-clicked"],iconSubtleClicked:d.icon["subtle-clicked"],iconDefaultDisabled:d.icon["default-disabled"],iconMutedDisabled:d.icon["muted-disabled"],iconSubtleDisabled:d.icon["subtle-disabled"],iconErrorHover:d.icon["error-hover"],iconInteractiveHover:d.icon["interactive-hover"],iconErrorClicked:d.icon["error-clicked"],iconInteractiveClicked:d.icon["interactive-clicked"],iconMutedDisabledAlt:d.icon["muted-disabled"],iconSubtleDisabledAlt:d.icon["subtle-disabled"]}}({backgroundTheme:t?.appearance?.theme??$.appearance.theme,accentHex:t?.appearance?.accentColor??e.accent_color}),loginGroupPriority:D?"web3-first":"web2-first",hideDirectWeb2Inputs:!!t?.appearance?.hideDirectWeb2Inputs,walletList:U,walletChainType:t?.appearance?.walletChainType??(({evmWalletAuth:e,solanaWalletAuth:t})=>e&&t?"ethereum-and-solana":e?"ethereum-only":t?"solana-only":"ethereum-only")({evmWalletAuth:e.wallet_auth??!1,solanaWalletAuth:e.solana_wallet_auth??!1})},loginMethods:{wallet:h,email:c,sms:u,passkey:d,google:f,twitter:p,discord:y,github:x,spotify:w,instagram:v,tiktok:g,line:m,twitch:b,linkedin:_,apple:E,farcaster:I,telegram:A},customOAuthProviders:(e.custom_oauth_providers??[]).filter(e=>!1!==e.enabled),disablePlusEmails:e.disable_plus_emails,loginMethodsAndOrder:M,legal:{termsAndConditionsUrl:t?.legal?.termsAndConditionsUrl??e.terms_and_conditions_url,privacyPolicyUrl:t?.legal?.privacyPolicyUrl??e.privacy_policy_url,requireUsersAcceptTerms:e.require_users_accept_terms??!1},walletConnectCloudProjectId:t?.walletConnectCloudProjectId??e.wallet_connect_cloud_project_id??$.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:t?.externalWallets?.signatureRequestTimeouts??{}},chains:j,defaultChain:L,intl:{defaultCountry:B,textLocalization:t?.intl?.textLocalization},shouldEnforceDefaultChainOnConnect:F,captcha:{enabled:e.captcha_enabled??$.captchaEnabled,siteKey:e.captcha_site_key,provider:e.captcha_enabled?"turnstile":null},externalWallets:{coinbaseWallet:{config:{appName:e.name,appLogoUrl:e.logo_url,preference:{options:"all",...t?.externalWallets?.coinbaseWallet?.config?.preference},...t?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:e.name,appLogoUrl:e.logo_url,...t?.externalWallets?.baseAccount?.config,preference:{...t?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:N},solana:{connectors:t?.externalWallets?.solana?.connectors},disableAllExternalWallets:t?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!z&&(e.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:z?["user-passcode"]:e.embedded_wallet_config.user_owned_recovery_options,priceDisplay:t?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:t?.embeddedWallets?.ethereum?.createOnLogin??q},solana:{createOnLogin:t?.embeddedWallets?.solana?.createOnLogin??W},disableAutomaticMigration:t?.embeddedWallets?.disableAutomaticMigration??!1,mode:e.embedded_wallet_config.mode,showWalletUIs:t?.embeddedWallets?.showWalletUIs??e.enforce_wallet_uis??!0,extendedCalldataDecoding:t?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:t?.embeddedWallets?.transactionScanning?.enabled??!1,domain:t?.embeddedWallets?.transactionScanning?.domain??n??"https://auth.privy.io"}},mfa:{methods:e.mfa_methods??[],noPromptOnMfaRequired:t?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:t?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:t?.passkeys?.shouldUnenrollMfaOnUnlink,registration:t?.passkeys?.registration},customAuth:z?{enabled:!0,...t.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:V,passkeysForSignupEnabled:e.passkeys_for_signup_enabled},headless:!!t?.headless,render:{standalone:t?._render?.standalone??$._render.standalone},fundingConfig:K,fundingMethodConfig:{...t?.fundingMethodConfig??$.fundingMethodConfig,moonpay:{...t?.fundingMethodConfig?.moonpay??$.fundingMethodConfig.moonpay,useSandbox:t?.fundingMethodConfig?.moonpay.useSandbox??$.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!e.whatsapp_enabled,customOAuthRedirectUrl:t?.customOAuthRedirectUrl,allowOAuthInEmbeddedBrowsers:t?.allowOAuthInEmbeddedBrowsers??!1,solanaRpcs:{"solana:mainnet":t?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":t?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":t?.solana?.rpcs?.["solana:testnet"]??null},smartWallets:X?.enabled?{enabled:X.enabled,smartWalletVersion:X.smart_wallet_version,smartWalletType:X.smart_wallet_type,configuredNetworks:X.configured_networks.map(e=>({chainId:e.chain_id,bundlerUrl:e.bundler_url,paymasterUrl:e.paymaster_url,paymasterContext:G(e.paymaster_url,e.paymaster_context)}))}:{enabled:X?.enabled??!1}}}let ee={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},et=(0,i.createContext)({appConfig:X(ee,void 0,!1),isServerConfigLoaded:!1}),er=({children:e,client:t,legacyClient:r,clientConfig:s,appClientId:a})=>{let[o,l]=(0,i.useState)(null),c=(0,i.useMemo)(()=>X(o??ee,s,!!o,"undefined"!=typeof window?window.location.origin:void 0,a),[o,s,a]);return(0,i.useEffect)(()=>{if(!o)return;let e=function(e){if(!e)return{};let{appearance:t,supportedChains:r,defaultChain:n,externalWallets:i,...s}=e;return{...s,...r?{supportedChains:r.map(e=>e.id)}:void 0,...n?{defaultChain:n.id}:void 0,...i?{walletConnect:i.walletConnect?{enabled:i.walletConnect.enabled}:void 0,coinbaseWallet:i.coinbaseWallet,solana:{connectors:i.solana?.connectors?.get().map(e=>e.walletClientType)}}:void 0}}(s),t=(function(e,t=0){let r=0xdeadbeef^t,n=0x41c6ce57^t;for(let t,i=0;i<e.length;i++)r=Math.imul(r^(t=e.charCodeAt(i)),0x9e3779b1),n=Math.imul(n^t,0x5f356495);return r=Math.imul(r^r>>>16,0x85ebca6b)^Math.imul(n^n>>>13,0xc2b2ae35),0x100000000*(2097151&(n=Math.imul(n^n>>>16,0x85ebca6b)^Math.imul(r^r>>>13,0xc2b2ae35)))+(r>>>0)})(JSON.stringify(e)).toString(),n=`privy:sent:${o.id}:${t}`;localStorage.getItem(n)||(r.createAnalyticsEvent({eventName:"sdk_initialize",payload:e}),localStorage.setItem(n,"t"))},[s,o]),(0,i.useEffect)(()=>{o||(async()=>{try{await t.initialize();let e=t.app.getConfig();e.custom_api_url&&r.updateApiUrl(e.custom_api_url),l(e)}catch(e){console.warn("Error generating app config: ",e)}})()},[]),(0,n.jsx)(et.Provider,{value:{appConfig:c,isServerConfigLoaded:!!o},children:e})},en=()=>{let{appConfig:e}=(0,i.useContext)(et);return e},ei=()=>{let{isServerConfigLoaded:e}=(0,i.useContext)(et);return e}},97571:(e,t,r)=>{"use strict";r.d(t,{P:()=>s,a:()=>c,e:()=>l,p:()=>i,u:()=>o});var n=r(12115);let i={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},s=(0,n.createContext)(void 0),a=()=>(0,n.useContext)(s);function o(e,t){if(!t)return;let r=a().current[e];return(0,n.useEffect)(()=>{for(let[n,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${e}"`),r[n]?.push(i);return()=>{for(let[n,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${e}"`),r[n]=r[n]?.filter(e=>e!==i)}},[t])}function l(e,t,r,...n){for(let i of e.current[t][r])i(...n)}function c(){let e=a();return(t,r,...n)=>l(e,t,r,...n)}},5944:(e,t,r)=>{"use strict";r.d(t,{M:()=>A,P:()=>k,a:()=>S,b:()=>d,c:()=>y,d:()=>T,e:()=>h,f:()=>g,g:()=>_,h:()=>w,i:()=>l,j:()=>m,k:()=>v,l:()=>x,o:()=>p,u:()=>C});var n=r(40814),i=r(95155),s=r(12115),a=r(81084),o=r(31679);function l(e){return"string"==typeof e&&/^custom:[a-zA-Z0-9_-]+$/i.test(e)}function c(e){return e?new Date(1e3*e):null}function u(e,t){return e.slice().sort((e,t)=>(e.firstVerifiedAt?.getTime()??0)-(t.firstVerifiedAt?.getTime()??0)).find(e=>e.type===t)}let d=e=>e?h(e).find(e=>0===e.walletIndex)??null:null,h=e=>e?f(e,"ethereum"):[],f=(e,t)=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&e.chainType===t),p=e=>e?f(e,"solana"):[],y=e=>e?p(e).find(e=>0===e.walletIndex)??null:null,g=e=>(e?.linkedAccounts??[]).filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.imported&&"ethereum"===e.chainType),m=e=>(e?.linkedAccounts??[]).filter(e=>"wallet"===e.type&&e.imported&&"privy"===e.walletClientType&&"solana"===e.chainType),b=(e,t)=>e===t||!(!e.startsWith("0x")||!t.startsWith("0x"))&&(0,n.b)(e)===(0,n.b)(t),w=(e,t)=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&b(e.address,t))||null,v=(e,t)=>e.find(e=>b(e.address,t))||null,_=e=>d(e)??y(e);function x(e){if(!e)return null;let t=function(e){let t=[];for(let r of e){let e=r.type;switch(r.type){case"wallet":let n={id:r.id,address:r.address,type:r.type,imported:r.imported,delegated:r.delegated,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at),chainType:r.chain_type,walletClientType:r.wallet_client_type,connectorType:r.connector_type,recoveryMethod:r.recovery_method,walletIndex:r.wallet_index,publicKey:r.public_key};t.push(n);break;case"smart_wallet":let i={address:r.address,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at),smartWalletType:r.smart_wallet_type,smartWalletVersion:r.smart_wallet_version};t.push(i);break;case"cross_app":let s={type:r.type,subject:r.subject,embeddedWallets:r.embedded_wallets,smartWallets:r.smart_wallets,providerApp:{id:r.provider_app_id},firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(s);break;case"email":let a={address:r.address,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(a);break;case"phone":let o={number:r.phoneNumber,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(o);break;case"google_oauth":let u={subject:r.subject,email:r.email,name:r.name,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(u);break;case"spotify_oauth":let d={subject:r.subject,email:r.email,name:r.name,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(d);break;case"instagram_oauth":let h={subject:r.subject,username:r.username,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(h);break;case"twitter_oauth":let f={subject:r.subject,username:r.username,name:r.name,type:r.type,profilePictureUrl:r.profile_picture_url,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(f);break;case"discord_oauth":let p={subject:r.subject,username:r.username,email:r.email,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(p);break;case"github_oauth":let y={subject:r.subject,username:r.username,name:r.name,email:r.email,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(y);break;case"tiktok_oauth":let g={subject:r.subject,username:r.username,name:r.name,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(g);break;case"line_oauth":let m={subject:r.subject,name:r.name,email:r.email,profilePictureUrl:r.profile_picture_url,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(m);break;case"twitch_oauth":let b={subject:r.subject,username:r.username,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(b);break;case"linkedin_oauth":let w={subject:r.subject,name:r.name,email:r.email,vanityName:r.vanity_name,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(w);break;case"apple_oauth":let v={subject:r.subject,email:r.email,type:r.type,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(v);break;case"custom_auth":t.push({type:r.type,customUserId:r.custom_user_id,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)});break;case"farcaster":let _={type:r.type,fid:r.fid,ownerAddress:r.owner_address,displayName:r.display_name,username:r.username,bio:r.bio,pfp:r.profile_picture_url,url:r.homepage_url,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at),signerPublicKey:r.signer_public_key};t.push(_);break;case"passkey":let x={type:r.type,enrolledInMfa:r.enrolled_in_mfa,credentialId:r.credential_id,publicKey:r.public_key,authenticatorName:r.authenticator_name,createdWithDevice:r.created_with_device,createdWithOs:r.created_with_os,createdWithBrowser:r.created_with_browser,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(x);break;case"telegram":let E={type:r.type,telegramUserId:r.telegram_user_id,firstName:r.first_name,lastName:r.last_name,username:r.username,photoUrl:r.photo_url,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(E);break;default:if(l(r.type)){let e={type:r.type,subject:r.subject,name:r.name,username:r.username,email:r.email,profilePictureUrl:r.profile_picture_url,firstVerifiedAt:c(r.first_verified_at),latestVerifiedAt:c(r.latest_verified_at)};t.push(e);break}console.warn(`Unrecognized account type: ${e}. Please consider upgrading the Privy SDK.`)}}return t}(e.linked_accounts),r=u(t,"wallet"),n=u(t,"smart_wallet"),i=u(t,"email"),s=u(t,"phone"),a=u(t,"google_oauth"),o=u(t,"twitter_oauth"),d=u(t,"discord_oauth"),h=u(t,"github_oauth"),f=u(t,"spotify_oauth"),p=u(t,"instagram_oauth"),y=u(t,"tiktok_oauth"),g=u(t,"line_oauth"),m=u(t,"twitch_oauth"),b=u(t,"linkedin_oauth"),w=u(t,"apple_oauth"),v=u(t,"farcaster"),_=u(t,"telegram"),x=e.mfa_methods.map(({type:e,verified_at:t})=>({type:e,verifiedAt:c(t)}));return{id:e.id,createdAt:c(e.created_at),linkedAccounts:t,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:r&&{id:r.id,address:r.address,chainType:r.chainType,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex,publicKey:r.publicKey},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType,smartWalletVersion:n.smartWalletVersion},google:a&&{subject:a.subject,email:a.email,name:a.name},twitter:o&&{subject:o.subject,username:o.username,name:o.name,profilePictureUrl:o.profilePictureUrl},discord:d&&{subject:d.subject,username:d.username,email:d.email},github:h&&{subject:h.subject,username:h.username,name:h.name,email:h.email},spotify:f&&{subject:f.subject,email:f.email,name:f.name},instagram:p&&{subject:p.subject,username:p.username},tiktok:y&&{subject:y.subject,username:y.username,name:y.name},line:g&&{subject:g.subject,name:g.name,email:g.email,profilePictureUrl:g.profilePictureUrl},twitch:m&&{subject:m.subject,username:m.username},linkedin:b&&{subject:b.subject,name:b.name,email:b.email,vanityName:b.vanityName},apple:w&&{subject:w.subject,email:w.email},farcaster:v&&{fid:v.fid,ownerAddress:v.ownerAddress,displayName:v.displayName,username:v.username,bio:v.bio,pfp:v.pfp,url:v.url,signerPublicKey:v.signerPublicKey},telegram:_&&{telegramUserId:_.telegramUserId,firstName:_.firstName,lastName:_.lastName,username:_.username,photoUrl:_.photoUrl},delegatedWallets:[],mfaMethods:x.map(e=>e.type),hasAcceptedTerms:e.has_accepted_terms??!1,isGuest:e.is_guest,customMetadata:e.custom_metadata}}function E({src:e,...t}){return(0,i.jsx)("img",{src:e,...t,style:{display:"none"}})}let I=(0,s.createContext)({currentScreen:null,lastScreen:null,navigate:o.n,navigateBack:o.n,resetNavigation:o.n,setModalData:o.n,onUserCloseViaDialogOrKeybindRef:void 0}),A=e=>{let t=(0,a.u)(),[r,n]=(0,s.useState)(e.initialScreen),o=(0,s.useRef)(null);(0,s.useEffect)(()=>{e.open||(o.current=null)},[e.open]),(0,s.useEffect)(()=>{o.current=null},[e.initialScreen]);let l={data:e.data,setModalData:e.setModalData,currentScreen:e.initialScreen,lastScreen:r,navigate:(t,r=!0)=>{e.setInitialScreen(t),r&&n(e.initialScreen)},navigateBack:()=>{e.setInitialScreen(r)},resetNavigation:()=>{e.setInitialScreen(null),n(null)},onUserCloseViaDialogOrKeybindRef:o};return(0,i.jsxs)(I.Provider,{value:l,children:[("string"==typeof t.appearance.logo||"img"===t.appearance.logo?.type)&&(0,i.jsx)(E,{src:"string"==typeof t.appearance.logo?t.appearance.logo:t.appearance.logo.props.src}),e.children]})},S=()=>(0,s.useContext)(I),k=(0,s.createContext)({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:o.n,login:o.n,connectOrCreateWallet:o.n,linkEmail:o.n,linkPhone:o.n,linkFarcaster:o.n,linkWallet:o.n,startCrossAppAuthFlow:o.n,linkGoogle:o.n,linkTwitter:o.n,linkTwitch:o.n,linkDiscord:o.n,linkGithub:o.n,linkSpotify:o.n,linkInstagram:o.n,linkTelegram:o.n,linkTiktok:o.n,linkLine:o.n,linkLinkedIn:o.n,linkApple:o.n,linkPasskey:o.n,updateEmail:o.n,updatePhone:o.n,logout:o.n,getAccessToken:o.n,unlinkEmail:o.n,unlinkPhone:o.n,unlinkWallet:o.n,unlinkGoogle:o.n,unlinkTwitter:o.n,unlinkTwitch:o.n,unlinkDiscord:o.n,unlinkGithub:o.n,unlinkSpotify:o.n,unlinkInstagram:o.n,unlinkTiktok:o.n,unlinkLine:o.n,unlinkLinkedIn:o.n,unlinkApple:o.n,unlinkCrossAppAccount:o.n,unlinkFarcaster:o.n,unlinkTelegram:o.n,unlinkPasskey:o.n,signMessage:o.n,signTypedData:o.n,enrollInMfa:o.n,initEnrollmentWithSms:o.n,initEnrollmentWithTotp:o.n,initEnrollmentWithPasskey:o.n,promptMfa:o.n,init:o.n,submitEnrollmentWithSms:o.n,submitEnrollmentWithTotp:o.n,submitEnrollmentWithPasskey:o.n,unenroll:o.n,submit:o.n,cancel:o.n,sendTransaction:o.n,signTransaction:o.n,exportWallet:o.n,setWalletPassword:o.n,setWalletRecovery:o.n,requestFarcasterSignerFromWarpcast:o.n,getFarcasterSignerPublicKey:o.n,signFarcasterMessage:o.n,signMessageWithCrossAppWallet:o.n,signTypedDataWithCrossAppWallet:o.n,sendTransactionWithCrossAppWallet:o.n,signTransactionWithCrossAppWallet:o.n,isModalOpen:!1,mfaMethods:[]}),C=()=>(0,s.useContext)(k),T=e=>!!e.id&&"privy-v2"===e.recoveryMethod},45244:(e,t,r)=>{"use strict";r.d(t,{a:()=>o,g:()=>a});var n=r(11326),i=r(96355),s=r(31679);let a=(e,t,r,a)=>{let l=Number(e),c=t.find(e=>e.id===l);if(!c)throw new s.P(`Unsupported chainId ${e}`,4901);return(0,n.l)({transport:(0,i.L)(o(c,r,a.appId)),chain:c})},o=(e,t,r)=>{let n,i=e.id,a=Number(e.id);if(e.rpcUrls.privyWalletOverride&&e.rpcUrls.privyWalletOverride.http[0])n=e.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[a])n=t.rpcUrls[a];else if(e.rpcUrls.privy?.http[0]){let t=new URL(e.rpcUrls.privy.http[0]);t.searchParams.append("privyAppId",r),n=t.toString()}else n=e.rpcUrls.public?.http[0]?e.rpcUrls.public.http[0]:e.rpcUrls.default?.http[0];if(!n)throw new s.P(`No RPC url found for ${i}`);return n}},31679:(e,t,r)=>{"use strict";r.d(t,{I:()=>_,P:()=>u,a:()=>l,b:()=>f,c:()=>a,d:()=>v,e:()=>o,f:()=>d,g:()=>p,h:()=>c,i:()=>h,j:()=>m,k:()=>w,l:()=>y,m:()=>g,n:()=>b,u:()=>x});var n,i=r(58511),s=r(12115);class a extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,t,r){super(e),t instanceof Error&&(this.cause=t),this.privyErrorCode=r}}class o extends a{constructor(e,t,r,n,i,s){super(r,n,i),this.type=e,this.status=t,this.data=s}}class l extends a{constructor(e,t,r){super(e,t,r),this.type="client_error"}}class c extends l{constructor(){super("Request timed out",void 0,"client_request_timeout")}}class u extends a{constructor(e,t,r){super(e,t,r),this.type="connector_error"}}let d=e=>{if(e instanceof a)return e;if(!(e instanceof i.F))return h(e);if(!e.response)return new o("api_error",null,e.message,e);let{type:t,message:r,error:n,code:s}=e.data;return new o(t||"ApiError",e.response.status,r||n,e,s,e.data)},h=e=>e instanceof a?e:e instanceof Error?new l(e.message,e):new l(`Internal error: ${e}`);var f=((n={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",n.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",n.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",n.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",n.INVALID_DATA="invalid_data",n.INVALID_CAPTCHA="invalid_captcha",n.LINKED_TO_ANOTHER_USER="linked_to_another_user",n.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",n.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",n.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",n.USER_EXITED_UPDATE_FLOW="exited_update_flow",n.ALLOWLIST_REJECTED="allowlist_rejected",n.OAUTH_USER_DENIED="oauth_user_denied",n.OAUTH_UNEXPECTED="oauth_unexpected",n.UNKNOWN_AUTH_ERROR="unknown_auth_error",n.USER_EXITED_AUTH_FLOW="exited_auth_flow",n.USER_EXITED_LINK_FLOW="exited_link_flow",n.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",n.MUST_BE_AUTHENTICATED="must_be_authenticated",n.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",n.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",n.CLIENT_REQUEST_TIMEOUT="client_request_timeout",n.INVALID_CREDENTIALS="invalid_credentials",n.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",n.UNKNOWN_MFA_ERROR="unknown_mfa_error",n.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",n.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",n.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",n.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",n.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",n.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",n.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",n.TRANSACTION_FAILURE="transaction_failure",n.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",n.NOT_SUPPORTED="not_supported",n.CAPTCHA_TIMEOUT="captcha_timeout",n.INVALID_MESSAGE="invalid_message",n.UNABLE_TO_SIGN="unable_to_sign",n.CAPTCHA_FAILURE="captcha_failure",n.CAPTCHA_DISABLED="captcha_disabled",n.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",n.TOO_MANY_REQUESTS="too_many_requests",n.USER_LIMIT_REACHED="max_accounts_reached",n.DISALLOWED_LOGIN_METHOD="disallowed_login_method",n.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",n.PASSKEY_NOT_ALLOWED="passkey_not_allowed",n.USER_DOES_NOT_EXIST="user_does_not_exist",n.INSUFFICIENT_BALANCE="insufficient_balance",n.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",n.BUFFER_NOT_DEFINED="buffer_not_defined",n.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",n.UNKNOWN_FUNDING_ERROR="unknown_funding_error",n);class p extends l{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}}class y extends l{constructor(e="Embedded wallet error",t){super(e,t,"unknown_embedded_wallet_error")}}class g extends l{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}}class m extends l{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}}let b=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},w=e=>()=>{throw Error(e.trim())},v=()=>{},_=(0,s.createContext)({setAuthenticated:b,setUser:b,setIsNewUser:b,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:b,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:b,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:b,initializeWalletProxy:b,getAuthMeta:b,getAuthFlow:b,closePrivyModal:b,openPrivyModal:b,connectWallet:b,initLoginWithWallet:b,loginWithWallet:b,initLoginWithFarcaster:b,loginWithFarcaster:b,loginWithCode:b,initLoginWithEmail:b,initLoginWithSms:b,initUpdateEmail:b,initUpdatePhone:b,resendEmailCode:b,resendSmsCode:b,initLoginWithHeadlessOAuth:b,loginWithHeadlessOAuth:b,crossAppAuthFlow:b,initLoginWithOAuth:b,loginWithOAuth:b,passkeyAuthState:{status:"initial"},setPasskeyAuthState:b,initSignupWithPasskey:b,signupWithPasskey:b,initLoginWithPasskey:b,loginWithPasskey:b,initLinkWithPasskey:b,linkWithPasskey:b,refreshSessionAndUser:b,walletProxy:null,createAnalyticsEvent:b,acceptTerms:b,getUsdTokenPrice:b,getUsdPriceForSol:b,getSplTokenMetadata:b,recoverEmbeddedWallet:b,updateWallets:b,fundWallet:b,openModal:b,setReadyToTrue:b,requestFarcasterSignerStatus:b,initLoginWithTelegram:b,loginWithTelegram:b,generateSiweMessage:b,generateSiweMessageForSmartWallet:b,loginWithSiwe:b,linkWithSiwe:b,linkSmartWallet:b,delegateWallet:b,revokeDelegatedWallets:b,connectCoinbaseSmartWallet:b,connectBaseAccount:b,initiateAccountTransfer:b,emailOtpState:{status:"initial"},setEmailOtpState:b,smsOtpState:{status:"initial"},setSmsOtpState:b,siweState:{status:"initial"},setSiweState:b,oAuthState:{status:"initial"},setOAuthState:b,telegramAuthState:{status:"initial"},setTelegramAuthState:b,isHeadlessOAuthLoading:!1,isHeadlessSigning:b,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:b}),x=()=>(0,s.useContext)(_)},58936:(e,t,r)=>{"use strict";r.d(t,{$:()=>u,A:()=>i,B:()=>et,C:()=>ei,D:()=>Q,E:()=>X,F:()=>ee,G:()=>A,H:()=>O,I:()=>c,J:()=>p,K:()=>B,L:()=>v,M:()=>J,N:()=>el,O:()=>es,P:()=>ea,Q:()=>eo,R:()=>s,S:()=>a,T:()=>o,U:()=>l,V:()=>d,W:()=>h,X:()=>j,Y:()=>y,Z:()=>Y,_:()=>_,a:()=>I,a0:()=>D,a1:()=>k,a2:()=>f,a3:()=>ec,a4:()=>eu,a8:()=>$,a9:()=>F,aa:()=>L,b:()=>x,c:()=>b,d:()=>g,e:()=>w,f:()=>m,g:()=>M,h:()=>N,i:()=>K,j:()=>V,k:()=>H,l:()=>W,m:()=>q,n:()=>z,o:()=>U,p:()=>E,q:()=>P,r:()=>T,s:()=>C,t:()=>R,u:()=>S,v:()=>G,w:()=>Z,x:()=>er,y:()=>en,z:()=>n});let n="/api/v1/sessions",i="/api/v1/sessions/logout",s="/api/v1/siwe/init",a="/api/v1/siwe/authenticate",o="/api/v1/siwe/link",l="/api/v1/siwe/link_smart_wallet",c="/api/v1/siwe/unlink",u="/api/v1/siwe/transfer",d="/api/v1/siws/init",h="/api/v1/siws/authenticate",f="/api/v1/siws/link",p="/api/v1/siws/unlink",y="/api/v1/siws/transfer",g="/api/v1/farcaster/init",m="/api/v1/farcaster/authenticate",b="/api/v1/farcaster/link",w="/api/v1/farcaster/status",v="/api/v1/farcaster/unlink",_="/api/v1/farcaster/transfer",x="/api/v1/passwordless/init",E="/api/v1/passwordless/authenticate",I="/api/v1/passwordless/link",A="/api/v1/passwordless/unlink",S="/api/v1/passwordless/update",k="/api/v1/passwordless/transfer",C="/api/v1/passwordless_sms/init",T="/api/v1/passwordless_sms/link",O="/api/v1/passwordless_sms/unlink",P="/api/v1/passwordless_sms/authenticate",R="/api/v1/passwordless_sms/update",D="/api/v1/passwordless_sms/transfer",N="/api/v1/oauth/init",U="/api/v1/oauth/authenticate",M="/api/v1/oauth/link",B="/api/v1/oauth/unlink",j="/api/v1/oauth/transfer",L="/api/v1/recovery/oauth/init",F="/api/v1/recovery/oauth/init_icloud",$="/api/v1/recovery/oauth/authenticate",z="/api/v1/passkeys/link/init",q="/api/v1/passkeys/authenticate/init",W="/api/v1/passkeys/register/init",H="/api/v1/passkeys/link",V="/api/v1/passkeys/authenticate",K="/api/v1/passkeys/register",G="/api/v1/telegram/authenticate",Z="/api/v1/telegram/link",J="/api/v1/telegram/unlink",Y="/api/v1/telegram/transfer",Q="/api/v1/mfa/passwordless_sms/init",X="/api/v1/mfa/passkeys/init",ee="/api/v1/users/me/accept_terms",et="/api/v1/analytics_events",er="/api/v1/custom_jwt_account/authenticate",en="/api/v1/custom_jwt_account/link",ei="/api/v1/guest/authenticate",es="/api/v1/plugins/moonpay_on_ramp/sign",ea="/api/v1/funding/coinbase_on_ramp/init",eo="/api/v1/funding/coinbase_on_ramp/status",el="/api/v1/wallets/revoke",ec="/api/v1/users/me",eu="/api/v1/scan/transaction"},84739:(e,t,r)=>{"use strict";r.d(t,{C:()=>A,P:()=>I,S:()=>D,W:()=>M,a:()=>L,b:()=>j,c:()=>T,d:()=>_,e:()=>k,f:()=>x,g:()=>z,h:()=>U,i:()=>B,j:()=>E,l:()=>O,p:()=>$,t:()=>R,u:()=>C});var n=r(95967),i=r(32789),s=r(40280),a=r(75531),o=r(69236),l=r(64837),c=r(54622),u=r(79700),d=r(8005),h=r(31854),f=r(21127),p=r(63931),y=r(30796),g=r(70973),m=r(29761),b=r(31679),w=r(81084),v=r(95155);class _ extends b.P{constructor(){super("Wallet timeout"),this.type="wallet_error"}}let x=e=>e instanceof b.P?e:e?.code?new I(e):new b.P("Unknown connector error",e);class E extends b.c{constructor(e,t,r){super(e),this.type="provider_error",this.code=t,this.data=r}}class I extends E{constructor(e){super(e.message,e.code,e.data);let t=Object.values(n.Z9).find(t=>t.eipCode===e.code);this.details=t||n.Z9.UNKNOWN_ERROR,-32002===e.code&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=n.Z9.E32002_CONNECTION_ALREADY_PENDING:this.details=n.Z9.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=n.Z9.E32002_WALLET_LOCKED))}}let A={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...n.Z9};class S{get(e){let t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}put(e,t){void 0!==t?localStorage.setItem(e,JSON.stringify(t)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}}function k(){try{let e="privy:__session_storage__test",t=new S;return t.put(e,"blobby"),t.del(e),!0}catch(e){return!1}}var C="undefined"!=typeof window&&window.localStorage?new S:new class{get(e){return this._cache[e]}put(e,t){void 0!==t?this._cache[e]=t:this.del(e)}del(e){delete this._cache[e]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};class T extends m.A{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}let O=()=>{let e=C.get(w.b);return e&&Array.isArray(e)&&e.map(e=>(e=>e&&"string"==typeof e.address&&"string"==typeof e.connectorType&&"string"==typeof e.walletClientType&&"number"==typeof e.connectedAt)(e)).every(Boolean)?e:[]},P=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter","jupiter"];function R(e){return e.toLowerCase().split(" ").join("_")}class D extends T{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map(e=>({type:"solana",provider:new i.W({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:async()=>{await this.disconnect()}}))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:N(this.wallet)?"walletconnect_solana":this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&(await this.wallet.features["standard:connect"]?.connect({silent:!0}).catch(()=>{}),await this.isConnected()&&await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?(await this.syncAccounts(),this.getConnectedWallet()):null}async getConnectedWallet(){return this.wallets.sort((e,t)=>t.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!P.includes(this.walletClientType))&&("phantom"!==this.walletClientType&&"metamask"!==this.walletClientType.toLowerCase()||O().some(({walletClientType:e})=>"phantom"===e||"metamask"===e.toLowerCase()))}constructor(e,t){super(R(N(e)?"walletconnect_solana":e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=async()=>{await this.wallet.features["standard:disconnect"]?.disconnect().catch(e=>console.error("Error disconnecting",e)),await this.syncAccounts()},this.promptConnection=async()=>{try{await this.wallet.features["standard:connect"]?.connect()}catch(e){throw x(e)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=t,this.wallets=[]}}function N(e){return"isWalletConnectSolana"in e&&e.isWalletConnectSolana}let U=({style:e,...t})=>{let r=(0,w.u)();return(0,v.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...e},...t,children:[(0,v.jsx)("rect",{width:"28",height:"28",rx:"3",fill:"dark"===r?.appearance.palette.colorScheme?"#3396ff":"#141414"}),(0,v.jsx)("g",{clipPath:"url(#clip0_1765_9946)",children:(0,v.jsx)("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),(0,v.jsx)("defs",{children:(0,v.jsx)("clipPath",{id:"clip0_1765_9946",children:(0,v.jsx)("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";function B(e){return["ethereum","solana"].includes(e.chainType)}function j(e){let t=e.replace("eip155:","");if(t)return parseInt(t);throw Error("Chain ID not compatible with CAIP-2 format.")}let L=e=>e.filter(e=>"wallets"===e.method||("exchange"===e.method?"coinbase"===e.provider:"card"===e.method||"payment-request"===e.method?"coinbase"===e.provider||"moonpay"===e.provider:(e.method,!1))),F={[s.r.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[a.G.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[o.R.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[l.i.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[c.n.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[u.n.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[d.E.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[h.Z.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[f.m.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[p.C.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[y.D.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[g.Y.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},$=({address:e,appConfig:t,fundWalletConfig:r,methodScreen:n,chainIdOverride:i,comingFromSendTransactionScreen:s=!1,onComplete:a,onError:o})=>{let l,c;if(!t.fundingConfig)throw Error("Wallet funding is not enabled");let u=L(t.fundingConfig.options);if(u.length<1)throw Error("Wallet funding is not enabled");l=i||(r?.chain?r.chain.id:j(t.fundingConfig.defaultRecommendedCurrency.chain));let d=t.chains.find(e=>e.id===l);if(!d)throw new b.a(`Funding chain ${l} is not in PrivyProvider chains list`);let h=r?.amount??t.fundingConfig.defaultRecommendedAmount,f=!1;function p(){if(!l)return;let e=F[l];u.find(e=>"wallets"===e.method)&&!e&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),c=e,f=!0}r&&"asset"in r?"USDC"===r.asset?p():"string"!=typeof r.asset&&"erc20"in r.asset&&(f=(c=r.asset.erc20)===F[d.id]):"USDC"===t.fundingConfig.defaultRecommendedCurrency.asset&&p();let y=r?.defaultFundingMethod;return{chainType:"ethereum",address:e,amount:h,chain:d,erc20Address:c,erc20ContractInfo:f?{symbol:"USDC",decimals:6}:void 0,isUSDC:f,methodScreen:n,supportedOptions:u,comingFromSendTransactionScreen:s,defaultFundingMethod:y,usingDefaultFundingMethod:!!y,preferredCardProvider:r?.card?.preferredProvider,crossChainBridgingEnabled:t.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:r&&"uiConfig"in r?r.uiConfig:void 0,externalSolanaFundingScreen:null,onComplete:a??(()=>{}),onError:o??(()=>{})}};function z({address:e,fundWalletConfig:t,appConfig:r,comingFromSendTransactionScreen:n,externalSolanaFundingScreen:i,methodScreen:s}){if(!r.fundingConfig)throw Error("Wallet funding is not enabled");let a=L(r.fundingConfig.options);if(a.length<1)throw Error("Wallet funding is not enabled");if("USDC"===t?.asset&&"solana:testnet"===t?.chain)throw Error("USDC funding is not supported on the Solana testnet");let o=t?.amount??r.fundingConfig.defaultRecommendedAmount,l=t?.defaultFundingMethod;return{chainType:"solana",address:e,supportedOptions:a,amount:o,isUSDC:"USDC"===t?.asset,methodScreen:s,comingFromSendTransactionScreen:n,chain:t?.chain||"solana:mainnet",crossChainBridgingEnabled:r.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:l,preferredCardProvider:t?.card?.preferredProvider,usingDefaultFundingMethod:!!l,uiConfig:t?.uiConfig,externalSolanaFundingScreen:i,onComplete:()=>{},onError:()=>{}}}},48568:(e,t,r)=>{"use strict";r.d(t,{$:()=>er,A:()=>eR,D:()=>P,E:()=>G,F:()=>ek,G:()=>ef,H:()=>es,K:()=>eN,L:()=>ed,M:()=>eT,P:()=>Z,Q:()=>x,R:()=>eE,S:()=>ew,T:()=>k,U:()=>en,V:()=>ei,W:()=>ea,X:()=>eo,Y:()=>Y,Z:()=>ee,_:()=>C,a:()=>F,a0:()=>Q,a1:()=>T,a2:()=>q,a3:()=>O,a4:()=>el,a5:()=>$,a6:()=>R,a7:()=>eh,a8:()=>X,b:()=>w,c:()=>V,d:()=>_,e:()=>I,f:()=>W,g:()=>v,h:()=>L,i:()=>U,j:()=>H,k:()=>D,l:()=>e_,m:()=>z,n:()=>em,o:()=>j,p:()=>N,q:()=>eg,r:()=>K,s:()=>M,t:()=>B,u:()=>J,v:()=>ev,w:()=>eC,y:()=>eO,z:()=>eP});var n=r(12115),i=r(99827),s=r(81084),a=r(16873),o=r(95155),l=r(47147),c=r(84739),u=r(97571),d=r(34354),h=r(40814),f=r(98979),p=r(31679),y=r(45244),g=r(5944);let m=(0,i.v)(()=>({listings:[],loading:!1})),b=m.setState,w=e=>m.getState().listings.find(({slug:t})=>E(t)===E(e)),v=e=>{let t;try{t=new URL(e).hostname}catch(e){return}return m.getState().listings.find(({homepage:e})=>{let r;try{r=new URL(e).hostname}catch(e){return!1}return t.includes(r)})},_=(e=!0)=>{let t=(0,s.u)(),r=m(e=>e.listings),i=m(e=>e.loading),a=!!r.length;return(0,n.useEffect)(()=>{e&&!a&&(b({listings:[],loading:!0}),(async e=>{let t=new URL("v3/wallets","https://explorer-api.walletconnect.com");t.searchParams.append("projectId",e);let r=await fetch(t);return r.ok?Object.values((await r.json()).listings).sort(({slug:e},{slug:t})=>"rainbow"===e&&"metamask"===t?1:"metamask"===e||"rainbow"===e?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>b({listings:e,loading:!1})).catch(e=>{console.error(e),b({listings:[],loading:!1})}))},[e,a,t.walletConnectCloudProjectId]),{listings:r,loading:i}},x=e=>{let{listings:t}=_();return t.find(({slug:t})=>E(t)===E(e))};function E(e){return"cryptocom"===e?"cryptocom-defi":"binance"===e?"binance-defi":e.replace(/[-_]wallet$/,"")}function I(e){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","jupiter","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion","kraken_wallet"].some(t=>e?.includes(t))}let A=e=>e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isClover?"Clover":e.isCoin98?"Coin98 Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isDesig?"Desig Wallet":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFordefi?"Fordefi":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOneKey?"OneKey Wallet":e.isOpera?"Opera":e.isPhantom||"isPhantom"in e?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isSafePal?"SafePal Wallet":e.isStatus?"Status":e.isSubWallet?"SubWallet":e.isTalisman?"Talisman":e.isTally||e.isTaho?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZeal?"Zeal":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0,S=(e,t)=>{if(!e.isMetaMask)return!1;if(e.isMetaMask&&!t)return!0;if(e.isBraveWallet&&!e._events&&!e._state||"MetaMask"!==A(e))return!1;if(e.providers){for(let t of e.providers)if(!S(t))return!1}return!0},k=()=>{let e=window;if(!e.ethereum)return!1;if(e.ethereum.isCoinbaseWallet)return!0;if(e.ethereum.providers){for(let t of e.ethereum.providers)if(t&&t.isCoinbaseWallet)return!0}return!1},C=(e,t)=>{let r=[],n=[];for(let[i,s]of e.entries())i<t?r.push(s):n.push(s);return[r,n]},T=e=>!!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),O=(e,t)=>{let r=e.slice(0),n=[];for(;r.length;)n.push(r.splice(0,t));return n},P=(e,t=3,r=4,n="ethereum")=>{if(!e)return"";let i="ethereum"===n?2:0;return t+r+i+3>=e.length?e:`${e.slice(0,i+t)}...${e.slice(e.length-r,e.length)}`},R=(e,t=3,r=4)=>P(e,t,r,"solana"),D=e=>new Promise(t=>setTimeout(t,e));function N(e,{interval:t=100,timeout:r=5e3}={}){return new Promise((n,i)=>{let s,a=0,o=()=>{a>=r?i("Max attempts reached without result"):(s=e(),a+=t,null==s?setTimeout(o,t):n(s))};o()})}let U=(e,t={})=>{let r=t.delayMs||150,n=t.maxAttempts||270;return new Promise(async(i,s)=>{let a=!1,o=0;for(;!a&&o<n;){if(t.abortSignal?.aborted)return;e().then(e=>{a=!0,i(e)},(...e)=>{a=!0,s(...e)}),o+=1,await D(r)}a||s(Error("Exceeded max attempts before resolving function"))})},M=e=>e.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),B=e=>"string"==typeof e?e:"0x"+e.toString(16);async function j({store:e,walletList:t,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let s=!1,a=window;return new Promise(o=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let i=e.getProviders();console.debug("Detected injected providers:",i.map(e=>e.info));let a=[];for(let e of i)t.includes("coinbase_wallet")&&"com.coinbase.wallet"===e.info.rdns||"solana-only"===n&&"app.phantom"===e.info.rdns||a.push({type:e.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:e});if("solana-only"!==n)for(let e of function(){let e=window,t=e.ethereum;if(!t)return[];let r=[];if(t.providers?.length)for(let e of t.providers)e&&r.push(e);return r.push(e.ethereum),r}()){let t=A(e);if(!i.some(e=>e.info.name===t)){if(S(e,!0)&&!a.find(e=>"metamask"===e.type)){a.push({type:"metamask",legacyInjectedProvider:e});continue}if("Phantom"===t&&!a.find(e=>"phantom"===e.type)){a.push({type:"phantom",legacyInjectedProvider:e});continue}if("Coinbase Wallet"===t&&!a.find(e=>"coinbase_wallet"===e.type&&"smartWalletOnly"!==r.coinbaseWallet?.config?.preference?.options)){a.push({type:"coinbase_wallet",legacyInjectedProvider:e});continue}a.find(e=>"unknown_browser_extension"===e.type)||a.push({type:"unknown_browser_extension",legacyInjectedProvider:e})}}o(a)}a.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function L(e){return`eip155:${String(Number(e))}`}let F=(e,t,r,n)=>{let i=Number(e),s=t.find(e=>e.id===i);if(!s)throw new p.P(`Unsupported chainId ${e}`,4901);return(0,y.a)(s,r,n)},$=(e,t)=>{let r=Number(e),n=t.find(e=>e.id===r);if(!n)throw new p.P(`Unsupported chainId ${e}`,4901);return n.blockExplorers?.default.url},z=e=>{let t={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=e.types.EIP712Domain??Object.entries(e.domain).map(([e,r])=>{if(null!=r&&"string"==typeof e&&e in t)return{name:e,type:t[e]}}).filter(e=>void 0!==e);return{...e,types:{...e.types,EIP712Domain:r}}};function q(e,{min:t,max:r}){return Math.min(Math.max(e,t),r)}function W(e){return"ethereum"===e.type}function H(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let n=e[r],i=t[r];if(n?.address!==i?.address||n&&i&&W(n)&&W(i)&&n?.chainId!==i?.chainId||n?.connectorType!==i?.connectorType||n?.connectedAt!==i?.connectedAt||n?.walletClientType!==i?.walletClientType||n?.isConnected!==i?.isConnected||n?.linked!==i?.linked)return!1}return!0}let V=(e,t)=>e.rpcTimeouts&&e.rpcTimeouts[t]||s.n;function K(e){return"ethereum"===e.chainType}class G extends c.c{buildConnectedWallet(e,t,r,n){let i=async()=>!!this.wallets.find(t=>(0,h.b)(t.address)===(0,h.b)(e));return{type:"ethereum",address:(0,h.b)(e),chainId:t,meta:r,imported:n,switchChain:async r=>{let n,s;if(!i)throw new p.P("Wallet is not currently connected.");let a=this.wallets.find(t=>h.b(t.address)===h.b(e))?.chainId;if(!a)throw new p.P("Unable to determine current chainId.");if("number"==typeof r?(n=`0x${r.toString(16)}`,s=r):(n=r,s=Number(r)),a===L(n))return;let o=this.chains.find(e=>e.id===s);if(!o)throw new p.P(`Unsupported chainId: ${r}`);let l=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})};try{return await l()}catch(e){if(((e,t)=>{switch(t){case"coinbase_wallet":case"base_account":return e.message.includes("addEthereumChain");case"rabby_wallet":return e.message.includes("Unrecognized chain ID");default:return 4902===e.code||e.message?.includes("4902")}})(e,this.walletClientType))return"rabby_wallet"===this.walletClientType&&await D(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:o.name,nativeCurrency:o.nativeCurrency,rpcUrls:[o.rpcUrls.default?.http[0]??""],blockExplorerUrls:[o.blockExplorers?.default.url??""]}]}),l();if("rainbow"===this.walletClientType&&e.message?.includes("wallet_switchEthereumChain"))throw new p.P(`Rainbow does not support the chainId ${t}`);throw e}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:i,getEthereumProvider:async()=>{if(!await i())throw new p.P("Wallet is not currently connected.");return this.proxyProvider},sign:async e=>{if(!await i())throw new p.P("Wallet is not currently connected.");return await this.sign(e)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let t,r=e;try{if(void 0===r){let e=await U(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,e),Array.isArray(e)&&(r=e)}}catch(e){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",e)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let n=r[0];if(!(0,d.P)(n))return void console.warn(`Invalid ethereum address reported by ${this.walletClientType}: ${n}`);let i=(0,h.b)(n),a=[];if("privy"===this.walletClientType){let e=c.u.get((0,s.o)(i));this.chains.find(t=>t.id===Number(e))||(c.u.del((0,s.o)(i)),e=null),t=e||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(e){console.warn(`Unable to switch embedded wallet to chain ID ${t} on initialization`)}}else try{let e=await U(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,e),"string"==typeof e)t=e;else{if("number"!=typeof e)throw Error("Invalid chainId returned from provider");t=`0x${e.toString(16)}`}}catch(e){console.warn(`Failed to get chainId from provider, defaulting to ${s.p}`,e),t=s.p}let o=L(t);if(!a.find(e=>(0,h.b)(e.address)===i)){let e={name:this.walletBranding.name,icon:"string"==typeof this.walletBranding.icon?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet((0,h.b)(n),o,e,"embedded_imported"===this.connectorType))}H(a,this.wallets)||(this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((e,t)=>t.connectedAt-e.connectedAt).find(t=>e.find(e=>(0,h.b)(e)===(0,h.b)(t.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[(0,f.nj)(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,t,r,n){super(e),this.chainType="ethereum",this.onAccountsChanged=e=>{0===e.length?this.onDisconnect():this.syncAccounts(e)},this.onChainChanged=e=>{this.wallets.forEach(t=>{t.chainId=L(e),"privy"===this.walletClientType&&c.u.put((0,s.o)(t.address),e)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{"base_account"===this.connectorType&&this.connected||(this.connected=!0,"coinbase_wallet"===this.connectorType&&await D(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=t,this.defaultChain=r,this.rpcConfig=n,this.rpcTimeoutDuration=V(n,e),this.connected=!1,this.initialized=!1}}class Z{on(e,t){if(this.walletProvider)return this.walletProvider.on(e,t);this._subscriptions.push({eventName:e,listener:t})}async request(e){if(!this.walletProvider)throw new p.P(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(e=>{throw(0,c.f)(e)})}constructor(e,t){this.removeListener=(e,t)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(e,t)}catch(e){console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(e=new c.d,t=this.rpcTimeoutDuration)=>new Promise((r,n)=>setTimeout(()=>{n(e)},t)),this.setWalletProvider=e=>{this.walletProvider&&this._subscriptions.forEach(e=>{this.removeListener(e.eventName,e.listener)}),this.walletProvider=e,this._subscriptions.forEach(e=>{this.walletProvider?.on(e.eventName,e.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=t||s.n,this._subscriptions=[]}}let J=e=>{let[t,r]=(0,n.useState)("auto");return(0,n.useEffect)(()=>{let t=new ResizeObserver(e=>{r(e[0]?.contentRect.height??"auto")});return e.current&&t.observe(e.current),()=>{e.current&&t.unobserve(e.current)}},[e.current]),t},Y=a.I4.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),Q=a.I4.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),X=a.I4.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),ee=(0,a.I4)(X).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],e=>"light"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":"dark"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),et=(0,a.AH)(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]),er=a.I4.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),en=a.I4.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],et),ei=a.I4.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],e=>e.$fullSize?"0":"4px",e=>e.$fullSize?"transparent":"var(--privy-color-background-2)",e=>e.$fullSize?"32px":"18px",e=>e.$fullSize?"32px":"18px",e=>e.$fullSize?"inherit":"var(--privy-color-icon-muted)"),es=a.I4.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],e=>e.$if?"display: none;":""),ea=a.I4.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],e=>e.$withPadding?"64px 0px":"0px"),eo=a.I4.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),el=({success:e,fail:t})=>(0,o.jsxs)(eu,{children:[(0,o.jsx)(ec,{children:(0,o.jsx)(eh,{className:e?"success":t?"fail":""})}),(0,o.jsx)(ec,{children:(0,o.jsx)(ed,{className:e?"success":t?"fail":""})})]}),ec=a.I4.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),eu=a.I4.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]),ed=a.I4.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],e=>e.color??"var(--privy-color-icon-subtle)"),eh=(0,a.I4)(ed).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],e=>e.color??"var(--privy-color-border-default)",e=>e.color??"var(--privy-color-border-default)"),ef=e=>(0,o.jsx)(ep,{color:e.color||"var(--privy-color-foreground-3)"}),ep=(0,a.I4)(ed).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]),ey=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","jupiter","mobile_wallet_adapter"],eg=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:l.gm?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let e=window;if(e?.phantom?.ethereum?.isPhantom&&e?.phantom?.ethereum?.chainId||e?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=eb({client:this.client,isSolana:t,connectOnly:r});return`${e?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`}},solflare:{client:"solflare",name:"Solflare",installLink:l.gm?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=eb({client:this.client,isSolana:t,connectOnly:r});return`${e?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=eb({client:this.client,isSolana:t,connectOnly:r});return`${e?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${n}?ref=${n}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:e,connectOnly:t}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+eb({client:this.client,isSolana:e,connectOnly:t}))}}});function em({connectorType:e,walletClientType:t}){for(let r of ey)if(e===r||t===r)return eg[r]}function eb({client:e,isSolana:t,connectOnly:r}){let n=new URL(window.location.href);return n.searchParams.set("privy_connector",t?"solana_adapter":"injected"),n.searchParams.set("privy_wallet_client",e),n.searchParams.set("privy_connect_only",String(r)),encodeURIComponent(n.href.replace(/\/$/g,""))}class ew extends c.S{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:t,icon:r}){super({name:t},!1),this.connectorType="null",this.proxyProvider=new Z(void 0,s.n),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=t,this.icon=r}}function ev(e){return"solana"===e.chainType}function e_(e){return"solana"===e.type}let ex=(0,n.createContext)({}),eE=({children:e})=>{let t=(0,s.u)(),[r,i]=(0,n.useState)({});return(0,u.u)("login",{onComplete:({loginAccount:e})=>{e&&"passkey"!==e.type&&"cross_app"!==e.type&&("wallet"!==e.type||"privy"!==e.walletClientType)&&(c.u.put(eI(t.id),e.type),"wallet"===e.type?(c.u.put(eA(t.id),e.walletClientType),c.u.put(eS(t.id),e.chainType),i({accountType:e.type,walletClientType:e.walletClientType,chainType:e.chainType})):(c.u.del(eA(t.id)),c.u.del(eS(t.id)),i({accountType:e.type})))}}),(0,n.useEffect)(()=>{if(!t.id)return;let e=c.u.get(eI(t.id)),r=c.u.get(eA(t.id)),n=c.u.get(eS(t.id));e&&i("wallet"===e?{accountType:e,walletClientType:r,chainType:n}:{accountType:e})},[t.id]),(0,o.jsx)(ex.Provider,{value:r,children:e})},eI=e=>`privy:${e}:recent-login-method`,eA=e=>`privy:${e}:recent-login-wallet-client`,eS=e=>`privy:${e}:recent-login-chain-type`,ek=()=>(0,n.useContext)(ex);class eC extends G{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:t,icon:r,walletClientType:n,defaultChain:i}){super(n,[],i,{}),this.connectorType="null",this.proxyProvider=new Z(void 0,s.n),this.id=e,this.name=t,this.icon=r}}let eT=({...e})=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...e,children:[(0,o.jsx)("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),(0,o.jsx)("g",{transform:"translate(4, 4)",children:(0,o.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[(0,o.jsx)("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),(0,o.jsx)("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),(0,o.jsx)("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),(0,o.jsx)("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),(0,o.jsx)("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),(0,o.jsx)("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),(0,o.jsx)("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),(0,o.jsx)("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),(0,o.jsx)("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),(0,o.jsx)("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),(0,o.jsx)("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),(0,o.jsx)("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),(0,o.jsx)("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]});function eO(e){let{login:t}=(0,n.useContext)(g.P);return(0,u.u)("login",e),{login:t}}function eP(e){let{logout:t}=(0,n.useContext)(g.P);return(0,u.u)("logout",e),{logout:t}}function eR(e){let{connectWallet:t}=(0,n.useContext)(g.P);return(0,u.u)("connectWallet",e),{connectWallet:t}}let eD=(0,i.v)(()=>({isModalOpen:!1,resolvers:null}));(0,i.v)(()=>({}));let eN=({address:e,client:t,appId:r})=>{let n=`${t}:${e}`;r&&c.u.put(eU(r),n),eD.setState({wallet:n})},eU=e=>`privy:${e}:active-wallet-connection`},45687:(e,t,r)=>{"use strict";r.d(t,{P:()=>f,S:()=>y,a:()=>p,b:()=>g,g:()=>w,p:()=>d,u:()=>A});var n=r(95155),i=r(12115),s=r(5944),a=r(97571),o=r(31679),l=r(86542),c=r(38856),u=r(81084);let d=({address:e,nonce:t})=>`${window.location.host} wants you to sign in with your Solana account:
${e}

You are proving you own ${e}.

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${t}
Issued At: ${(new Date).toISOString()}
Resources:
- https://privy.io`,h=(0,i.createContext)({plugins:{current:{}}}),f=({children:e})=>{let t=(0,i.useRef)({});return(0,n.jsx)(h.Provider,{value:{plugins:t},children:e})},p=()=>{let{plugins:e}=(0,i.useContext)(h);return(0,i.useCallback)(t=>e.current[t],[e])},y=Symbol("solana-funding-plugin"),g=Symbol("solana-ledger-plugin"),m=(e,{chainType:t,walletIndex:r}={})=>e?.linkedAccounts.filter(e=>!("wallet"!==e.type||"privy"!==e.walletClientType||void 0!==r&&e.walletIndex!==r||void 0!==t&&e.chainType!==t))??[],b=e=>e.reduce((e,t)=>!e||e.walletIndex<t.walletIndex?t:e,null),w=async({user:e,accessToken:t,proxy:r,refreshSessionAndUser:n,privy:i,appConfig:a,recoverEmbeddedWallet:o,setUser:u,walletIndex:d,chainType:h,recoveryMethod:f,recoveryPassword:p,recoveryAccessToken:y})=>{if(0===d){if("user-controlled-server-wallets-only"===a.embeddedWallets.mode)await (0,l.v)(i,{request:{chain_type:h}});else if("ethereum"===h){let n=(0,s.c)(e);n&&await o({address:n.address}),await r.create({accessToken:t,solanaAddress:n?.address,recoveryMethod:f,recoveryPassword:p,recoveryAccessToken:y})}else{if("solana"!==h)throw Error("Invalid input to create wallet");{let n=(0,s.b)(e);n&&await o({address:n.address}),await r.createSolana({accessToken:t,ethereumAddress:n?.address,recoveryMethod:f,recoveryPassword:p,recoveryAccessToken:y})}}}else if("user-controlled-server-wallets-only"===a.embeddedWallets.mode)await (0,l.v)(i,{request:{chain_type:h}});else{let{entropyId:n,entropyIdVerifier:i}=(0,c.g)(e);await o(),await r.addWallet({accessToken:t,entropyId:n,entropyIdVerifier:i,chainType:h,hdWalletIndex:d})}let g=await n(),b=m(g,{chainType:h,walletIndex:d})[0];return u(g),{user:g,account:b}},v=async({accessToken:e,appConfig:t,privy:r,emitPrivyEvent:n,proxy:i,refreshSessionAndUser:a,recoverEmbeddedWallet:l,user:c,walletIndex:u,setModalData:d,openModal:h,chainType:f,setUser:p})=>{if(u<0)throw n("createWallet","onError",o.b.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${u}) is invalid.`);let y=(0,s.g)(c);if(u>0&&!y)throw n("createWallet","onError",o.b.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(t.embeddedWallets.requireUserOwnedRecoveryOnCreate&&"user-controlled-server-wallets-only"===t.embeddedWallets.mode)throw n("createWallet","onError",o.b.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!y&&t.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await _({emitPrivyEvent:n,setModalData:d,openModal:h,chainType:f});let g=m(c,{chainType:f,walletIndex:u})[0];if(g)return{user:c,account:g};if(0===u&&!i)return _({emitPrivyEvent:n,setModalData:d,openModal:h,chainType:f});if(!i)throw n("createWallet","onError",o.b.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return w({appConfig:t,walletIndex:u,chainType:f,user:c,accessToken:e,proxy:i,refreshSessionAndUser:a,privy:r,recoverEmbeddedWallet:l,setUser:p})},_=async({emitPrivyEvent:e,setModalData:t,openModal:r,chainType:n})=>new Promise((i,s)=>{t({createWallet:{onSuccess:({user:t,account:r})=>{e("createWallet","onSuccess",{wallet:r}),i({user:t,account:r})},onFailure:t=>{e("createWallet","onError",o.b.UNKNOWN_EMBEDDED_WALLET_ERROR),s(t)},callAuthOnSuccessOnClose:!1,shouldCreateEth:"ethereum"===n,shouldCreateSol:"solana"===n}}),r("EmbeddedWalletOnAccountCreateScreen")}),x=()=>{let e=(0,u.u)(),t=(0,a.a)(),{setModalData:r}=(0,s.a)(),{initializeWalletProxy:n,recoverEmbeddedWallet:i,setUser:l,openModal:c,refreshSessionAndUser:d,privy:h,client:f}=(0,o.u)();return{create:async({chainType:s,options:a,latestUser:p})=>{let y=p;if(y||(y=await d()),!y)throw t("createWallet","onError",o.b.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await (async({appConfig:e,getAccessToken:t,initializeWalletProxy:r,user:n,privy:i,emitPrivyEvent:s,recoverEmbeddedWallet:a,setModalData:l,openModal:c,setUser:u,options:d,timeoutDuration:h,refreshSessionAndUser:f,chainType:p})=>{let[y,g]=await Promise.all([r(h),t()]);if(!g||!n)throw s("createWallet","onError",o.b.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!y&&e.customAuth?.enabled)throw s("createWallet","onError",o.b.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(d&&"walletIndex"in d&&"number"==typeof d.walletIndex){if("user-controlled-server-wallets-only"===e.embeddedWallets.mode)throw s("createWallet","onError",o.b.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return v({accessToken:g,appConfig:e,privy:i,emitPrivyEvent:s,openModal:c,proxy:y,refreshSessionAndUser:f,recoverEmbeddedWallet:a,setModalData:l,user:n,walletIndex:d.walletIndex,chainType:p,setUser:u})}let w=d&&"createAdditional"in d&&d.createAdditional,_=m(n,{chainType:p});if(_[0]&&!w)throw s("createWallet","onError",o.b.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return v({accessToken:g,appConfig:e,privy:i,emitPrivyEvent:s,openModal:c,proxy:y,recoverEmbeddedWallet:a,setModalData:l,user:n,walletIndex:(b(_)?.walletIndex??-1)+1,chainType:p,refreshSessionAndUser:f,setUser:u})})({appConfig:e,privy:h,getAccessToken:()=>f.getAccessToken(),refreshSessionAndUser:d,initializeWalletProxy:n,user:y,emitPrivyEvent:t,recoverEmbeddedWallet:i,setModalData:r,openModal:c,setUser:l,options:a,timeoutDuration:u.W,chainType:s})}}},E=async({emitPrivyEvent:e,getAccessToken:t,initializeWalletProxy:r,refreshSessionAndUser:n,user:i,appConfig:a},{privateKey:l,chainType:c,additionalSigners:u})=>{if(!i)throw e("linkAccount","onError",o.b.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new o.a("User must be authenticated before linking an account.");let d="user-controlled-server-wallets-only"===a.embeddedWallets.mode?"tee":"on-device";if(u&&"on-device"===d)throw new o.a("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[h,f]=await Promise.all([t(),r(15e3)]);if(!f||!h)throw e("linkAccount","onError",o.b.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new o.a("User must be authenticated before linking an account.");let{address:p}=await f.importWallet({privateKey:l,accessToken:h,chainType:c,mode:d,additionalSigners:u}),y=await n(),g="solana"===c?(0,s.j)(y):(0,s.f)(y),m=g?.find(e=>e.address===p);if(!m)throw e("createWallet","onError",o.b.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return e("createWallet","onSuccess",{wallet:m}),m},I=()=>{let{user:e}=(0,s.u)(),{client:t,refreshSessionAndUser:r,initializeWalletProxy:n}=(0,o.u)(),l=(0,a.a)(),c=(0,u.u)();return{importWallet:(0,i.useCallback)(({privateKey:i,additionalSigners:s})=>E({getAccessToken:()=>t.getAccessToken(),user:e,initializeWalletProxy:n,refreshSessionAndUser:r,emitPrivyEvent:l,appConfig:c},{privateKey:i,chainType:"ethereum",additionalSigners:s}),[e,t,r,n,l,c])}},A=()=>{let{importWallet:e}=I(),{createWallet:t}=function(e){let{create:t}=x();return(0,a.u)("createWallet",void 0),{createWallet:async e=>{e&&"target"in e&&e&&(e=void 0);let{account:r}=await t({chainType:"ethereum",options:e});return r}}}();return{...(0,i.useContext)(s.P),importWallet:e,createWallet:t}}},38856:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,g:()=>a,t:()=>s,u:()=>l});var n=r(5944),i=r(12115);let s=e=>{if("ethereum"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier"};if("solana"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},a=(e,t)=>{if(t?.imported)return s(t);let r=(0,n.g)(e);if(!r)throw Error("Failed to find primary wallet");return s(r)},o=(0,i.createContext)(null);function l(){let e=(0,i.useContext)(o);return null===e?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):e}},72975:(e,t,r)=>{"use strict";let n;function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function a(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function o(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function l(e){if(!Array.isArray(e))throw Error("array expected")}function c(e,t){if(!s(!0,t))throw Error(`${e}: array of strings expected`)}function u(e,t){if(!s(!1,t))throw Error(`${e}: array of numbers expected`)}function d(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function h(e){let t="string"==typeof e?e.split(""):e,r=t.length;c("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(l(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(l(t),t.map(t=>{a("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function f(e=""){return a("join",e),{encode:t=>(c("join.decode",t),t.join(e)),decode:t=>(a("join.decode",t),t.split(e))}}function p(e,t,r){if(t<2)throw Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(l(e),!e.length)return[];let n=0,i=[],s=Array.from(e,e=>{if(o(e),e<0||e>=t)throw Error(`invalid integer: ${e}`);return e}),a=s.length;for(;;){let e=0,o=!0;for(let i=n;i<a;i++){let a=s[i],l=t*e,c=l+a;if(!Number.isSafeInteger(c)||l/t!==e||c-a!==l)throw Error("convertRadix: carry overflow");let u=c/r;e=c%r;let d=Math.floor(u);if(s[i]=d,!Number.isSafeInteger(d)||d*r+e!==c)throw Error("convertRadix: carry overflow");o&&(d?o=!1:n=i)}if(i.push(e),o)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}r.d(t,{K3:()=>_,tw:()=>x});let y=(e,t)=>0===t?e:y(t,e%t),g=(e,t)=>e+(t-y(e,t)),m=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function b(e,t,r,n){if(l(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(g(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${g(t,r)}`);let i=0,s=0,a=m[t],c=m[r]-1,u=[];for(let n of e){if(o(n),n>=a)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,s+t>32)throw Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)u.push((i>>s-r&c)>>>0);let e=m[s];if(void 0===e)throw Error("invalid carry");i&=e-1}if(i=i<<r-s&c,!n&&s>=t)throw Error("Excess padding");if(!n&&i>0)throw Error(`Non-zero padding: ${i}`);return n&&s>0&&u.push(i>>>0),u}let w="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64,v=(e,t)=>{if(a("base64",e),e.length>0&&!(t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/).test(e))throw Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:t?"base64url":"base64",lastChunkHandling:"strict"})},_=w?{encode:e=>((function(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)})(e),e.toBase64()),decode:e=>v(e,!1)}:d(function(e,t=!1){if(o(6),e>32)throw Error("radix2: bits should be in (0..32]");if(g(8,e)>32||g(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!i(r))throw Error("radix2.encode input should be Uint8Array");return b(Array.from(r),8,e,!t)},decode:r=>(u("radix2.decode",r),Uint8Array.from(b(r,e,8,t)))}}(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),function(e,t="="){return o(6),a("padding",t),{encode(e){for(c("padding.encode",e);6*e.length%8;)e.push(t);return e},decode(r){c("padding.decode",r);let n=r.length;if(n*e%8)throw Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}(6),f("")),x=(n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",d((o(58),{encode:e=>{if(!i(e))throw Error("radix.encode input should be Uint8Array");return p(Array.from(e),256,58)},decode:e=>(u("radix.decode",e),Uint8Array.from(p(e,58,256)))}),h(n),f(""))),E=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];"function"==typeof Uint8Array.from([]).toHex&&Uint8Array.fromHex},23617:(e,t,r)=>{"use strict";r.d(t,{GK:()=>n,H_:()=>i,xh:()=>s});let n={path:"/api/v1/wallets",method:"POST"},i={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},s={path:"/api/v1/wallets/revoke",method:"POST"}},11274:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});let n=({origin:e,path:t,query:r={},hash:n={}})=>{let i=new URL(t,e.endsWith("/")?e:`${e}/`);for(let[e,t]of Object.entries(r))void 0!==t&&i.searchParams.set(e,t);let s=Object.entries(n);if(s.length>0){let e=new URLSearchParams;for(let[t,r]of s)void 0!==r&&e.append(t,r);i.hash=e.toString()}return i.href}},10464:(e,t,r)=>{"use strict";r.d(t,{x:()=>w});var n=r(95155),i=r(88395),s=r(12115),a=r(57342),o=r(17341),l=r(15399),c=r(38856),u=r(45687),d=r(48568),h=r(24511);let f=e=>"privy"===e.walletClientType?`${e.meta.id}.${e.address}`:e.meta.id,p=({setActiveWalletForWagmi:e})=>{let{wallets:t,ready:r}=(0,c.u)(),{user:n}=(0,u.u)(),i=(0,a.U)(),{reconnect:l}=(0,o.R)();(0,d.A)({onSuccess:async({wallet:t})=>{let r=f(t);await i.storage?.removeItem(`${r}.disconnected`),e||(await i.storage?.setItem("recentConnectorId",r),l())}}),(0,h.$)({onSuccess:async({wallet:t})=>{let r=f(t);await i.storage?.removeItem(`${r}.disconnected`),e||(await i.storage?.setItem("recentConnectorId",r),l())}}),(0,d.y)({onComplete:async({user:e,loginAccount:t})=>{if(!t||"wallet"===t.type)return;let r=e.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType);0!==r.length&&(await i.storage?.removeItem("io.privy.wallet.disconnected"),await Promise.all(r.map(async e=>{let t=`io.privy.wallet.${e.address}`;await i.storage?.removeItem(`${t}.disconnected`)})),l())}}),(0,s.useEffect)(()=>{e&&(async()=>{let r=e({wallets:t,user:n});if(!r)return g(i),void l();let[s]=await y([r],i);s?(await m(r,s,i),l()):console.error(`Failed to setup connector for ${r.address}`)})()},[t,n,e]),(0,s.useEffect)(()=>{e||y(t,i).then(()=>{r&&l()})},[t,!e,r])},y=async(e,t)=>{let r=await Promise.all(e.map(async e=>{let r=await e.getEthereumProvider(),n=f(e),i=t.connectors.find(e=>e.id===n);if(i)return i;let s=(0,l.b)({target:{provider:r,id:n,name:e.meta.name,icon:e.meta.icon}});return t._internal.connectors.setup(s)}));return t._internal.connectors.setState(r),r},g=e=>{e._internal.connectors.setState([]),e.setState(e=>({chainId:e.chainId,connections:new Map,current:null,status:"disconnected"}))},m=async(e,t,r)=>{let n=t.id;await Promise.all([r.storage?.removeItem(`${n}.disconnected`),r.storage?.setItem("recentConnectorId",n)]);let i=Number(e.chainId.replace("eip155:",""));r.chains.find(e=>e.id===i)||(i=r.chains[0].id);let s=new Map([[t.uid,{accounts:[e.address],chainId:i,connector:t}]]);r.setState(e=>({...e,chainId:i,connections:s,current:t.uid,status:"connected"}))},b=({children:e,setActiveWalletForWagmi:t})=>(p({setActiveWalletForWagmi:t}),(0,n.jsx)(n.Fragment,{children:e})),w=({children:e,setActiveWalletForWagmi:t,...r})=>(0,n.jsx)(i.x,{reconnectOnMount:!1,...r,children:(0,n.jsx)(b,{setActiveWalletForWagmi:t,children:e})})},81246:(e,t,r)=>{"use strict";let n;r.d(t,{Z:()=>x});var i=r(53075),s=r(44711);let a=e=>(t,r,n)=>{let i=n.subscribe;return n.subscribe=(e,t,r)=>{let s=e;if(t){let i=(null==r?void 0:r.equalityFn)||Object.is,a=e(n.getState());s=r=>{let n=e(r);if(!i(a,n)){let e=a;t(a=n,e)}},(null==r?void 0:r.fireImmediately)&&t(a,a)}return i(s)},e(t,r,n)},o=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>o(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>o(t)(e)}}},l=(e,t)=>(r,n,i)=>{let s,a={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=r.getItem(e))?t:null;return i instanceof Promise?i.then(n):n(i)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,c=new Set,u=new Set,d=a.storage;if(!d)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...e)},n,i);let h=()=>{let e=a.partialize({...n()});return d.setItem(a.name,{state:e,version:a.version})},f=i.setState;i.setState=(e,t)=>{f(e,t),h()};let p=e((...e)=>{r(...e),h()},n,i);i.getInitialState=()=>p;let y=()=>{var e,t;if(!d)return;l=!1,c.forEach(e=>{var t;return e(null!=(t=n())?t:p)});let i=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=n())?e:p))||void 0;return o(d.getItem.bind(d))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate)return[!0,a.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[i,o]=e;if(r(s=a.merge(o,null!=(t=n())?t:p),!0),i)return h()}).then(()=>{null==i||i(s,void 0),s=n(),l=!0,u.forEach(e=>e(s))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{a={...a,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},a.skipHydration||y(),s||p},c=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,s={setState:n,getState:i,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(n,i,s);return s},u=e=>e?c(e):c;var d=r(15399),h=r(29761);class f{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new h.b})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){let r=t[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function p(e,t){return JSON.parse(e,(e,r)=>{let n=r;return n?.__type==="bigint"&&(n=BigInt(n.value)),n?.__type==="Map"&&(n=new Map(n.value)),t?.(e,n)??n})}function y(e,t){return e.slice(0,t).join(".")||"."}function g(e,t){let{length:r}=e;for(let n=0;n<r;++n)if(e[n]===t)return n+1;return 0}function m(e,t,r,n){return JSON.stringify(e,function(e,t){let r="function"==typeof e,n="function"==typeof t,i=[],s=[];return function(a,o){if("object"==typeof o){if(i.length){let e=g(i,this);0===e?i[i.length]=this:(i.splice(e),s.splice(e)),s[s.length]=a;let r=g(i,o);if(0!==r)return n?t.call(this,a,o,y(s,r)):`[ref=${y(s,r)}]`}else i[0]=o,s[0]=a}return r?e.call(this,a,o):o}}((e,r)=>{let n=r;return"bigint"==typeof n&&(n={__type:"bigint",value:r.toString()}),n instanceof Map&&(n={__type:"Map",value:Array.from(r.entries())}),t?.(e,n)??n},n),r??void 0)}let b={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};var w=r(22537);let v=256;var _=r(45259);let x=e=>(function(e){let t;let{multiInjectedProviderDiscovery:r=!0,storage:o=function(e){let{deserialize:t=p,key:r="wagmi",serialize:n=m,storage:i=b}=e;function s(e){return e instanceof Promise?e.then(e=>e).catch(()=>null):e}return{...i,key:r,async getItem(e,n){let a=i.getItem(`${r}.${e}`),o=await s(a);return o?t(o)??null:n??null},async setItem(e,t){let a=`${r}.${e}`;null===t?await s(i.removeItem(a)):await s(i.setItem(a,n(t)))},async removeItem(e){await s(i.removeItem(`${r}.${e}`))}}}({storage:function(){let e="undefined"!=typeof window&&window.localStorage?window.localStorage:b;return{getItem:t=>e.getItem(t),removeItem(t){e.removeItem(t)},setItem(t,r){try{e.setItem(t,r)}catch{}}}}()}),syncConnectedChain:c=!0,ssr:h=!1,...y}=e,g="undefined"!=typeof window&&r?(0,i.y)():void 0,x=u(()=>y.chains),E=u(()=>{let e=[],t=new Set;for(let r of y.connectors??[]){let n=I(r);if(e.push(n),!h&&n.rdns)for(let e of"string"==typeof n.rdns?[n.rdns]:n.rdns)t.add(e)}if(!h&&g)for(let r of g.getProviders())t.has(r.info.rdns)||e.push(I(A(r)));return e});function I(e){let t=new f(function(e=11){if(!n||v+e>512){n="",v=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(v,v+++e)}()),r={...e({emitter:t,chains:x.getState(),storage:o,transports:y.transports}),emitter:t,uid:t.uid};return t.on("connect",R),r.setup?.(),r}function A(e){let{info:t}=e,r=e.provider;return(0,d.b)({target:{...t,id:t.rdns,provider:r}})}let S=new Map;function k(){return{chainId:x.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let C="0.0.0-canary-";t=_.r.startsWith(C)?Number.parseInt(_.r.replace(C,""),10):Number.parseInt(_.r.split(".")[0]??"0",10);let T=u(a(o?l(k,{migrate(e,r){if(r===t)return e;let n=k(),i=O(e,n.chainId);return{...n,chainId:i}},name:"store",partialize:e=>({connections:{__type:"Map",value:Array.from(e.connections.entries()).map(([e,t])=>{let{id:r,name:n,type:i,uid:s}=t.connector;return[e,{...t,connector:{id:r,name:n,type:i,uid:s}}]})},chainId:e.chainId,current:e.current}),merge(e,t){"object"==typeof e&&e&&"status"in e&&delete e.status;let r=O(e,t.chainId);return{...t,...e,chainId:r}},skipHydration:h,storage:o,version:t}):k));function O(e,t){return e&&"object"==typeof e&&"chainId"in e&&"number"==typeof e.chainId&&x.getState().some(t=>t.id===e.chainId)?e.chainId:t}function P(e){T.setState(t=>{let r=t.connections.get(e.uid);return r?{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts??r.accounts,chainId:e.chainId??r.chainId,connector:r.connector})}:t})}function R(e){"connecting"!==T.getState().status&&"reconnecting"!==T.getState().status&&T.setState(t=>{let r=E.getState().find(t=>t.uid===e.uid);return r?(r.emitter.listenerCount("connect")&&r.emitter.off("connect",P),r.emitter.listenerCount("change")||r.emitter.on("change",P),r.emitter.listenerCount("disconnect")||r.emitter.on("disconnect",D),{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts,chainId:e.chainId,connector:r}),current:e.uid,status:"connected"}):t})}function D(e){T.setState(t=>{let r=t.connections.get(e.uid);if(r){let e=r.connector;e.emitter.listenerCount("change")&&r.connector.emitter.off("change",P),e.emitter.listenerCount("disconnect")&&r.connector.emitter.off("disconnect",D),e.emitter.listenerCount("connect")||r.connector.emitter.on("connect",R)}if(t.connections.delete(e.uid),0===t.connections.size)return{...t,connections:new Map,current:null,status:"disconnected"};let n=t.connections.values().next().value;return{...t,connections:new Map(t.connections),current:n.connector.uid}})}return T.setState(k()),c&&T.subscribe(({connections:e,current:t})=>t?e.get(t)?.chainId:void 0,e=>{if(x.getState().some(t=>t.id===e))return T.setState(t=>({...t,chainId:e??t.chainId}))}),g?.subscribe(e=>{let t=new Set,r=new Set;for(let e of E.getState())if(t.add(e.id),e.rdns)for(let t of"string"==typeof e.rdns?[e.rdns]:e.rdns)r.add(t);let n=[];for(let i of e){if(r.has(i.info.rdns))continue;let e=I(A(i));t.has(e.id)||n.push(e)}(!o||T.persist.hasHydrated())&&E.setState(e=>[...e,...n],!0)}),{get chains(){return x.getState()},get connectors(){return E.getState()},storage:o,getClient:function(e={}){let t;let r=e.chainId??T.getState().chainId,n=x.getState().find(e=>e.id===r);if(e.chainId&&!n)throw new w.nk;{let e=S.get(T.getState().chainId);if(e&&!n)return e;if(!n)throw new w.nk}{let e=S.get(r);if(e)return e}if(y.client)t=y.client({chain:n});else{let e=n.id,r=x.getState().map(e=>e.id),i={};for(let[t,n]of Object.entries(y))if("chains"!==t&&"client"!==t&&"connectors"!==t&&"transports"!==t){if("object"==typeof n){if(e in n)i[t]=n[e];else{if(r.some(e=>e in n))continue;i[t]=n}}else i[t]=n}t=(0,s.U)({...i,chain:n,batch:i.batch??{multicall:!0},transport:t=>y.transports[e]({...t,connectors:E})})}return S.set(r,t),t},get state(){return T.getState()},setState(e){let t;t="function"==typeof e?e(T.getState()):e;let r=k();"object"!=typeof t&&(t=r),Object.keys(r).some(e=>!(e in t))&&(t=r),T.setState(t,!0)},subscribe:(e,t,r)=>T.subscribe(e,t,r?{...r,fireImmediately:r.emitImmediately}:void 0),_internal:{mipd:g,async revalidate(){let e=T.getState(),t=e.connections,r=e.current;for(let[,e]of t){let n=e.connector;n.isAuthorized&&await n.isAuthorized()||(t.delete(n.uid),r!==n.uid||(r=null))}T.setState(e=>({...e,connections:t,current:r}))},store:T,ssr:!!h,syncConnectedChain:c,transports:y.transports,chains:{setState(e){let t="function"==typeof e?e(x.getState()):e;if(0!==t.length)return x.setState(t,!0)},subscribe:e=>x.subscribe(e)},connectors:{providerDetailToConnector:A,setup:I,setState:e=>E.setState("function"==typeof e?e(E.getState()):e,!0),subscribe:e=>E.subscribe(e)},events:{change:P,connect:R,disconnect:D}}}})({ssr:!0,...e,connectors:e.connectors?.filter(e=>"mock"===e.type),multiInjectedProviderDiscovery:!1})},93359:(e,t,r)=>{"use strict";r.d(t,{PUP:()=>b,Q7D:()=>w,YsN:()=>h,_mM:()=>m});var n=r(10493),i=r(12685),s=r(87918),a=r(33299),o=r(85731),l=r(3896),c=(e=>(e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen",e))(c||{}),u=(e=>(e[e.MintTokens=0]="MintTokens",e[e.FreezeAccount=1]="FreezeAccount",e[e.AccountOwner=2]="AccountOwner",e[e.CloseAccount=3]="CloseAccount",e))(u||{}),d=(e=>(e[e.CreateAssociatedToken=0]="CreateAssociatedToken",e[e.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",e[e.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",e))(d||{}),h="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",f=(e=>(e[e.Mint=0]="Mint",e[e.Token=1]="Token",e[e.Multisig=2]="Multisig",e))(f||{}),p=(e=>(e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e))(p||{});function y(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:n.Uv.READONLY});let r=t.isWritable?n.Uv.WRITABLE:n.Uv.READONLY;return Object.freeze({address:function(e){if(!e)throw Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}(t.value),role:g(t.value)?(0,n.MR)(r):r,...g(t.value)?{signer:t.value}:{}})}}function g(e){return!!e&&"object"==typeof e&&"address"in e&&(0,i.Pl)(e)}async function m(e,t={}){let{programAddress:r="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await (0,s.o0)({programAddress:r,seeds:[(0,s.jw)().encode(e.owner),(0,s.jw)().encode(e.tokenProgram),(0,s.jw)().encode(e.mint)]})}function b(e,t){let r=t?.programAddress??"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",n={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};n.tokenProgram.value||(n.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.systemProgram.value||(n.systemProgram.value="11111111111111111111111111111111");let i=y(r);return Object.freeze({accounts:[i(n.payer),i(n.ata),i(n.owner),i(n.mint),i(n.systemProgram),i(n.tokenProgram)],data:(0,a.FU)((0,o.a5)([["discriminator",(0,l.Qe)()]]),e=>({...e,discriminator:1})).encode({}),programAddress:r})}function w(e,t){let r=t?.programAddress??h,i={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},s={...e},c=(s.multiSigners??[]).map(e=>({address:e.address,role:n.Uv.READONLY_SIGNER,signer:e})),u=y(r);return Object.freeze({accounts:[u(i.source),u(i.destination),u(i.authority),...c],data:(0,a.FU)((0,o.a5)([["discriminator",(0,l.Qe)()],["amount",(0,l.eC)()]]),e=>({...e,discriminator:3})).encode(s),programAddress:r})}},87918:(e,t,r)=>{"use strict";r.d(t,{PW:()=>u,Tq:()=>_,Vm:()=>d,XF:()=>y,Xg:()=>p,hl:()=>h,jw:()=>f,o0:()=>v});var n,i,s=r(33299),a=r(41164),o=r(46967),l=r(7489);function c(){return n||(n=(0,a.nZ)()),n}function u(e){if(e.length<32||e.length>44)return!1;let t=c();try{return 32===t.encode(e).byteLength}catch{return!1}}function d(e){if(e.length<32||e.length>44)throw new o.tsw(o.VCG,{actualLength:e.length});let t=c().encode(e).byteLength;if(32!==t)throw new o.tsw(o.ncp,{actualLength:t})}function h(e){return d(e),e}function f(){return(0,s.FU)((0,s.Ns)(c(),32),e=>h(e))}function p(){return(0,s.pI)((i||(i=(0,a.BC)()),i),32)}function y(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}function g(e){let t=e%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn;return t>=0n?t:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn+t}function m(e,t){let r=e;for(;t-- >0n;)r*=r,r%=0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn;return r}var b=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function w({programAddress:e,seeds:t}){let r;if((0,l.cr)(),t.length>16)throw new o.tsw(o.R_T,{actual:t.length,maxSeeds:16});let n=t.reduce((e,t,n)=>{let i="string"==typeof t?(r||=new TextEncoder).encode(t):t;if(i.byteLength>32)throw new o.tsw(o.nNU,{actual:i.byteLength,index:n,maxSeedLength:32});return e.push(...i),e},[]),i=(0,s.mC)(f(),p()),a=i.encode(e),c=await crypto.subtle.digest("SHA-256",new Uint8Array([...n,...a,...b])),u=new Uint8Array(c);if(32===u.byteLength&&function(e,t){let r=g(e*e),n=function(e,t){let r=g(t*t*t),n=function(e){let t=e*e%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn*e%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,r=m(t,2n)*t%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,n=m(r,1n)*e%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,i=m(n,5n)*n%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,s=m(i,10n)*i%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,a=m(s,20n)*s%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,o=m(a,40n)*a%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,l=m(o,80n)*o%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,c=m(l,80n)*o%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,u=m(c,10n)*i%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn;return m(u,2n)*e%0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn}(e*g(r*r*t)),i=g(e*r*n),s=g(t*i*i),a=i,o=g(0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n*i),l=s===e,c=s===g(-e),u=s===g(-(0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n*e));return(l&&(i=a),(c||u)&&(i=o),(1n&g(i))===1n&&(i=g(-i)),l||c)?i:null}(g(r-1n),g(0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3n*r+1n));return null!==n&&(0n!==n||(128&t)==0)}(function(e){let t=e.reduce((e,t,r)=>`${function(e){let t=e.toString(16);return 1===t.length?`0${t}`:t}(31===r?-129&t:t)}${e}`,"");return BigInt(`0x${t}`)}(u),u[31]))throw new o.tsw(o.Ji6);return i.decode(u)}async function v({programAddress:e,seeds:t}){let r=255;for(;r>0;)try{return[await w({programAddress:e,seeds:[...t,new Uint8Array([r])]}),r]}catch(e){if((0,o.zbS)(e,o.Ji6))r--;else throw e}throw new o.tsw(o.Y0g)}async function _(e){if((0,l.sw)(),"public"!==e.type||"Ed25519"!==e.algorithm.name)throw new o.tsw(o.xZX);let t=await crypto.subtle.exportKey("raw",e);return p().decode(new Uint8Array(t))}},7489:(e,t,r)=>{"use strict";r.d(t,{XF:()=>i,Zg:()=>c,cr:()=>a,f_:()=>l,sw:()=>o});var n=r(46967);function i(){if(void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.getRandomValues)throw new n.tsw(n.iOv)}function s(){if(!globalThis.isSecureContext)throw new n.tsw(n.qTc)}function a(){if(s(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.digest)throw new n.tsw(n.JsK)}function o(){if(s(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.exportKey)throw new n.tsw(n.kz9)}function l(){if(s(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.sign)throw new n.tsw(n.f$j)}function c(){if(s(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.verify)throw new n.tsw(n.XzN)}},33299:(e,t,r)=>{"use strict";r.d(t,{$C:()=>o,Bq:()=>f,C1:()=>d,FU:()=>b,Ns:()=>y,QM:()=>s,Ru:()=>p,Sc:()=>l,iO:()=>m,mC:()=>c,pI:()=>g,vt:()=>w,xL:()=>u,xv:()=>a});var n=r(46967),i=(e,t)=>(function(e,t){if(e.length>=t)return e;let r=new Uint8Array(t).fill(0);return r.set(e),r})(e.length<=t?e:e.slice(0,t),t);function s(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function a(e){return Object.freeze({...e,encode:t=>{let r=new Uint8Array(s(t,e));return e.write(t,r,0),r}})}function o(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function l(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function c(e,t){if(l(e)!==l(t))throw new n.tsw(n.CvZ);if(l(e)&&l(t)&&e.fixedSize!==t.fixedSize)throw new n.tsw(n.Uq4,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!l(e)&&!l(t)&&e.maxSize!==t.maxSize)throw new n.tsw(n.SHY,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function u(e,t,r=0){if(t.length-r<=0)throw new n.tsw(n.Ot7,{codecDescription:e})}function d(e,t,r,i=0){let s=r.length-i;if(s<t)throw new n.tsw(n.Uyo,{bytesLength:s,codecDescription:e,expected:t})}function h(e,t,r){if(t<0||t>r)throw new n.tsw(n.v8P,{bytesLength:r,codecDescription:e,offset:t})}function f(e,t){let r=(r,n,i)=>{let s=e.encode(r);return i=t.write(s.length,n,i),n.set(s,i),i+s.length};if(l(t)&&l(e))return a({...e,fixedSize:t.fixedSize+e.fixedSize,write:r});let n=l(t)?t.fixedSize:t.maxSize??null,i=l(e)?e.fixedSize:e.maxSize??null,o=null!==n&&null!==i?n+i:null;return a({...e,...null!==o?{maxSize:o}:{},getSizeFromValue:r=>{let n=s(r,e);return s(n,t)+n},write:r})}function p(e,t){let r=(r,n)=>{let[i,s]=t.read(r,n),a=Number(i);return((n=s)>0||r.length>a)&&(r=r.slice(n,n+a)),d("addDecoderSizePrefix",a,r),[e.decode(r),n+a]};if(l(t)&&l(e))return o({...e,fixedSize:t.fixedSize+e.fixedSize,read:r});let n=l(t)?t.fixedSize:t.maxSize??null,i=l(e)?e.fixedSize:e.maxSize??null,s=null!==n&&null!==i?n+i:null;return o({...e,...null!==s?{maxSize:s}:{},read:r})}function y(e,t){return a({fixedSize:t,write:(r,n,i)=>{let s=e.encode(r),a=s.length>t?s.slice(0,t):s;return n.set(a,i),i+t}})}function g(e,t){return o({fixedSize:t,read:(r,n)=>{d("fixCodecSize",t,r,n),(n>0||r.length>t)&&(r=r.slice(n,n+t)),l(e)&&(r=i(r,e.fixedSize));let[s]=e.read(r,0);return[s,n+t]}})}function m(e,t){var r,i;return r=function(e,t){if(l(e)){let r=t(e.fixedSize);if(r<0)throw new n.tsw(n.rIW,{bytesLength:r,codecDescription:"resizeDecoder"});return o({...e,fixedSize:r})}return e}(e,e=>e+t),i={postOffset:({postOffset:e})=>e+t},o({...r,read:(e,t)=>{let n=t=>{var r,n;return r=t,0===(n=e.length)?0:(r%n+n)%n},s=i.preOffset?i.preOffset({bytes:e,preOffset:t,wrapBytes:n}):t;h("offsetDecoder",s,e.length);let[a,o]=r.read(e,s),l=i.postOffset?i.postOffset({bytes:e,newPreOffset:s,postOffset:o,preOffset:t,wrapBytes:n}):o;return h("offsetDecoder",l,e.length),[a,l]}})}function b(e,t){return a({...l(e)?e:{...e,getSizeFromValue:r=>e.getSizeFromValue(t(r))},write:(r,n,i)=>e.write(t(r),n,i)})}function w(e,t){return o({...e,read:(r,n)=>{let[i,s]=e.read(r,n);return[t(i,r,n),s]}})}},85731:(e,t,r)=>{"use strict";r.d(t,{EK:()=>f,Im:()=>h,J8:()=>p,O_:()=>u,a5:()=>b,ci:()=>w,is:()=>c,md:()=>g,xQ:()=>y});var n=r(33299),i=r(3896),s=r(46967);function a(e){return e.reduce((e,t)=>null===e||null===t?null:e+t,0)}function o(e){return(0,n.Sc)(e)?e.fixedSize:null}function l(e){return(0,n.Sc)(e)?e.fixedSize:e.maxSize??null}function c(e,t={}){let r=t.size??(0,i.PL)(),a=d(r,o(e)),u=d(r,l(e))??void 0;return(0,n.xv)({...null!==a?{fixedSize:a}:{getSizeFromValue:t=>("object"==typeof r?(0,n.QM)(t.length,r):0)+[...t].reduce((t,r)=>t+(0,n.QM)(r,e),0),maxSize:u},write:(t,n,i)=>("number"==typeof r&&function(e,t,r){if(t!==r)throw new s.tsw(s.lUj,{actual:r,codecDescription:e,expected:t})}("array",r,t.length),"object"==typeof r&&(i=r.write(t.length,n,i)),t.forEach(t=>{i=e.write(t,n,i)}),i)})}function u(e,t={}){let r=t.size??(0,i.VI)(),s=d(r,o(e)),a=d(r,l(e))??void 0;return(0,n.$C)({...null!==s?{fixedSize:s}:{maxSize:a},read:(t,n)=>{let i=[];if("object"==typeof r&&0===t.slice(n).length)return[i,n];if("remainder"===r){for(;n<t.length;){let[r,s]=e.read(t,n);n=s,i.push(r)}return[i,n]}let[s,a]="number"==typeof r?[r,n]:r.read(t,n);n=a;for(let r=0;r<s;r+=1){let[r,s]=e.read(t,n);n=s,i.push(r)}return[i,n]}})}function d(e,t){return"number"!=typeof e?null:0===e?0:null===t?null:t*e}function h(){return(0,n.xv)({getSizeFromValue:e=>e.length,write:(e,t,r)=>(t.set(e,r),r+e.length)})}function f(){return(0,n.$C)({read:(e,t)=>{let r=e.slice(t);return[r,t+r.length]}})}function p(e){return(0,n.xv)({fixedSize:e.length,write:(t,r,n)=>(r.set(e,n),n+e.length)})}function y(e){let t=a(e.map(o)),r=a(e.map(l))??void 0;return(0,n.$C)({...null===t?{maxSize:r}:{fixedSize:t},read:(t,r)=>{let n=[];return e.forEach(e=>{let[i,s]=e.read(t,r);n.push(i),r=s}),[n,r]}})}function g(e,t){let r=function(e){if(0===e.length)return 0;if(!(0,n.Sc)(e[0]))return null;let t=e[0].fixedSize;return e.every(e=>(0,n.Sc)(e)&&e.fixedSize===t)?t:null}(e),i=(r,n,i)=>{let s=t(r);return m(e,s),e[s].write(r,n,i)};if(null!==r)return(0,n.xv)({fixedSize:r,write:i});let s=function(e){return e.map(e=>l(e)).reduce((e,t)=>null===e||null===t?null:Math.max(e,t),0)}(e);return(0,n.xv)({...null!==s?{maxSize:s}:{},getSizeFromValue:r=>{let i=t(r);return m(e,i),(0,n.QM)(r,e[i])},write:i})}function m(e,t){if(void 0===e[t])throw new s.tsw(s.bg4,{maxRange:e.length-1,minRange:0,variant:t})}function b(e){let t=e.map(([,e])=>e),r=a(t.map(o)),i=a(t.map(l))??void 0;return(0,n.xv)({...null===r?{getSizeFromValue:t=>e.map(([e,r])=>(0,n.QM)(t[e],r)).reduce((e,t)=>e+t,0),maxSize:i}:{fixedSize:r},write:(t,r,n)=>(e.forEach(([e,i])=>{n=i.write(t[e],r,n)}),n)})}function w(e){let t=e.map(([,e])=>e),r=a(t.map(o)),i=a(t.map(l))??void 0;return(0,n.$C)({...null===r?{maxSize:i}:{fixedSize:r},read:(t,r)=>{let n={};return e.forEach(([e,i])=>{let[s,a]=i.read(t,r);r=a,n[e]=s}),[n,r]}})}},3896:(e,t,r)=>{"use strict";r.d(t,{PL:()=>h,Qe:()=>y,VI:()=>f,eC:()=>p,eh:()=>g,tD:()=>u,vU:()=>d});var n=r(46967),i=r(33299);function s(e,t,r,i){if(i<t||i>r)throw new n.tsw(n.hMG,{codecDescription:e,max:r,min:t,value:i})}var a=(e=>(e[e.Little=0]="Little",e[e.Big=1]="Big",e))(a||{});function o(e){return e?.endian!==1}function l(e){return(0,i.xv)({fixedSize:e.size,write(t,r,n){e.range&&s(e.name,e.range[0],e.range[1],t);let i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,o(e.config)),r.set(new Uint8Array(i),n),n+e.size}})}function c(e){return(0,i.$C)({fixedSize:e.size,read(t,r=0){(0,i.xL)(e.name,t,r),(0,i.C1)(e.name,e.size,t,r);let n=new DataView(function(e,t,r){let n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}(t,r,e.size));return[e.get(n,o(e.config)),r+e.size]}})}var u=()=>(0,i.xv)({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,r)=>{s("shortU16",0,65535,e);let n=[0];for(let t=0;;t+=1){let r=Number(e)>>7*t;if(0===r)break;let i=127&r;n[t]=i,t>0&&(n[t-1]|=128)}return t.set(n,r),r+n.length}}),d=()=>(0,i.$C)({maxSize:3,read:(e,t)=>{let r=0,n=0;for(;++n;){let i=n-1,s=e[t+i];if(r|=(127&s)<<7*i,(128&s)==0)break}return[r,t+n]}}),h=(e={})=>l({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,r)=>e.setUint32(0,Number(t),r),size:4}),f=(e={})=>c({config:e,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),p=(e={})=>l({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),y=()=>l({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),g=()=>c({get:e=>e.getUint8(0),name:"u8",size:1})},41164:(e,t,r)=>{"use strict";r.d(t,{BC:()=>d,Iz:()=>f,Ul:()=>p,nZ:()=>u});var n=r(46967),i=r(33299),s=e=>(0,i.xv)({getSizeFromValue:t=>{let[r,n]=o(t,e[0]);if(!n)return t.length;let i=l(n,e);return r.length+Math.ceil(i.toString(16).length/2)},write(t,r,i){if(function(e,t,r=t){if(!t.match(RegExp(`^[${e}]*$`)))throw new n.tsw(n.mZ_,{alphabet:e,base:e.length,value:r})}(e,t),""===t)return i;let[s,a]=o(t,e[0]);if(!a)return r.set(new Uint8Array(s.length).fill(0),i),i+s.length;let c=l(a,e),u=[];for(;c>0n;)u.unshift(Number(c%256n)),c/=256n;let d=[...Array(s.length).fill(0),...u];return r.set(d,i),i+d.length}}),a=e=>(0,i.$C)({read(t,r){let n=0===r?t:t.slice(r);if(0===n.length)return["",0];let i=n.findIndex(e=>0!==e);i=-1===i?n.length:i;let s=e[0].repeat(i);return i===n.length?[s,t.length]:[s+function(e,t){let r=BigInt(t.length),n=[];for(;e>0n;)n.unshift(t[Number(e%r)]),e/=r;return n.join("")}(n.slice(i).reduce((e,t)=>256n*e+BigInt(t),0n),e),t.length]}});function o(e,t){let[r,n]=e.split(RegExp(`((?!${t}).*)`));return[r,n]}function l(e,t){let r=BigInt(t.length),n=0n;for(let i of e)n*=r,n+=BigInt(t.indexOf(i));return n}var c="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",u=()=>s(c),d=()=>a(c),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=()=>(0,i.xv)({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new n.tsw(n.mZ_,{alphabet:h,base:64,value:e})}},write(e,t,r){try{let n=atob(e).split("").map(e=>e.charCodeAt(0));return t.set(n,r),n.length+r}catch{throw new n.tsw(n.mZ_,{alphabet:h,base:64,value:e})}}}),p=()=>(0,i.$C)({read:(e,t=0)=>[btoa(String.fromCharCode(...e.slice(t))),e.length]});globalThis.TextDecoder,globalThis.TextEncoder},46967:(e,t,r)=>{"use strict";r.d(t,{BUQ:()=>O,CvZ:()=>U,DAJ:()=>R,Da$:()=>I,Dgp:()=>v,Ipf:()=>P,JOu:()=>ee,Ji6:()=>l,JsK:()=>f,LzQ:()=>Q,MQP:()=>k,Ngb:()=>T,O7$:()=>W,Ot7:()=>D,R_T:()=>a,SHY:()=>B,Tsv:()=>E,Uq4:()=>M,UwC:()=>Z,Uyo:()=>N,VCG:()=>i,VO0:()=>_,Vjw:()=>A,XNQ:()=>x,XzN:()=>g,Y0g:()=>c,Y5q:()=>w,_jo:()=>V,_yh:()=>H,aYZ:()=>G,bg4:()=>q,eZ6:()=>C,evr:()=>el,f$j:()=>y,gF:()=>Y,hMG:()=>L,iOv:()=>b,ibr:()=>X,kz9:()=>p,lUj:()=>j,mMN:()=>u,mZ_:()=>F,nNU:()=>o,ncp:()=>n,pFb:()=>J,qTc:()=>h,rIW:()=>$,rMr:()=>ei,rXw:()=>m,sf7:()=>d,t_l:()=>S,tsw:()=>en,uWs:()=>K,v8P:()=>z,xZX:()=>s,zbS:()=>er});var n=28e5,i=2800001,s=2800003,a=2800006,o=2800007,l=2800008,c=2800009,u=0x1ecdbe1,d=3230004,h=361e4,f=3610001,p=3610003,y=3610005,g=3610006,m=3610007,b=3611e3,w=3704e3,v=3704001,_=3704004,x=5663e3,E=5663001,I=5663004,A=5663005,S=5663006,k=5663007,C=5663008,T=5663015,O=5663016,P=5663017,R=5663021,D=8078e3,N=8078001,U=8078004,M=8078005,B=8078006,j=8078007,L=8078011,F=8078012,$=8078013,z=8078014,q=8078017,W=81e5,H=8100002,V=8100003,K=819e4,G=8190001,Z=8190002,J=8190003,Y=8190004,Q=99e5,X=9900001,ee=9900004;function et([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}function er(e,t){return e instanceof Error&&"SolanaError"===e.name&&(void 0===t||e.context.__code===t)}var en=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;t&&Object.entries(Object.getOwnPropertyDescriptors(t)).forEach(([e,t])=>{"cause"===e?n={cause:t.value}:(void 0===r&&(r={}),Object.defineProperty(r,e,t))}),super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(et).join("&"))}'`),`${r}\``}}(e,r),n),this.context=void 0===r?{}:r,this.context.__code=e,this.name="SolanaError"}};function ei(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function es({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:r,rpcEnumError:n},i){let s,a;"string"==typeof n?s=n:(s=Object.keys(n)[0],a=n[s]);let o=e+r.indexOf(s),l=t(o,s,a),c=new en(o,l);return ei(c,i),c}var ea=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"],eo=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function el(e){let t;if("object"==typeof e&&null!==e&&"code"in e&&"message"in e&&("number"==typeof e.code||"bigint"==typeof e.code)&&"string"==typeof e.message){let{code:r,data:n,message:i}=e,s=Number(r);if(-32002===s){let{err:e,...r}=n,i=e?{cause:function e(t){return"object"==typeof t&&"InstructionError"in t?function e(t,r){let n=Number(t);return es({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>4615e3===e?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:4615026===e?{code:Number(r),index:n}:{index:n},orderedErrorNames:ea,rpcEnumError:r},e)}(...t.InstructionError):es({errorCodeBaseOffset:7050001,getErrorContext:(e,t,r)=>705e4===e?{errorName:t,...void 0!==r?{transactionErrorContext:r}:null}:7050030===e?{index:Number(r)}:7050031===e||7050035===e?{accountIndex:Number(r.account_index)}:void 0,orderedErrorNames:eo,rpcEnumError:t},e)}(e)}:null;t=new en(-32002,{...r,...i})}else{let e;switch(s){case -32603:case -32602:case -32600:case -32601:case -32700:case -32012:case -32001:case -32004:case -32014:case -32010:case -32009:case -32007:case -32006:case -32015:e={__serverMessage:i};break;default:"object"!=typeof n||Array.isArray(n)||(e=n)}t=new en(s,e)}}else{let r="object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Malformed JSON-RPC error with no message attribute";t=new en(10,{error:e,message:r})}return ei(t,el),t}},69989:(e,t,r)=>{"use strict";function n(e,...t){return t.reduce((e,t)=>t(e),e)}r.d(t,{F:()=>n})},10493:(e,t,r)=>{"use strict";r.d(t,{MR:()=>o,TN:()=>s,Uv:()=>n,Wq:()=>a,tZ:()=>i});var n=(e=>(e[e.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",e[e.READONLY_SIGNER=2]="READONLY_SIGNER",e[e.WRITABLE=1]="WRITABLE",e[e.READONLY=0]="READONLY",e))(n||{});function i(e){return e>=2}function s(e){return(1&e)!=0}function a(e,t){return e|t}function o(e){return 2|e}},9500:(e,t,r)=>{"use strict";r.d(t,{Hx:()=>d,RL:()=>u,b_:()=>l});var n=r(7489),i=r(46967),s=Object.freeze({name:"Ed25519"});async function a(e,t=!1){let r=e.byteLength;if(32!==r)throw new i.tsw(i.Dgp,{actualLength:r});let n=new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e]);return await crypto.subtle.importKey("pkcs8",n,s,t,["sign"])}async function o(e,t=!1){if((0,n.sw)(),!1===e.extractable)throw new i.tsw(i.rXw,{key:e});let r=await crypto.subtle.exportKey("jwk",e);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:t,key_ops:["verify"],kty:"OKP",x:r.x},"Ed25519",t,["verify"])}async function l(e,t){return(0,n.f_)(),new Uint8Array(await crypto.subtle.sign(s,e,t))}async function c(e,t,r){return(0,n.Zg)(),await crypto.subtle.verify(s,e,t,r)}async function u(e,t=!1){if((0,n.XF)(),64!==e.byteLength)throw new i.tsw(i.Y5q,{byteLength:e.byteLength});let[r,o]=await Promise.all([crypto.subtle.importKey("raw",e.slice(32),s,!0,["verify"]),a(e.slice(0,32),t)]),d=new Uint8Array(32);crypto.getRandomValues(d);let h=await l(o,d);if(!await c(r,h,d))throw new i.tsw(i.VO0);return{privateKey:o,publicKey:r}}async function d(e,t=!1){let r=a(e,t),[n,i]=await Promise.all([(t?r:a(e,!0)).then(async e=>await o(e,!0)),r]);return{privateKey:i,publicKey:n}}},25445:(e,t,r)=>{"use strict";r.d(t,{rC:()=>s,xn:()=>a,yF:()=>i});var n=r(87918);function i(e){return(0,n.PW)(e)}function s(e){return e}function a(e){return e}},12685:(e,t,r)=>{"use strict";r.d(t,{D7:()=>o,Lt:()=>f,Pl:()=>c,Y6:()=>l,bY:()=>p,pt:()=>d});var n=r(87918),i=r(9500),s=r(62641);function a(e){let t={};return e.forEach(e=>{if(t[e.address]){if(t[e.address]!==e)throw new SolanaError(SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS,{address:e.address})}else t[e.address]=e}),Object.values(t)}function o(e){return"modifyAndSignTransactions"in e&&"function"==typeof e.modifyAndSignTransactions}function l(e){return"signTransactions"in e&&"function"==typeof e.signTransactions}function c(e){var t;return l(e)||o(e)||"signAndSendTransactions"in(t=e)&&"function"==typeof t.signAndSendTransactions}function u(e){return a((e.accounts??[]).flatMap(e=>"signer"in e?e.signer:[]))}function d(e,t){Object.freeze(e);let r={...t,feePayer:e};return Object.freeze(r),r}async function h(e){let t=await (0,n.Tq)(e.publicKey);return Object.freeze({address:t,keyPair:e,signMessages:r=>Promise.all(r.map(async r=>Object.freeze({[t]:await (0,i.b_)(e.privateKey,r.content)}))),signTransactions:r=>Promise.all(r.map(async r=>Object.freeze({[t]:(await (0,s.iW)([e],r)).signatures[t]})))})}async function f(e,t){return await h(await (0,i.RL)(e,t))}async function p(e,t){return await h(await (0,i.Hx)(e,t))}globalThis.TextEncoder},55579:(e,t,r)=>{"use strict";r.d(t,{N0:()=>C,S$:()=>b,az:()=>q,dU:()=>R,fr:()=>D,mN:()=>B,mm:()=>W,q0:()=>m,rt:()=>M,vm:()=>z});var n,i,s,a,o,l,c=r(46967),u=r(25445),d=r(87918),h=r(33299),f=r(85731),p=r(3896),y=r(10493),g=r(69989);function m(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.blockhash&&"bigint"==typeof e.lifetimeConstraint.lastValidBlockHeight&&(0,u.yF)(e.lifetimeConstraint.blockhash)}function b(e,t){return"lifetimeConstraint"in t&&t.lifetimeConstraint&&"blockhash"in t.lifetimeConstraint&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight?t:Object.freeze({...t,lifetimeConstraint:Object.freeze(e)})}var w=e=>(0,h.xv)({getSizeFromValue:t=>{let[r,n]=_(t,e[0]);if(!n)return t.length;let i=x(n,e);return r.length+Math.ceil(i.toString(16).length/2)},write(t,r,n){if(!function(e,t,r=t){if(!t.match(RegExp(`^[${e}]*$`)))throw new c.tsw(c.mZ_,{alphabet:e,base:e.length,value:r})}(e,t),""===t)return n;let[i,s]=_(t,e[0]);if(!s)return r.set(new Uint8Array(i.length).fill(0),n),n+i.length;let a=x(s,e),o=[];for(;a>0n;)o.unshift(Number(a%256n)),a/=256n;let l=[...Array(i.length).fill(0),...o];return r.set(l,n),n+l.length}}),v=e=>(0,h.$C)({read(t,r){let n=0===r?t:t.slice(r);if(0===n.length)return["",0];let i=n.findIndex(e=>0!==e);i=-1===i?n.length:i;let s=e[0].repeat(i);return i===n.length?[s,t.length]:[s+function(e,t){let r=BigInt(t.length),n=[];for(;e>0n;)n.unshift(t[Number(e%r)]),e/=r;return n.join("")}(n.slice(i).reduce((e,t)=>256n*e+BigInt(t),0n),e),t.length]}});function _(e,t){let[r,n]=e.split(RegExp(`((?!${t}).*)`));return[r,n]}function x(e,t){let r=BigInt(t.length),n=0n;for(let i of e)n*=r,n+=BigInt(t.indexOf(i));return n}var E="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",I=()=>w(E),A=()=>v(E);function S(){return s||(s=(0,p.Qe)()),s}function k(){return a||(a=(0,p.eh)()),a}function C(){return(0,h.$C)({maxSize:1,read:(e,t)=>{let r=e[t];if((128&r)==0)return["legacy",t];{let e=128^r;if(e>0)throw new c.tsw(c.DAJ,{unsupportedVersion:e});return[e,t+1]}}})}function T(){return(0,f.a5)(P())}function O(){return(0,h.FU)((0,f.a5)([...P(),["addressTableLookups",(0,f.is)(function(){if(!n){let e=(0,f.is)((0,p.Qe)(),{size:(0,p.tD)()});n=(0,f.a5)([["lookupTableAddress",(0,d.jw)()],["writableIndexes",e],["readonlyIndexes",e]])}return n}(),{size:(0,p.tD)()})]]),e=>"legacy"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]})}function P(){let e=(0,f.md)([(0,f.J8)(new Uint8Array(32)),(0,h.Ns)(I(),32)],e=>void 0===e?0:1);return[["version",(0,h.xv)({getSizeFromValue:e=>"legacy"===e?0:1,maxSize:1,write:(e,t,r)=>{if("legacy"===e)return r;if(e<0||e>127)throw new c.tsw(c.Da$,{actualVersion:e});if(e>0)throw new c.tsw(c.DAJ,{unsupportedVersion:e});return t.set([128|e],r),r+1}})],["header",(0,f.a5)([["numSignerAccounts",S()],["numReadonlySignerAccounts",S()],["numReadonlyNonSignerAccounts",S()]])],["staticAccounts",(0,f.is)((0,d.jw)(),{size:(0,p.tD)()})],["lifetimeToken",e],["instructions",(0,f.is)((o||(o=(0,h.FU)((0,f.a5)([["programAddressIndex",(0,p.Qe)()],["accountIndices",(0,f.is)((0,p.Qe)(),{size:(0,p.tD)()})],["data",(0,h.Bq)((0,f.Im)(),(0,p.tD)())]]),e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)})),o),{size:(0,p.tD)()})]]}function R(){return(0,h.xv)({getSizeFromValue:e=>"legacy"===e.version?T().getSizeFromValue(e):O().getSizeFromValue(e),write:(e,t,r)=>"legacy"===e.version?T().write(e,t,r):O().write(e,t,r)})}function D(){return(0,h.vt)((0,f.ci)([["version",C()],["header",(0,f.ci)([["numSignerAccounts",k()],["numReadonlySignerAccounts",k()],["numReadonlyNonSignerAccounts",k()]])],["staticAccounts",(0,f.O_)((0,d.Xg)(),{size:(0,p.vU)()})],["lifetimeToken",(0,h.pI)(A(),32)],["instructions",(0,f.O_)((l||(l=(0,h.vt)((0,f.ci)([["programAddressIndex",(0,p.eh)()],["accountIndices",(0,f.O_)((0,p.eh)(),{size:(0,p.vU)()})],["data",(0,h.Ru)((0,f.EK)(),(0,p.vU)())]]),e=>{if(e.accountIndices.length&&e.data.byteLength)return e;let{accountIndices:t,data:r,...n}=e;return{...n,...t.length?{accountIndices:t}:null,...r.byteLength?{data:r}:null}})),l),{size:(0,p.vU)()})],["addressTableLookups",(0,f.O_)(function(){if(!i){let e=(0,f.O_)((0,p.eh)(),{size:(0,p.vU)()});i=(0,f.ci)([["lookupTableAddress",(0,d.Xg)()],["writableIndexes",e],["readonlyIndexes",e]])}return i}(),{size:(0,p.vU)()})]]),({addressTableLookups:e,...t})=>"legacy"!==t.version&&e?.length?{...t,addressTableLookups:e}:t)}function N(e,t,r){e[t]=r(e[t]??{role:y.Uv.READONLY})}var U=Symbol("AddressMapTypeProperty");function M(e){let t;let r=Object.entries(function(e,t){let r={[e]:{[U]:0,role:y.Uv.WRITABLE_SIGNER}},n=new Set;for(let e of t){let t;if(N(r,e.programAddress,t=>{if(n.add(e.programAddress),U in t){if((0,y.TN)(t.role)){if(0===t[U])throw new c.tsw(c.XNQ,{programAddress:e.programAddress});throw new c.tsw(c.Tsv,{programAddress:e.programAddress})}if(2===t[U])return t}return{[U]:2,role:y.Uv.READONLY}}),e.accounts)for(let i of e.accounts)N(r,i.address,e=>{let{address:r,...s}=i;if(U in e)switch(e[U]){case 0:return e;case 1:{let r=(0,y.Wq)(e.role,s.role);if("lookupTableAddress"in s){if(e.lookupTableAddress!==s.lookupTableAddress&&0>(t||=(0,d.XF)())(s.lookupTableAddress,e.lookupTableAddress))return{[U]:1,...s,role:r}}else if((0,y.tZ)(s.role))return{[U]:2,role:r};if(e.role!==r)return{...e,role:r};return e}case 2:{let t=(0,y.Wq)(e.role,s.role);if(n.has(i.address)){if((0,y.TN)(s.role))throw new c.tsw(c.Tsv,{programAddress:i.address});if(e.role!==t)return{...e,role:t};return e}if("lookupTableAddress"in s&&!(0,y.tZ)(e.role))return{...s,[U]:1,role:t};if(e.role!==t)return{...e,role:t};return e}}return"lookupTableAddress"in s?{...s,[U]:1}:{...s,[U]:2}})}return r}(e.feePayer.address,e.instructions)).sort(([e,r],[n,i])=>{if(r[U]!==i[U]){if(0===r[U])return -1;if(0===i[U])return 1;if(2===r[U])return -1;if(2===i[U])return 1}let s=(0,y.tZ)(r.role);if(s!==(0,y.tZ)(i.role))return s?-1:1;let a=(0,y.TN)(r.role);return a!==(0,y.TN)(i.role)?a?-1:1:(t||=(0,d.XF)(),1===r[U]&&1===i[U]&&r.lookupTableAddress!==i.lookupTableAddress)?t(r.lookupTableAddress,i.lookupTableAddress):t(e,n)}).map(([e,t])=>({address:e,...t})),n=e.lifetimeConstraint;return{..."legacy"!==e.version?{addressTableLookups:function(e){let t={};for(let r of e){if(!("lookupTableAddress"in r))continue;let e=t[r.lookupTableAddress]||={readonlyIndexes:[],writableIndexes:[]};r.role===y.Uv.WRITABLE?e.writableIndexes.push(r.addressIndex):e.readonlyIndexes.push(r.addressIndex)}return Object.keys(t).sort((0,d.XF)()).map(e=>({lookupTableAddress:e,...t[e]}))}(r)}:null,...n?{lifetimeToken:"nonce"in n?n.nonce:n.blockhash}:null,header:function(e){let t=0,r=0,n=0;for(let i of e){if("lookupTableAddress"in i)break;let e=(0,y.TN)(i.role);(0,y.tZ)(i.role)?(n++,!e&&r++):!e&&t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:r,numSignerAccounts:n}}(r),instructions:function(e,t){let r=function(e){let t={};for(let[r,n]of e.entries())t[n.address]=r;return t}(t);return e.map(({accounts:e,data:t,programAddress:n})=>({programAddressIndex:r[n],...e?{accountIndices:e.map(({address:e})=>r[e])}:null,...t?{data:t}:null}))}(e.instructions,r),staticAccounts:function(e){let t=e.findIndex(e=>"lookupTableAddress"in e);return(-1===t?e:e.slice(0,t)).map(({address:e})=>e)}(r),version:e.version}}function B(e){return Object.freeze({instructions:Object.freeze([]),version:e.version})}var j="SysvarRecentB1ockHashes11111111111111111111",L="11111111111111111111111111111111";function F(e,t){return{accounts:[{address:e,role:y.Uv.WRITABLE},{address:j,role:y.Uv.READONLY},{address:t,role:y.Uv.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:L}}function $(e){var t;return e.programAddress===L&&null!=e.data&&4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&e.accounts?.length===3&&null!=e.accounts[0].address&&e.accounts[0].role===y.Uv.WRITABLE&&e.accounts[1].address===j&&e.accounts[1].role===y.Uv.READONLY&&null!=e.accounts[2].address&&(0,y.tZ)(e.accounts[2].role)}function z(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&$(e.instructions[0])}function q(e,t){var r;return r=[e],Object.freeze({...t,instructions:Object.freeze([...t.instructions,...r])})}function W(e,t){let r=e.staticAccounts[0];if(!r)throw new c.tsw(c.eZ6);let n=[...function(e){let{header:t}=e,r=t.numSignerAccounts-t.numReadonlySignerAccounts,n=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,i=[],s=0;for(let t=0;t<r;t++)i.push({address:e.staticAccounts[s],role:y.Uv.WRITABLE_SIGNER}),s++;for(let r=0;r<t.numReadonlySignerAccounts;r++)i.push({address:e.staticAccounts[s],role:y.Uv.READONLY_SIGNER}),s++;for(let t=0;t<n;t++)i.push({address:e.staticAccounts[s],role:y.Uv.WRITABLE}),s++;for(let r=0;r<t.numReadonlyNonSignerAccounts;r++)i.push({address:e.staticAccounts[s],role:y.Uv.READONLY}),s++;return i}(e),..."addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){let r=e.map(e=>e.lookupTableAddress).filter(e=>void 0===t[e]);if(r.length>0)throw new c.tsw(c.Vjw,{lookupTableAddresses:r});let n=[],i=[];for(let r of e){let e=t[r.lookupTableAddress],s=r.readonlyIndexes,a=r.writableIndexes,o=Math.max(...s,...a);if(o>=e.length)throw new c.tsw(c.t_l,{highestKnownIndex:e.length-1,highestRequestedIndex:o,lookupTableAddress:r.lookupTableAddress});let l=s.map(t=>({address:e[t],addressIndex:t,lookupTableAddress:r.lookupTableAddress,role:y.Uv.READONLY}));n.push(...l);let u=a.map(t=>({address:e[t],addressIndex:t,lookupTableAddress:r.lookupTableAddress,role:y.Uv.WRITABLE}));i.push(...u)}return[...i,...n]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[]],i=e.instructions.map(e=>(function(e,t){let r=t[e.programAddressIndex]?.address;if(!r)throw new c.tsw(c.MQP,{index:e.programAddressIndex});let n=e.accountIndices?.map(e=>t[e]),{data:i}=e;return Object.freeze({programAddress:r,...n&&n.length?{accounts:Object.freeze(n)}:{},...i&&i.length?{data:i}:{}})})(e,n)),s=i[0],a=function(e,t,r){if(!t||!$(t))return{blockhash:e,lastValidBlockHeight:r??2n**64n-1n};{let r=t.accounts[0].address;(0,d.Vm)(r);let n=t.accounts[2].address;return(0,d.Vm)(n),{nonce:e,nonceAccountAddress:r,nonceAuthorityAddress:n}}}(e.lifetimeToken,s,t?.lastValidBlockHeight);return(0,g.F)(B({version:e.version}),e=>(function(e,t){var r;if("feePayer"in t&&e===t.feePayer?.address&&(r=t.feePayer)&&"address"in r&&"string"==typeof r.address&&1===Object.keys(r).length)return t;let n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n})(r,e),e=>i.reduce((e,t)=>q(t,e),e),e=>"blockhash"in a?b(a,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:r},n){let i;let s=n.instructions[0];if(s&&$(s)){if(s.accounts[0].address===t&&s.accounts[2].address===r){if(z(n)&&n.lifetimeConstraint.nonce===e)return n;i=[s,...n.instructions.slice(1)]}else i=[Object.freeze(F(t,r)),...n.instructions.slice(1)]}else i=[Object.freeze(F(t,r)),...n.instructions];return Object.freeze({...n,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:e})})}(a,e))}},62641:(e,t,r)=>{"use strict";r.d(t,{BX:()=>f,RO:()=>m,i5:()=>y,iW:()=>g,l9:()=>h});var n=r(87918),i=r(33299),s=r(85731),a=r(3896),o=r(46967),l=r(55579),c=r(41164),u=r(9500);function d(e){let t=Object.values(e);if(0===t.length)throw new o.tsw(o.BUQ);return t.map(e=>e||new Uint8Array(64).fill(0))}function h(){return(0,s.a5)([["signatures",(0,i.FU)((0,s.is)((0,i.Ns)((0,s.Im)(),64),{size:(0,a.tD)()}),d)],["messageBytes",(0,s.Im)()]])}function f(){return(0,i.vt)((0,s.ci)([["signatures",(0,s.O_)((0,i.pI)((0,s.EK)(),64),{size:(0,a.vU)()})],["messageBytes",(0,s.EK)()]]),p)}function p(e){let{messageBytes:t,signatures:r}=e,[c,u,d]=(0,s.xQ)([(0,l.N0)(),(0,i.iO)((0,a.eh)(),2),(0,s.O_)((0,n.Xg)(),{size:(0,a.vU)()})]).decode(t),h=d.slice(0,u);if(h.length!==r.length)throw new o.tsw(o.Ipf,{numRequiredSignatures:u,signaturesLength:r.length,signerAddresses:h});let f={};return h.forEach((e,t)=>{let n=r[t];n.every(e=>0===e)?f[e]=null:f[e]=n}),{messageBytes:t,signatures:Object.freeze(f)}}function y(e){let t;let r=(0,l.rt)(e),n=(0,l.dU)().encode(r),i=r.staticAccounts.slice(0,r.header.numSignerAccounts),s={};for(let e of i)s[e]=null;return(0,l.q0)(e)?t={blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:(0,l.vm)(e)&&(t={nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address}),Object.freeze({...t?{lifetimeConstraint:t}:void 0,messageBytes:n,signatures:Object.freeze(s)})}async function g(e,t){let r,i;if(await Promise.all(e.map(async e=>{let s=await (0,n.Tq)(e.publicKey),a=t.signatures[s];if(void 0===a){(i||=new Set).add(s);return}if(i)return;let o=await (0,u.b_)(e.privateKey,t.messageBytes);null!==a&&o.length===a.length&&o.every((e,t)=>e===a[t])||((r||={})[s]=o)})),i&&i.size>0){let e=Object.keys(t.signatures);throw new o.tsw(o.Ngb,{expectedAddresses:e,unexpectedAddresses:[...i]})}return r?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...r})}):t}function m(e){let t=h().encode(e);return(0,c.Ul)().decode(t)}},34017:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n=r(99323),i=r(84403),s=new class extends n.Q{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!i.S$&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}}},1049:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,s:()=>a});var n=r(15586),i=r(2955),s=r(14267),a=class extends i.k{#n;#i;#s;#a;constructor(e){super(),this.#n=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#i=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#i.includes(e)||(this.#i.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#i=this.#i.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#i.length||("pending"===this.state.status?this.scheduleGc():this.#s.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#o({type:"continue"})},r={client:this.#n,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=(0,s.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#o({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#o({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});let n="pending"===this.state.status,i=!this.#a.canStart();try{if(n)t();else{this.#o({type:"pending",variables:e,isPaused:i}),await this.#s.config.onMutate?.(e,this,r);let t=await this.options.onMutate?.(e,r);t!==this.state.context&&this.#o({type:"pending",context:t,variables:e,isPaused:i})}let s=await this.#a.start();return await this.#s.config.onSuccess?.(s,e,this.state.context,this,r),await this.options.onSuccess?.(s,e,this.state.context,r),await this.#s.config.onSettled?.(s,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(s,null,e,this.state.context,r),this.#o({type:"success",data:s}),s}catch(t){try{throw await this.#s.config.onError?.(t,e,this.state.context,this,r),await this.options.onError?.(t,e,this.state.context,r),await this.#s.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,t,e,this.state.context,r),t}finally{this.#o({type:"error",error:t})}}finally{this.#s.runNext(this)}}#o(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),n.jG.batch(()=>{this.#i.forEach(t=>{t.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},15586:(e,t,r)=>{"use strict";r.d(t,{jG:()=>i});var n=r(71768).Zq,i=function(){let e=[],t=0,r=e=>{e()},i=e=>{e()},s=n,a=n=>{t?e.push(n):s(()=>{r(n)})},o=()=>{let t=e;e=[],t.length&&s(()=>{i(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||o()}return r},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{i=e},setScheduler:e=>{s=e}}}()},38248:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(99323),i=r(84403),s=new class extends n.Q{#l=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!i.S$&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#l!==e&&(this.#l=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#l}}},47702:(e,t,r)=>{"use strict";r.d(t,{X:()=>o,k:()=>l});var n=r(84403),i=r(15586),s=r(14267),a=r(2955),o=class extends a.k{#c;#u;#d;#n;#a;#h;#f;constructor(e){super(),this.#f=!1,this.#h=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#d=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#c=u(this.options),this.state=e.state??this.#c,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){if(this.options={...this.#h,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=u(this.options);void 0!==e.data&&(this.setState(c(e.data,e.dataUpdatedAt)),this.#c=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#d.remove(this)}setData(e,t){let r=(0,n.pl)(this.state.data,e,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#a?.promise;return this.#a?.cancel(e),t?t.then(n.lQ).catch(n.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#c)}isActive(){return this.observers.some(e=>!1!==(0,n.Eh)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===n.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===(0,n.d2)(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,n.j3)(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#d.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#a&&(this.#f?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#d.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&this.#a?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let r=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#f=!0,r.signal)})},a=()=>{let e=(0,n.ZM)(this.options,t),r=(()=>{let e={client:this.#n,queryKey:this.queryKey,meta:this.meta};return i(e),e})();return(this.#f=!1,this.options.persister)?this.options.persister(e,r,this):e(r)},o=(()=>{let e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return i(e),e})();this.options.behavior?.onFetch(o,this),this.#u=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta}),this.#a=(0,s.II)({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:e=>{e instanceof s.cc&&e.revert&&this.setState({...this.#u,fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{this.#o({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{let e=await this.#a.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#d.config.onSuccess?.(e,this),this.#d.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof s.cc){if(e.silent)return this.#a.promise;if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#o({type:"error",error:e}),this.#d.config.onError?.(e,this),this.#d.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#o(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...l(t.data,this.options),fetchMeta:e.meta??null};case"success":let r={...t,...c(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#u=e.manual?r:void 0,r;case"error":let n=e.error;return{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),i.jG.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#d.notify({query:this,type:"updated",action:e})})}};function l(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,s.v_)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function c(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function u(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}},16977:(e,t,r)=>{"use strict";r.d(t,{E:()=>y});var n=r(84403),i=r(47702),s=r(15586),a=r(99323),o=class extends a.Q{constructor(e={}){super(),this.config=e,this.#p=new Map}#p;build(e,t,r){let s=t.queryKey,a=t.queryHash??(0,n.F$)(s,t),o=this.get(a);return o||(o=new i.X({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){this.#p.has(e.queryHash)||(this.#p.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#p.get(e.queryHash);t&&(e.destroy(),t===e&&this.#p.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){s.jG.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#p.get(e)}getAll(){return[...this.#p.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n.MK)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,n.MK)(e,t)):t}notify(e){s.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){s.jG.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){s.jG.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},l=r(1049),c=class extends a.Q{constructor(e={}){super(),this.config=e,this.#y=new Set,this.#g=new Map,this.#m=0}#y;#g;#m;build(e,t,r){let n=new l.s({client:e,mutationCache:this,mutationId:++this.#m,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#y.add(e);let t=u(e);if("string"==typeof t){let r=this.#g.get(t);r?r.push(e):this.#g.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#y.delete(e)){let t=u(e);if("string"==typeof t){let r=this.#g.get(t);if(r){if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#g.delete(t)}}}this.notify({type:"removed",mutation:e})}canRun(e){let t=u(e);if("string"!=typeof t)return!0;{let r=this.#g.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=u(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#g.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){s.jG.batch(()=>{this.#y.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#y.clear(),this.#g.clear()})}getAll(){return Array.from(this.#y)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n.nJ)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,n.nJ)(e,t))}notify(e){s.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return s.jG.batch(()=>Promise.all(e.map(e=>e.continue().catch(n.lQ))))}};function u(e){return e.options.scope?.id}var d=r(34017),h=r(38248);function f(e){return{onFetch:(t,r)=>{let i=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},c=0,u=async()=>{let r=!1,u=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)})},d=(0,n.ZM)(t.options,t.fetchOptions),h=async(e,i,s)=>{if(r)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);let a=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:i,direction:s?"backward":"forward",meta:t.options.meta};return u(e),e})(),o=await d(a),{maxPages:l}=t.options,c=s?n.ZZ:n.y9;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,i,l)}};if(s&&a.length){let e="backward"===s,t={pages:a,pageParams:o},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:p)(i,t);l=await h(t,r,e)}else{let t=e??a.length;do{let e=0===c?o[0]??i.initialPageParam:p(i,l);if(c>0&&null==e)break;l=await h(l,e),c++}while(c<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function p(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}var y=class{#b;#s;#h;#w;#v;#_;#x;#E;constructor(e={}){this.#b=e.queryCache||new o,this.#s=e.mutationCache||new c,this.#h=e.defaultOptions||{},this.#w=new Map,this.#v=new Map,this.#_=0}mount(){this.#_++,1===this.#_&&(this.#x=d.m.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#b.onFocus())}),this.#E=h.t.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#b.onOnline())}))}unmount(){this.#_--,0===this.#_&&(this.#x?.(),this.#x=void 0,this.#E?.(),this.#E=void 0)}isFetching(e){return this.#b.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#s.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#b.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#b.build(this,t),i=r.state.data;return void 0===i?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,n.d2)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#b.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let i=this.defaultQueryOptions({queryKey:e}),s=this.#b.get(i.queryHash),a=s?.state.data,o=(0,n.Zw)(t,a);if(void 0!==o)return this.#b.build(this,i).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return s.jG.batch(()=>this.#b.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#b.get(t.queryHash)?.state}removeQueries(e){let t=this.#b;s.jG.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#b;return s.jG.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(s.jG.batch(()=>this.#b.findAll(e).map(e=>e.cancel(r)))).then(n.lQ).catch(n.lQ)}invalidateQueries(e,t={}){return s.jG.batch(()=>(this.#b.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(s.jG.batch(()=>this.#b.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(n.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(n.lQ)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#b.build(this,t);return r.isStaleByTime((0,n.d2)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(n.lQ).catch(n.lQ)}fetchInfiniteQuery(e){return e.behavior=f(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(n.lQ).catch(n.lQ)}ensureInfiniteQueryData(e){return e.behavior=f(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return h.t.isOnline()?this.#s.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#b}getMutationCache(){return this.#s}getDefaultOptions(){return this.#h}setDefaultOptions(e){this.#h=e}setQueryDefaults(e,t){this.#w.set((0,n.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#w.values()],r={};return t.forEach(t=>{(0,n.Cp)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#v.set((0,n.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#v.values()],r={};return t.forEach(t=>{(0,n.Cp)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#h.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,n.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===n.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#h.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#b.clear(),this.#s.clear()}}},2955:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});var n=r(71768),i=r(84403),s=class{#I;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,i.gn)(this.gcTime)&&(this.#I=n.zs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(i.S$?1/0:3e5))}clearGcTimeout(){this.#I&&(n.zs.clearTimeout(this.#I),this.#I=void 0)}}},14267:(e,t,r)=>{"use strict";r.d(t,{II:()=>u,cc:()=>c,v_:()=>l});var n=r(34017),i=r(38248),s=r(41277),a=r(84403);function o(e){return Math.min(1e3*2**e,3e4)}function l(e){return(e??"online")!=="online"||i.t.isOnline()}var c=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function u(e){let t,r=!1,u=0,d=(0,s.T)(),h=()=>"pending"!==d.status,f=()=>n.m.isFocused()&&("always"===e.networkMode||i.t.isOnline())&&e.canRun(),p=()=>l(e.networkMode)&&e.canRun(),y=e=>{h()||(t?.(),d.resolve(e))},g=e=>{h()||(t?.(),d.reject(e))},m=()=>new Promise(r=>{t=e=>{(h()||f())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,h()||e.onContinue?.()}),b=()=>{let t;if(h())return;let n=0===u?e.initialPromise:void 0;try{t=n??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(y).catch(t=>{if(h())return;let n=e.retry??(a.S$?0:3),i=e.retryDelay??o,s="function"==typeof i?i(u,t):i,l=!0===n||"number"==typeof n&&u<n||"function"==typeof n&&n(u,t);if(r||!l){g(t);return}u++,e.onFail?.(u,t),(0,a.yy)(s).then(()=>f()?void 0:m()).then(()=>{r?g(t):b()})})};return{promise:d,status:()=>d.status,cancel:t=>{if(!h()){let r=new c(t);g(r),e.onCancel?.(r)}},continue:()=>(t?.(),d),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:p,start:()=>(p()?b():m().then(b),d)}}},99323:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},41277:(e,t,r)=>{"use strict";function n(){let e,t;let r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}r.d(t,{T:()=>n})},71768:(e,t,r)=>{"use strict";r.d(t,{Zq:()=>s,zs:()=>i});var n={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},i=new class{#A=n;#S=!1;setTimeoutProvider(e){this.#A=e}setTimeout(e,t){return this.#A.setTimeout(e,t)}clearTimeout(e){this.#A.clearTimeout(e)}setInterval(e,t){return this.#A.setInterval(e,t)}clearInterval(e){this.#A.clearInterval(e)}};function s(e){setTimeout(e,0)}},84403:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>y,EN:()=>p,Eh:()=>u,F$:()=>f,GU:()=>k,MK:()=>d,S$:()=>i,ZM:()=>S,ZZ:()=>I,Zw:()=>a,d2:()=>c,f8:()=>m,gn:()=>o,hT:()=>A,j3:()=>l,lQ:()=>s,nJ:()=>h,pl:()=>x,y9:()=>E,yy:()=>_});var n=r(71768),i="undefined"==typeof window||"Deno"in globalThis;function s(){}function a(e,t){return"function"==typeof e?e(t):e}function o(e){return"number"==typeof e&&e>=0&&e!==1/0}function l(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c(e,t){return"function"==typeof e?e(t):e}function u(e,t){return"function"==typeof e?e(t):e}function d(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==f(a,t.options))return!1}else if(!y(t.queryKey,a))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!i||i===t.state.fetchStatus)&&(!s||!!s(t))}function h(e,t){let{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(p(t.options.mutationKey)!==p(s))return!1}else if(!y(t.options.mutationKey,s))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function f(e,t){return(t?.queryKeyHashFn||p)(e)}function p(e){return JSON.stringify(e,(e,t)=>w(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function y(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>y(e[r],t[r]))}var g=Object.prototype.hasOwnProperty;function m(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function b(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function w(e){if(!v(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!(v(r)&&r.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(e)===Object.prototype}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function _(e){return new Promise(t=>{n.zs.setTimeout(t,e)})}function x(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let n=b(t)&&b(r);if(!n&&!(w(t)&&w(r)))return r;let i=(n?t:Object.keys(t)).length,s=n?r:Object.keys(r),a=s.length,o=n?Array(a):{},l=0;for(let c=0;c<a;c++){let a=n?c:s[c],u=t[a],d=r[a];if(u===d){o[a]=u,(n?c<i:g.call(t,a))&&l++;continue}if(null===u||null===d||"object"!=typeof u||"object"!=typeof d){o[a]=d;continue}let h=e(u,d);o[a]=h,h===u&&l++}return i===a&&l===i?t:o}(e,t):t}function E(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function I(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var A=Symbol();function S(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==A?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function k(e,t){return"function"==typeof e?e(...t):!!e}},35906:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>o,jE:()=>a});var n=r(12115),i=r(95155),s=n.createContext(void 0),a=e=>{let t=n.useContext(s);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},o=e=>{let{client:t,children:r}=e;return n.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,i.jsx)(s.Provider,{value:t,children:r})}},25848:(e,t,r)=>{"use strict";r.d(t,{n:()=>u});var n=r(12115),i=r(1049),s=r(15586),a=r(99323),o=r(84403),l=class extends a.Q{#n;#k=void 0;#C;#T;constructor(e,t){super(),this.#n=e,this.setOptions(t),this.bindMethods(),this.#O()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#n.defaultMutationOptions(e),(0,o.f8)(this.options,t)||this.#n.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#C,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.EN)(t.mutationKey)!==(0,o.EN)(this.options.mutationKey)?this.reset():this.#C?.state.status==="pending"&&this.#C.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#C?.removeObserver(this)}onMutationUpdate(e){this.#O(),this.#P(e)}getCurrentResult(){return this.#k}reset(){this.#C?.removeObserver(this),this.#C=void 0,this.#O(),this.#P()}mutate(e,t){return this.#T=t,this.#C?.removeObserver(this),this.#C=this.#n.getMutationCache().build(this.#n,this.options),this.#C.addObserver(this),this.#C.execute(e)}#O(){let e=this.#C?.state??(0,i.$)();this.#k={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#P(e){s.jG.batch(()=>{if(this.#T&&this.hasListeners()){let t=this.#k.variables,r=this.#k.context,n={client:this.#n,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#T.onSuccess?.(e.data,t,r,n),this.#T.onSettled?.(e.data,null,t,r,n)):e?.type==="error"&&(this.#T.onError?.(e.error,t,r,n),this.#T.onSettled?.(void 0,e.error,t,r,n))}this.listeners.forEach(e=>{e(this.#k)})})}},c=r(35906);function u(e,t){let r=(0,c.jE)(t),[i]=n.useState(()=>new l(r,e));n.useEffect(()=>{i.setOptions(e)},[i,e]);let a=n.useSyncExternalStore(n.useCallback(e=>i.subscribe(s.jG.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=n.useCallback((e,t)=>{i.mutate(e,t).catch(o.lQ)},[i]);if(a.error&&(0,o.GU)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:u,mutateAsync:a.mutate}}},39556:(e,t,r)=>{"use strict";r.d(t,{I:()=>C});var n=r(34017),i=r(15586),s=r(47702),a=r(99323),o=r(41277),l=r(84403),c=r(71768),u=class extends a.Q{constructor(e,t){super(),this.options=t,this.#n=e,this.#R=null,this.#D=(0,o.T)(),this.bindMethods(),this.setOptions(t)}#n;#N=void 0;#U=void 0;#k=void 0;#M;#B;#D;#R;#j;#L;#F;#$;#z;#q;#W=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#N.addObserver(this),d(this.#N,this.options)?this.#H():this.updateResult(),this.#V())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h(this.#N,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h(this.#N,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#K(),this.#G(),this.#N.removeObserver(this)}setOptions(e){let t=this.options,r=this.#N;if(this.options=this.#n.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.Eh)(this.options.enabled,this.#N))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#Z(),this.#N.setOptions(this.options),t._defaulted&&!(0,l.f8)(this.options,t)&&this.#n.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#N,observer:this});let n=this.hasListeners();n&&f(this.#N,r,this.options,t)&&this.#H(),this.updateResult(),n&&(this.#N!==r||(0,l.Eh)(this.options.enabled,this.#N)!==(0,l.Eh)(t.enabled,this.#N)||(0,l.d2)(this.options.staleTime,this.#N)!==(0,l.d2)(t.staleTime,this.#N))&&this.#J();let i=this.#Y();n&&(this.#N!==r||(0,l.Eh)(this.options.enabled,this.#N)!==(0,l.Eh)(t.enabled,this.#N)||i!==this.#q)&&this.#Q(i)}getOptimisticResult(e){let t=this.#n.getQueryCache().build(this.#n,e),r=this.createResult(t,e);return(0,l.f8)(this.getCurrentResult(),r)||(this.#k=r,this.#B=this.options,this.#M=this.#N.state),r}getCurrentResult(){return this.#k}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"!==r||(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#D.status||this.#D.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#W.add(e)}getCurrentQuery(){return this.#N}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#n.defaultQueryOptions(e),r=this.#n.getQueryCache().build(this.#n,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#H({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#k))}#H(e){this.#Z();let t=this.#N.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.lQ)),t}#J(){this.#K();let e=(0,l.d2)(this.options.staleTime,this.#N);if(l.S$||this.#k.isStale||!(0,l.gn)(e))return;let t=(0,l.j3)(this.#k.dataUpdatedAt,e);this.#$=c.zs.setTimeout(()=>{this.#k.isStale||this.updateResult()},t+1)}#Y(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#N):this.options.refetchInterval)??!1}#Q(e){this.#G(),this.#q=e,!l.S$&&!1!==(0,l.Eh)(this.options.enabled,this.#N)&&(0,l.gn)(this.#q)&&0!==this.#q&&(this.#z=c.zs.setInterval(()=>{(this.options.refetchIntervalInBackground||n.m.isFocused())&&this.#H()},this.#q))}#V(){this.#J(),this.#Q(this.#Y())}#K(){this.#$&&(c.zs.clearTimeout(this.#$),this.#$=void 0)}#G(){this.#z&&(c.zs.clearInterval(this.#z),this.#z=void 0)}createResult(e,t){let r;let n=this.#N,i=this.options,a=this.#k,c=this.#M,u=this.#B,h=e!==n?e.state:this.#U,{state:y}=e,g={...y},m=!1;if(t._optimisticResults){let r=this.hasListeners(),a=!r&&d(e,t),o=r&&f(e,n,t,i);(a||o)&&(g={...g,...(0,s.k)(y.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:w,status:v}=g;r=g.data;let _=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===v){let e;a?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(e=a.data,_=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#F?.state.data,this.#F):t.placeholderData,void 0!==e&&(v="success",r=(0,l.pl)(a?.data,e,t),m=!0)}if(t.select&&void 0!==r&&!_){if(a&&r===c?.data&&t.select===this.#j)r=this.#L;else try{this.#j=t.select,r=t.select(r),r=(0,l.pl)(a?.data,r,t),this.#L=r,this.#R=null}catch(e){this.#R=e}}this.#R&&(b=this.#R,r=this.#L,w=Date.now(),v="error");let x="fetching"===g.fetchStatus,E="pending"===v,I="error"===v,A=E&&x,S=void 0!==r,k={status:v,fetchStatus:g.fetchStatus,isPending:E,isSuccess:"success"===v,isError:I,isInitialLoading:A,isLoading:A,data:r,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:w,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:x,isRefetching:x&&!E,isLoadingError:I&&!S,isPaused:"paused"===g.fetchStatus,isPlaceholderData:m,isRefetchError:I&&S,isStale:p(e,t),refetch:this.refetch,promise:this.#D,isEnabled:!1!==(0,l.Eh)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===k.status?e.reject(k.error):void 0!==k.data&&e.resolve(k.data)},r=()=>{t(this.#D=k.promise=(0,o.T)())},i=this.#D;switch(i.status){case"pending":e.queryHash===n.queryHash&&t(i);break;case"fulfilled":("error"===k.status||k.data!==i.value)&&r();break;case"rejected":("error"!==k.status||k.error!==i.reason)&&r()}}return k}updateResult(){let e=this.#k,t=this.createResult(this.#N,this.options);this.#M=this.#N.state,this.#B=this.options,void 0!==this.#M.data&&(this.#F=this.#N),(0,l.f8)(t,e)||(this.#k=t,this.#P({listeners:(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#W.size)return!0;let n=new Set(r??this.#W);return this.options.throwOnError&&n.add("error"),Object.keys(this.#k).some(t=>this.#k[t]!==e[t]&&n.has(t))})()}))}#Z(){let e=this.#n.getQueryCache().build(this.#n,this.options);if(e===this.#N)return;let t=this.#N;this.#N=e,this.#U=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#V()}#P(e){i.jG.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#k)}),this.#n.getQueryCache().notify({query:this.#N,type:"observerResultsUpdated"})})}};function d(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)||void 0!==e.state.data&&h(e,t,t.refetchOnMount)}function h(e,t,r){if(!1!==(0,l.Eh)(t.enabled,e)&&"static"!==(0,l.d2)(t.staleTime,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&p(e,t)}return!1}function f(e,t,r,n){return(e!==t||!1===(0,l.Eh)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&p(e,r)}function p(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&e.isStaleByTime((0,l.d2)(t.staleTime,e))}var y=r(12115),g=r(35906);r(95155);var m=y.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),b=()=>y.useContext(m),w=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&!t.isReset()&&(e.retryOnMount=!1)},v=e=>{y.useEffect(()=>{e.clearReset()},[e])},_=e=>{let{result:t,errorResetBoundary:r,throwOnError:n,query:i,suspense:s}=e;return t.isError&&!r.isReset()&&!t.isFetching&&i&&(s&&void 0===t.data||(0,l.GU)(n,[t.error,i]))},x=y.createContext(!1),E=()=>y.useContext(x);x.Provider;var I=e=>{if(e.suspense){let t=e=>"static"===e?e:Math.max(e??1e3,1e3),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>t(r(...e)):t(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}},A=(e,t)=>e.isLoading&&e.isFetching&&!t,S=(e,t)=>e?.suspense&&t.isPending,k=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function C(e,t){return function(e,t,r){var n,s,a,o,c;let u=E(),d=b(),h=(0,g.jE)(r),f=h.defaultQueryOptions(e);null===(s=h.getDefaultOptions().queries)||void 0===s||null===(n=s._experimental_beforeQuery)||void 0===n||n.call(s,f),f._optimisticResults=u?"isRestoring":"optimistic",I(f),w(f,d),v(d);let p=!h.getQueryCache().get(f.queryHash),[m]=y.useState(()=>new t(h,f)),x=m.getOptimisticResult(f),C=!u&&!1!==e.subscribed;if(y.useSyncExternalStore(y.useCallback(e=>{let t=C?m.subscribe(i.jG.batchCalls(e)):l.lQ;return m.updateResult(),t},[m,C]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),y.useEffect(()=>{m.setOptions(f)},[f,m]),S(f,x))throw k(f,m,d);if(_({result:x,errorResetBoundary:d,throwOnError:f.throwOnError,query:h.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw x.error;if(null===(o=h.getDefaultOptions().queries)||void 0===o||null===(a=o._experimental_afterQuery)||void 0===a||a.call(o,f,x),f.experimental_prefetchInRender&&!l.S$&&A(x,u)){let e=p?k(f,m,d):null===(c=h.getQueryCache().get(f.queryHash))||void 0===c?void 0:c.promise;null==e||e.catch(l.lQ).finally(()=>{m.updateResult()})}return f.notifyOnChangeProps?x:m.trackResult(x)}(e,u,t)}},23454:(e,t,r)=>{"use strict";function n(e){let t=e.state.current,r=e.state.connections.get(t),n=r?.accounts,i=n?.[0],s=e.chains.find(e=>e.id===r?.chainId),a=e.state.status;switch(a){case"connected":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:i,addresses:n,chain:s,chainId:r?.chainId,connector:r?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}r.d(t,{s:()=>n})},19362:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});let n=!1;async function i(e,t={}){let r;if(n)return[];n=!0,e.setState(e=>({...e,status:e.current?"reconnecting":"connecting"}));let s=[];if(t.connectors?.length)for(let r of t.connectors){let t;t="function"==typeof r?e._internal.connectors.setup(r):r,s.push(t)}else s.push(...e.connectors);try{r=await e.storage?.getItem("recentConnectorId")}catch{}let a={};for(let[,t]of e.state.connections)a[t.connector.id]=1;r&&(a[r]=0);let o=Object.keys(a).length>0?[...s].sort((e,t)=>(a[e.id]??10)-(a[t.id]??10)):s,l=!1,c=[],u=[];for(let t of o){let r=await t.getProvider().catch(()=>void 0);if(!r||u.some(e=>e===r)||!await t.isAuthorized())continue;let n=await t.connect({isReconnecting:!0}).catch(()=>null);n&&(t.emitter.off("connect",e._internal.events.connect),t.emitter.on("change",e._internal.events.change),t.emitter.on("disconnect",e._internal.events.disconnect),e.setState(e=>{let r=new Map(l?e.connections:new Map).set(t.uid,{accounts:n.accounts,chainId:n.chainId,connector:t});return{...e,current:l?e.current:t.uid,connections:r}}),c.push({accounts:n.accounts,chainId:n.chainId,connector:t}),u.push(r),l=!0)}return("reconnecting"===e.state.status||"connecting"===e.state.status)&&(l?e.setState(e=>({...e,status:"connected"})):e.setState(e=>({...e,connections:new Map,current:null,status:"disconnected"}))),n=!1,c}},12443:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(36919),i=r(23454);function s(e,t){let{onChange:r}=t;return e.subscribe(()=>(0,i.s)(e),r,{equalityFn(e,t){let{connector:r,...i}=e,{connector:s,...a}=t;return(0,n.b)(i,a)&&r?.id===s?.id&&r?.uid===s?.uid}})}},15399:(e,t,r)=>{"use strict";r.d(t,{b:()=>u});var n=r(40814),i=r(76790),s=r(40772),a=r(9869),o=r(98979),l=r(22537),c=r(77434);function u(e={}){let t,r,f,p;let{shimDisconnect:y=!0,unstable_shimAsyncInject:g}=e;function m(){let t=e.target;if("function"==typeof t){let e=t();if(e)return e}return"object"==typeof t?t:"string"==typeof t?{...d[t]??{id:t,name:`${t[0].toUpperCase()}${t.slice(1)}`,provider:`is${t[0].toUpperCase()}${t.slice(1)}`}}:{id:"injected",name:"Injected",provider:e=>e?.ethereum}}return d=>({get icon(){return m().icon},get id(){return m().id},get name(){return m().name},get supportsSimulation(){return!0},type:u.type,async setup(){let r=await this.getProvider();r?.on&&e.target&&(f||(f=this.onConnect.bind(this),r.on("connect",f)),t||(t=this.onAccountsChanged.bind(this),r.on("accountsChanged",t)))},async connect({chainId:s,isReconnecting:a,withCapabilities:o}={}){let l=await this.getProvider();if(!l)throw new c.N;let u=[];if(a)u=await this.getAccounts().catch(()=>[]);else if(y)try{let e=await l.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});(u=e[0]?.caveats?.[0]?.value?.map(e=>n.b(e))).length>0&&(u=await this.getAccounts())}catch(e){if(e.code===i.vx.code)throw new i.vx(e);if(e.code===i.qZ.code)throw e}try{u?.length||a||(u=(await l.request({method:"eth_requestAccounts"})).map(e=>(0,n.b)(e))),f&&(l.removeListener("connect",f),f=void 0),t||(t=this.onAccountsChanged.bind(this),l.on("accountsChanged",t)),r||(r=this.onChainChanged.bind(this),l.on("chainChanged",r)),p||(p=this.onDisconnect.bind(this),l.on("disconnect",p));let c=await this.getChainId();if(s&&c!==s){let e=await this.switchChain({chainId:s}).catch(e=>{if(e.code===i.vx.code)throw e;return{id:c}});c=e?.id??c}return y&&await d.storage?.removeItem(`${this.id}.disconnected`),e.target||await d.storage?.setItem("injected.connected",!0),{accounts:o?u.map(e=>({address:e,capabilities:{}})):u,chainId:c}}catch(e){if(e.code===i.vx.code)throw new i.vx(e);if(e.code===i.qZ.code)throw new i.qZ(e);throw e}},async disconnect(){let t=await this.getProvider();if(!t)throw new c.N;r&&(t.removeListener("chainChanged",r),r=void 0),p&&(t.removeListener("disconnect",p),p=void 0),f||(f=this.onConnect.bind(this),t.on("connect",f));try{await (0,s.w)(()=>t.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}y&&await d.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await d.storage?.removeItem("injected.connected")},async getAccounts(){let e=await this.getProvider();if(!e)throw new c.N;return(await e.request({method:"eth_accounts"})).map(e=>(0,n.b)(e))},async getChainId(){let e=await this.getProvider();if(!e)throw new c.N;return Number(await e.request({method:"eth_chainId"}))},async getProvider(){let e;if("undefined"==typeof window)return;let t=m();return(e="function"==typeof t.provider?t.provider(window):"string"==typeof t.provider?h(window,t.provider):t.provider)&&!e.removeListener&&("off"in e&&"function"==typeof e.off?e.removeListener=e.off:e.removeListener=()=>{}),e},async isAuthorized(){try{if(y&&await d.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await d.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(void 0!==g&&!1!==g){let e=async()=>("undefined"!=typeof window&&window.removeEventListener("ethereum#initialized",e),!!await this.getProvider()),t="number"==typeof g?g:1e3;if(await Promise.race([..."undefined"!=typeof window?[new Promise(t=>window.addEventListener("ethereum#initialized",()=>t(e()),{once:!0}))]:[],new Promise(r=>setTimeout(()=>r(e()),t))]))return!0}throw new c.N}return!!(await (0,a.b)(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:t}){let r=await this.getProvider();if(!r)throw new c.N;let n=d.chains.find(e=>e.id===t);if(!n)throw new i.ch(new l.nk);let s=new Promise(e=>{let r=n=>{"chainId"in n&&n.chainId===t&&(d.emitter.off("change",r),e())};d.emitter.on("change",r)});try{return await Promise.all([r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,o.cK)(t)}]}).then(async()=>{await this.getChainId()===t&&d.emitter.emit("change",{chainId:t})}),s]),n}catch(a){if(4902===a.code||a?.data?.originalError?.code===4902)try{let a,l;let{default:c,...u}=n.blockExplorers??{};e?.blockExplorerUrls?a=e.blockExplorerUrls:c&&(a=[c.url,...Object.values(u).map(e=>e.url)]),l=e?.rpcUrls?.length?e.rpcUrls:[n.rpcUrls.default?.http[0]??""];let h={blockExplorerUrls:a,chainId:(0,o.cK)(t),chainName:e?.chainName??n.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??n.nativeCurrency,rpcUrls:l};return await Promise.all([r.request({method:"wallet_addEthereumChain",params:[h]}).then(async()=>{if(await this.getChainId()===t)d.emitter.emit("change",{chainId:t});else throw new i.vx(Error("User rejected switch after adding network."))}),s]),n}catch(e){throw new i.vx(e)}if(a.code===i.vx.code)throw new i.vx(a);throw new i.ch(a)}},async onAccountsChanged(e){if(0===e.length)this.onDisconnect();else if(d.emitter.listenerCount("connect")){let e=(await this.getChainId()).toString();this.onConnect({chainId:e}),y&&await d.storage?.removeItem(`${this.id}.disconnected`)}else d.emitter.emit("change",{accounts:e.map(e=>(0,n.b)(e))})},onChainChanged(e){let t=Number(e);d.emitter.emit("change",{chainId:t})},async onConnect(e){let n=await this.getAccounts();if(0===n.length)return;let i=Number(e.chainId);d.emitter.emit("connect",{accounts:n,chainId:i});let s=await this.getProvider();s&&(f&&(s.removeListener("connect",f),f=void 0),t||(t=this.onAccountsChanged.bind(this),s.on("accountsChanged",t)),r||(r=this.onChainChanged.bind(this),s.on("chainChanged",r)),p||(p=this.onDisconnect.bind(this),s.on("disconnect",p)))},async onDisconnect(e){let t=await this.getProvider();e&&1013===e.code&&t&&(await this.getAccounts()).length||(d.emitter.emit("disconnect"),t&&(r&&(t.removeListener("chainChanged",r),r=void 0),p&&(t.removeListener("disconnect",p),p=void 0),f||(f=this.onConnect.bind(this),t.on("connect",f))))}})}u.type="injected";let d={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider:e=>e?.coinbaseWalletExtension?e.coinbaseWalletExtension:h(e,"isCoinbaseWallet")},metaMask:{id:"metaMask",name:"MetaMask",provider:e=>h(e,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;for(let t of["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"])if(e[t])return!1;return!0})},phantom:{id:"phantom",name:"Phantom",provider:e=>e?.phantom?.ethereum?e.phantom?.ethereum:h(e,"isPhantom")}};function h(e,t){function r(e){return"function"==typeof t?t(e):"string"!=typeof t||e[t]}let n=e.ethereum;return n?.providers?n.providers.find(e=>r(e)):n&&r(n)?n:void 0}},36674:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n,i,s=r(45259);let a=()=>`@wagmi/core@${s.r}`;var o=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class l extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return a()}constructor(e,t={}){super(),n.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});let r=t.cause instanceof l?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof l&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return o(this,n,"m",i).call(this,this,e)}}n=new WeakSet,i=function e(t,r){return r?.(t)?t:t.cause?o(this,n,"m",e).call(this,t.cause,r):t}},22537:(e,t,r)=>{"use strict";r.d(t,{HF:()=>l,aj:()=>a,gC:()=>s,nk:()=>i,xU:()=>o});var n=r(36674);class i extends n.C{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class s extends n.C{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class a extends n.C{constructor({address:e,connector:t}){super(`Account "${e}" not found for connector "${t.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class o extends n.C{constructor({connectionChainId:e,connectorChainId:t}){super(`The current chain of the connector (id: ${t}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class l extends n.C{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:"During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`. All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored. This error commonly occurs for connectors that asynchronously inject after reconnection has already started."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}},77434:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,V:()=>s});var n=r(36674);class i extends n.C{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class s extends n.C{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}},36919:(e,t,r)=>{"use strict";r.d(t,{b:()=>function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){let n,i;if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)&&Array.isArray(r)){if((n=t.length)!==r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if("function"==typeof t.valueOf&&t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if("function"==typeof t.toString&&t.toString!==Object.prototype.toString)return t.toString()===r.toString();let s=Object.keys(t);if((n=s.length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.hasOwn(r,s[i]))return!1;for(i=n;0!=i--;){let n=s[i];if(n&&!e(t[n],r[n]))return!1}return!0}return t!=t&&r!=r}})},45259:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});let n="2.22.1"},61243:(e,t,r)=>{"use strict";let n;r.d(t,{vd:()=>f3,td:()=>fH,C4:()=>fq});var i=r(60429),s=r(62522),a=r(99652),o=r(15208),l=r(19973);class c extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof c){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof c&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${i}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=i,this.docsPath=n,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}function u(e,t){if(w(e)>t)throw new E({givenSize:w(e),maxSize:t})}function d(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;let i=e.replace("0x","");if(i.length>2*n)throw new A({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i["right"===r?"padEnd":"padStart"](2*n,"0")}`}function h(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}let f=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function p(e){return e instanceof Uint8Array?y(e):Array.isArray(e)?y(new Uint8Array(e)):e}function y(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=f[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(u(n,t.size),m(n,t.size)):n}function g(e,t={}){var r;let n;let{signed:i,size:s}=t,a=BigInt(e);s?n=i?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(n=BigInt(Number.MAX_SAFE_INTEGER));let o="bigint"==typeof n&&i?-n-1n:0;if(n&&a>n||a<o){let t="bigint"==typeof e?"n":"";throw new v({max:n?`${n}${t}`:void 0,min:`${o}${t}`,signed:i,size:s,value:`${e}${t}`})}let l=(i&&a<0?(1n<<BigInt(8*s))+BigInt(a):a).toString(16),c=`0x${l}`;return s?(r=c,d(r,{dir:"left",size:s})):c}function m(e,t){return d(e,{dir:"right",size:t})}function b(e,t,r,n={}){let{strict:i}=n;!function(e,t){if("number"==typeof t&&t>0&&t>w(e)-1)throw new I({offset:t,position:"start",size:w(e)})}(e,t);let s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return i&&function(e,t,r){if("number"==typeof t&&"number"==typeof r&&w(e)!==r-t)throw new I({offset:r,position:"end",size:w(e)})}(s,t,r),s}function w(e){return Math.ceil((e.length-2)/2)}class v extends c{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class _ extends c{constructor(e){super(`Value \`${"object"==typeof e?h(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class x extends c{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class E extends c{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class I extends c{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class A extends c{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}class S extends c{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${w(p(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class k extends c{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class C extends c{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}let T="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function O(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function P(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function R(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function D(e,t){P(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function N(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function U(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function M(e,t){return e<<32-t|e>>>t}let B=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e};function j(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),P(e),e}class L{}function F(e){let t=t=>e().update(j(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function $(e=32){if(T&&"function"==typeof T.getRandomValues)return T.getRandomValues(new Uint8Array(e));if(T&&"function"==typeof T.randomBytes)return Uint8Array.from(T.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}class z extends L{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=U(this.buffer)}update(e){R(this),P(e=j(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=U(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){R(this),D(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,N(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,c=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=U(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let q=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),W=BigInt(0x100000000-1),H=BigInt(32);function V(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:a}=function(e,t=!1){return t?{h:Number(e&W),l:Number(e>>H&W)}:{h:0|Number(e>>H&W),l:0|Number(e&W)}}(e[s],t);[n[s],i[s]]=[r,a]}return[n,i]}let K=(e,t,r)=>e<<r|t>>>32-r,G=(e,t,r)=>t<<r|e>>>32-r,Z=(e,t,r)=>t<<r-32|e>>>64-r,J=(e,t,r)=>e<<r-32|t>>>64-r,Y=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),Q=new Uint32Array(64);class X extends z{constructor(e=32){super(64,e,8,!1),this.A=0|q[0],this.B=0|q[1],this.C=0|q[2],this.D=0|q[3],this.E=0|q[4],this.F=0|q[5],this.G=0|q[6],this.H=0|q[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)Q[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=Q[e-15],r=Q[e-2],n=M(t,7)^M(t,18)^t>>>3,i=M(r,17)^M(r,19)^r>>>10;Q[e]=i+Q[e-7]+n+Q[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){var u,d,h,f;let t=c+(M(a,6)^M(a,11)^M(a,25))+((u=a)&o^~u&l)+Y[e]+Q[e]|0,p=(M(r,2)^M(r,13)^M(r,22))+((d=r)&(h=n)^d&(f=i)^h&f)|0;c=l,l=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,s,a,o,l,c)}roundClean(){N(Q)}destroy(){this.set(0,0,0,0,0,0,0,0),N(this.buffer)}}let ee=V(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e)));ee[0],ee[1];let et=F(()=>new X);class er extends L{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");O(e.outputLen),O(e.blockLen)}(e);let r=j(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),N(i)}update(e){return R(this),this.iHash.update(e),this}digestInto(e){R(this),P(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let en=(e,t,r)=>new er(e,t).update(r).digest();en.create=(e,t)=>new er(e,t);let ei=BigInt(0),es=BigInt(1);function ea(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function eo(e){if(!ea(e))throw Error("Uint8Array expected")}function el(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function ec(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function eu(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?ei:BigInt("0x"+e)}let ed="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,eh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ef(e){if(eo(e),ed)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=eh[e[r]];return t}let ep={_0:48,_9:57,A:65,F:70,a:97,f:102};function ey(e){return e>=ep._0&&e<=ep._9?e-ep._0:e>=ep.A&&e<=ep.F?e-(ep.A-10):e>=ep.a&&e<=ep.f?e-(ep.a-10):void 0}function eg(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(ed)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=ey(e.charCodeAt(i)),s=ey(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function em(e){return eu(ef(e))}function eb(e){return eo(e),eu(ef(Uint8Array.from(e).reverse()))}function ew(e,t){return eg(e.toString(16).padStart(2*t,"0"))}function ev(e,t){return ew(e,t).reverse()}function e_(e,t,r){let n;if("string"==typeof t)try{n=eg(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(ea(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function ex(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];eo(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let eE=e=>"bigint"==typeof e&&ei<=e;function eI(e,t,r){return eE(e)&&eE(t)&&eE(r)&&t<=e&&e<r}function eA(e,t,r,n){if(!eI(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let eS=e=>(es<<BigInt(e))-es,ek=e=>new Uint8Array(e),eC=e=>Uint8Array.from(e),eT={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||ea(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function eO(e,t,r={}){let n=(t,r,n)=>{let i=eT[r];if("function"!=typeof i)throw Error("invalid validator function");let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function eP(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let eR=BigInt(0),eD=BigInt(1),eN=BigInt(2),eU=BigInt(3),eM=BigInt(4),eB=BigInt(5),ej=BigInt(8);function eL(e,t){let r=e%t;return r>=eR?r:t+r}function eF(e,t,r){let n=e;for(;t-- >eR;)n*=n,n%=r;return n}function e$(e,t){if(e===eR)throw Error("invert: expected non-zero number");if(t<=eR)throw Error("invert: expected positive modulus, got "+t);let r=eL(e,t),n=t,i=eR,s=eD,a=eD,o=eR;for(;r!==eR;){let e=n/r,t=n%r,l=i-a*e,c=s-o*e;n=r,r=t,i=a,s=o,a=l,o=c}if(n!==eD)throw Error("invert: does not exist");return eL(i,t)}function ez(e,t){let r=(e.ORDER+eD)/eM,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function eq(e,t){let r=(e.ORDER-eB)/ej,n=e.mul(t,eN),i=e.pow(n,r),s=e.mul(t,i),a=e.mul(e.mul(s,eN),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),t))throw Error("Cannot find square root");return o}let eW=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eH(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function eV(e,t){let r=(e.ORDER-eD)/eN,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!a)throw Error("invalid Legendre symbol result");return i?1:s?0:-1}function eK(e,t){void 0!==t&&O(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function eG(e,t,r=!1,n={}){let i;if(e<=eR)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:a}=eK(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:a,MASK:eS(s),ZERO:eR,ONE:eD,create:t=>eL(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return eR<=t&&t<e},is0:e=>e===eR,isOdd:e=>(e&eD)===eD,neg:t=>eL(-t,e),eql:(e,t)=>e===t,sqr:t=>eL(t*t,e),add:(t,r)=>eL(t+r,e),sub:(t,r)=>eL(t-r,e),mul:(t,r)=>eL(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<eR)throw Error("invalid exponent, negatives unsupported");if(r===eR)return e.ONE;if(r===eD)return t;let n=e.ONE,i=t;for(;r>eR;)r&eD&&(n=e.mul(n,i)),i=e.sqr(i),r>>=eD;return n})(o,e,t),div:(t,r)=>eL(t*e$(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>e$(t,e),sqrt:n.sqrt||(t=>(!i&&(i=e%eM===eU?ez:e%ej===eB?eq:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-eD,r=0;for(;t%eN===eR;)t/=eN,r++;let n=eN,i=eG(e);for(;1===eV(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return ez;let s=i.pow(n,t),a=(t+eD)/eN;return function(e,n){if(e.is0(n))return n;if(1!==eV(e,n))throw Error("Cannot find square root");let i=r,o=e.mul(e.ONE,s),l=e.pow(n,t),c=e.pow(n,a);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=eD<<BigInt(i-t-1),s=e.pow(o,n);i=t,o=e.sqr(s),l=e.mul(l,o),c=e.mul(c,s)}return c}}(e)),i(o,t))),toBytes:e=>r?ev(e,a):ew(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?eb(e):em(e)},invertBatch:e=>eH(o,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(o)}function eZ(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function eJ(e){let t=eZ(e);return t+Math.ceil(t/2)}let eY=BigInt(0),eQ=BigInt(1);function eX(e,t){let r=t.negate();return e?r:t}function e0(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function e1(e,t){e0(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:eS(e),maxNumber:i,shiftBy:BigInt(e)}}function e2(e,t,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r,o=Number(e&i),l=e>>a;o>n&&(o-=s,l+=eQ);let c=t*n,u=c+Math.abs(o)-1;return{nextN:l,offset:u,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:c}}let e6=new WeakMap,e5=new WeakMap;function e8(e){return e5.get(e)||1}function e3(e){return eO(e.Fp,eW.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),eO(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...eK(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function e4(e){void 0!==e.lowS&&el("lowS",e.lowS),void 0!==e.prehash&&el("prehash",e.prehash)}class e9 extends Error{constructor(e=""){super(e)}}let e7={Err:e9,_tlv:{encode:(e,t)=>{let{Err:r}=e7;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=ec(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?ec(i.length/2|128):"";return ec(e)+s+i+t},decode(e,t){let{Err:r}=e7,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],s=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let a=t.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+s)}}},_int:{encode(e){let{Err:t}=e7;if(e<te)throw new t("integer: negative integers are not allowed");let r=ec(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=e7;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return em(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=e7,i=e_("signature",e),{v:s,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=e7,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},te=BigInt(0),tt=BigInt(1),tr=(BigInt(2),BigInt(3)),tn=BigInt(4),ti=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ts=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ta=BigInt(0),to=BigInt(1),tl=BigInt(2),tc=(e,t)=>(e+t/tl)/t,tu=eG(ti,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),o=BigInt(88),l=e*e*e%ti,c=l*l*e%ti,u=eF(c,t,ti)*c%ti,d=eF(u,t,ti)*c%ti,h=eF(d,tl,ti)*l%ti,f=eF(h,n,ti)*h%ti,p=eF(f,i,ti)*f%ti,y=eF(p,a,ti)*p%ti,g=eF(y,o,ti)*y%ti,m=eF(g,a,ti)*p%ti,b=eF(m,t,ti)*c%ti,w=eF(b,s,ti)*f%ti,v=eF(w,r,ti)*l%ti,_=eF(v,tl,ti);if(!tu.eql(tu.sqr(_),e))throw Error("Cannot find square root");return _}}),td=function(e,t){let r=t=>(function(e){let t=function(e){let t=e3(e);return eO(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:s}=t,a=r.BYTES+1,o=2*r.BYTES+1;function l(e){return eL(e,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=function(e){var t;let r=function(e){let t=e3(e);eO(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=eG(r.n,r.nBitLength),s=r.toBytes||((e,t,r)=>{let i=t.toAffine();return ex(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){let{a:t,b:i}=r,s=n.sqr(e),a=n.mul(s,e);return n.add(n.add(a,n.mul(e,t)),i)}function l(e,t){let r=n.sqr(t),i=o(e);return n.eql(r,i)}if(!l(r.Gx,r.Gy))throw Error("bad curve params: generator point");let c=n.mul(n.pow(r.a,tr),tn),u=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(c,u)))throw Error("bad curve params: a or b");function d(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=r;if(n&&"bigint"!=typeof e){if(ea(e)&&(e=ef(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:em(e_("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return s&&(t=eL(t,a)),eA("private key",t,tt,a),t}function h(e){if(!(e instanceof y))throw Error("ProjectivePoint expected")}let f=eP((e,t)=>{let{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(s));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(s,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),p=eP(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!l(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class y{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof y)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?y.ZERO:new y(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=eH(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(y.fromAffine)}static fromHex(e){let t=y.fromAffine(a(e_("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return y.BASE.multiply(d(e))}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,s=n.length;if(i!==s)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,o=function(e){let t;for(t=0;e>ei;e>>=es,t+=1);return t}(BigInt(i)),l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);let c=eS(l),u=Array(Number(c)+1).fill(a),d=Math.floor((t.BITS-1)/l)*l,h=a;for(let e=d;e>=0;e-=l){u.fill(a);for(let t=0;t<s;t++){let i=Number(n[t]>>BigInt(e)&c);u[i]=u[i].add(r[t])}let t=a;for(let e=u.length-1,r=a;e>0;e--)r=r.add(u[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<l;e++)h=h.double()}return h}(y,i,e,t)}_setWindowSize(e){b.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){h(e);let{px:t,py:r,pz:i}=this,{px:s,py:a,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(s,i)),c=n.eql(n.mul(r,o),n.mul(a,i));return l&&c}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,tr),{px:s,py:a,pz:o}=this,l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(s,s),h=n.mul(a,a),f=n.mul(o,o),p=n.mul(s,a);return p=n.add(p,p),u=n.mul(s,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,f),c=n.add(l,c),l=n.sub(h,c),c=n.add(h,c),c=n.mul(l,c),l=n.mul(p,l),u=n.mul(i,u),f=n.mul(e,f),p=n.sub(d,f),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,f),d=n.mul(d,p),c=n.add(c,d),f=n.mul(a,o),f=n.add(f,f),d=n.mul(f,p),l=n.sub(l,d),u=n.mul(f,h),u=n.add(u,u),new y(l,c,u=n.add(u,u))}add(e){h(e);let{px:t,py:i,pz:s}=this,{px:a,py:o,pz:l}=e,c=n.ZERO,u=n.ZERO,d=n.ZERO,f=r.a,p=n.mul(r.b,tr),g=n.mul(t,a),m=n.mul(i,o),b=n.mul(s,l),w=n.add(t,i),v=n.add(a,o);w=n.mul(w,v),v=n.add(g,m),w=n.sub(w,v),v=n.add(t,s);let _=n.add(a,l);return v=n.mul(v,_),_=n.add(g,b),v=n.sub(v,_),_=n.add(i,s),c=n.add(o,l),_=n.mul(_,c),c=n.add(m,b),_=n.sub(_,c),d=n.mul(f,v),c=n.mul(p,b),d=n.add(c,d),c=n.sub(m,d),d=n.add(m,d),u=n.mul(c,d),m=n.add(g,g),m=n.add(m,g),b=n.mul(f,b),v=n.mul(p,v),m=n.add(m,b),b=n.sub(g,b),b=n.mul(f,b),v=n.add(v,b),g=n.mul(m,v),u=n.add(u,g),g=n.mul(_,v),c=n.mul(w,c),c=n.sub(c,g),g=n.mul(w,m),d=n.mul(_,d),new y(c,u,d=n.add(d,g))}subtract(e){return this.add(e.negate())}is0(){return this.equals(y.ZERO)}wNAF(e){return b.wNAFCached(this,e,y.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;eA("scalar",e,te,i);let s=y.ZERO;if(e===te)return s;if(this.is0()||e===tt)return this;if(!t||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,e,y.normalizeZ);let{k1neg:a,k1:o,k2neg:l,k2:c}=t.splitScalar(e),u=s,d=s,h=this;for(;o>te||c>te;)o&tt&&(u=u.add(h)),c&tt&&(d=d.add(h)),h=h.double(),o>>=tt,c>>=tt;return a&&(u=u.negate()),l&&(d=d.negate()),d=new y(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:s,n:a}=r;if(eA("scalar",e,tt,a),s){let{k1neg:r,k1:a,k2neg:o,k2:l}=s.splitScalar(e),{p:c,f:u}=this.wNAF(a),{p:d,f:h}=this.wNAF(l);c=b.constTimeNegate(r,c),d=b.constTimeNegate(o,d),d=new y(n.mul(d.px,s.beta),d.py,d.pz),t=c.add(d),i=u.add(h)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return y.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=y.BASE,i=(e,t)=>t!==te&&t!==tt&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){return f(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===tt)return!0;if(t)return t(y,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===tt?this:t?t(y,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return el("isCompressed",e),this.assertValidity(),s(y,this,e)}toHex(e=!0){return el("isCompressed",e),ef(this.toRawBytes(e))}}y.BASE=new y(r.Gx,r.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);let{endo:g,nBitLength:m}=r,b=(t=g?Math.ceil(m/2):m,{constTimeNegate:eX,hasPrecomputes:e=>1!==e8(e),unsafeLadder(e,t,r=y.ZERO){let n=e;for(;t>eY;)t&eQ&&(r=r.add(n)),n=n.double(),t>>=eQ;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=e1(r,t),s=[],a=e,o=a;for(let e=0;e<n;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(e,r,n){let i=y.ZERO,s=y.BASE,a=e1(e,t);for(let e=0;e<a.windows;e++){let{nextN:t,offset:o,isZero:l,isNeg:c,isNegF:u,offsetF:d}=e2(n,e,a);n=t,l?s=s.add(eX(u,r[d])):i=i.add(eX(c,r[o]))}return{p:i,f:s}},wNAFUnsafe(e,r,n,i=y.ZERO){let s=e1(e,t);for(let e=0;e<s.windows&&n!==eY;e++){let{nextN:t,offset:a,isZero:o,isNeg:l}=e2(n,e,s);if(n=t,!o){let e=r[a];i=i.add(l?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=e6.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&e6.set(t,r(n))),n},wNAFCached(e,t,r){let n=e8(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=e8(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){e0(r,t),e5.set(e,r),e6.delete(e)}});return{CURVE:r,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:function(e){return eI(e,tt,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x);return(el("isCompressed",n),n)?ex(Uint8Array.from([t.hasEvenY()?2:3]),s):ex(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===a&&(2===n||3===n)){let e;let t=em(i);if(!eI(t,tt,r.ORDER))throw Error("Point is not on curve");let s=d(t);try{e=r.sqrt(s)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&tt)===tt)&&(e=r.neg(e)),{x:t,y:e}}if(t===o&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+a+", or uncompressed "+o+", got "+t)}}),f=(e,t,r)=>em(e.slice(t,r));class p{constructor(e,t,r){eA("r",e,tt,n),eA("s",t,tt,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new p(f(e=e_("compactSignature",e,2*i),0,i),f(e,i,2*i))}static fromDER(e){let{r:t,s:r}=e7.toSig(e_("DER",e));return new p(t,r)}assertValidity(){}addRecoveryBit(e){return new p(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:a}=this,o=m(e_("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let u=2===a||3===a?i+t.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&a)==0?"02":"03",h=c.fromHex(d+ef(ew(u,r.BYTES))),f=e$(u,n),p=l(-o*f),y=l(s*f),g=c.BASE.multiplyAndAddUnsafe(h,p,y);if(!g)throw Error("point at infinify");return g.assertValidity(),g}hasHighS(){return this.s>n>>tt}normalizeS(){return this.hasHighS()?new p(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return eg(this.toDERHex())}toDERHex(){return e7.hexFromSig(this)}toCompactRawBytes(){return eg(this.toCompactHex())}toCompactHex(){return ef(ew(this.r,i))+ef(ew(this.s,i))}}function y(e){if("bigint"==typeof e)return!1;if(e instanceof c)return!0;let n=e_("key",e).length,s=r.BYTES,a=s+1;if(!t.allowedPrivateKeyLengths&&i!==a)return n===a||n===2*s+1}let g=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=em(e),r=8*e.length-s;return r>0?t>>BigInt(r):t},m=t.bits2int_modN||function(e){return l(g(e))},b=eS(s);function w(e){return eA("num < 2^"+s,e,te,b),ew(e,i)}let v={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===y(e))throw Error("first arg must be private key");if(!1===y(t))throw Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,i,s=v){let{seed:a,k2sig:o}=function(e,i,s=v){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:a,randomBytes:o}=t,{lowS:d,prehash:f,extraEntropy:y}=s;null==d&&(d=!0),e=e_("msgHash",e),e4(s),f&&(e=e_("prehashed msgHash",a(e)));let b=m(e),_=u(i),x=[w(_),w(b)];if(null!=y&&!1!==y){let e=!0===y?o(r.BYTES):y;x.push(e_("extraEntropy",e))}return{seed:ex(...x),k2sig:function(e){let t=g(e);if(!h(t))return;let r=e$(t,n),i=c.BASE.multiply(t).toAffine(),s=l(i.x);if(s===te)return;let a=l(r*l(b+s*_));if(a===te)return;let o=(i.x===s?0:2)|Number(i.y&tt),u=a;if(d&&a>n>>tt)u=a>n>>tt?l(-a):a,o^=1;return new p(s,u,o)}}}(e,i,s);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=ek(e),i=ek(e),s=0,a=()=>{n.fill(1),i.fill(0),s=0},o=(...e)=>r(i,n,...e),l=(e=ek(0))=>{i=o(eC([0]),e),n=o(),0!==e.length&&(i=o(eC([1]),e),n=o())},c=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return ex(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(c()));)l();return a(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(a,o)},verify:function(e,r,i,s=_){let a,o;r=e_("msgHash",r),i=e_("publicKey",i);let{lowS:u,prehash:d,format:h}=s;if(e4(s),"strict"in s)throw Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw Error("format must be compact or der");let f="string"==typeof e||ea(e),y=!f&&!h&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!f&&!y)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(y&&(o=new p(e.r,e.s)),f){try{"compact"!==h&&(o=p.fromDER(e))}catch(e){if(!(e instanceof e7.Err))throw e}o||"der"===h||(o=p.fromCompact(e))}a=c.fromHex(i)}catch(e){return!1}if(!o||u&&o.hasHighS())return!1;d&&(r=t.hash(r));let{r:g,s:b}=o,w=m(r),v=e$(b,n),x=l(w*v),E=l(g*v),I=c.BASE.multiplyAndAddUnsafe(a,x,E)?.toAffine();return!!I&&l(I.x)===g},ProjectivePoint:c,Signature:p,utils:{isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let e=eJ(t.n);return function(e,t,r=!1){let n=e.length,i=eZ(t),s=eJ(t);if(n<16||n<s||n>1024)throw Error("expected "+s+"-1024 bytes of input, got "+n);let a=eL(r?eb(e):em(e),t-eD)+eD;return r?ev(a,i):ew(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>en(t,e,function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];P(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:$});return{...r(t),create:r}}({a:ta,b:BigInt(7),Fp:tu,n:ts,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-to*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=tc(t*e,ts),a=tc(-r*e,ts),o=eL(e-s*t-a*n,ts),l=eL(-s*r-a*t,ts),c=o>i,u=l>i;if(c&&(o=ts-o),u&&(l=ts-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:c,k1:o,k2neg:u,k2:l}}}},et),th={zero:48,nine:57,A:65,F:70,a:97,f:102};function tf(e){return e>=th.zero&&e<=th.nine?e-th.zero:e>=th.A&&e<=th.F?e-(th.A-10):e>=th.a&&e<=th.f?e-(th.a-10):void 0}let tp=new TextEncoder;class ty extends c{constructor(e){super(`Value \`${"object"==typeof e?h(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class tg extends c{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class tm extends c{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class tb extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let tw={checksum:new tb(8192)}.checksum,tv=BigInt(0),t_=BigInt(1),tx=BigInt(2),tE=BigInt(7),tI=BigInt(256),tA=BigInt(113),tS=[],tk=[],tC=[];for(let e=0,t=t_,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],tS.push(2*(5*n+r)),tk.push((e+1)*(e+2)/2%64);let i=tv;for(let e=0;e<7;e++)(t=(t<<t_^(t>>tE)*tA)%tI)&tx&&(i^=t_<<(t_<<BigInt(e))-t_);tC.push(i)}let tT=V(tC,!0),tO=tT[0],tP=tT[1],tR=(e,t,r)=>r>32?Z(e,t,r):K(e,t,r),tD=(e,t,r)=>r>32?J(e,t,r):G(e,t,r);class tN extends L{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,O(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}clone(){return this._cloneInto()}keccak(){B(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=tR(s,a,1)^r[n],l=tD(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=tk[r],s=tR(t,i,n),a=tD(t,i,n),o=tS[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=tO[n],e[1]^=tP[n]}N(r)}(this.state32,this.rounds),B(this.state32),this.posOut=0,this.pos=0}update(e){R(this),P(e=j(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){R(this,!1),P(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return O(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(D(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,N(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new tN(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let tU=F(()=>new tN(136,1,32));function tM(e,t={}){let{as:r="string"==typeof e?"Hex":"Bytes"}=t,n=tU(e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){let{size:r}=t,n=e;r&&(u(e,r),n=m(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);let s=i.length/2,a=new Uint8Array(s);for(let e=0,t=0;e<s;e++){let r=tf(i.charCodeAt(t++)),n=tf(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new c(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);a[e]=16*r+n}return a}(e):e instanceof Uint8Array?e:new Uint8Array(e));return"Bytes"===r?n:y(n)}function tB(e,t={}){let{compressed:r}=t,{prefix:n,x:i,y:s}=e;if(!1===r||"bigint"==typeof i&&"bigint"==typeof s){if(4!==n)throw new tF({prefix:n,cause:new tz});return}if(!0===r||"bigint"==typeof i&&void 0===s){if(3!==n&&2!==n)throw new tF({prefix:n,cause:new t$});return}throw new tL({publicKey:e})}function tj(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new tq({publicKey:e});return 130===e.length?{prefix:4,x:BigInt(b(e,0,32)),y:BigInt(b(e,32,64))}:132===e.length?{prefix:Number(b(e,0,1)),x:BigInt(b(e,1,33)),y:BigInt(b(e,33,65))}:{prefix:Number(b(e,0,1)),x:BigInt(b(e,1,33))}}class tL extends c{constructor({publicKey:e}){super(`Value \`${h(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class tF extends c{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class t$ extends c{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class tz extends c{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class tq extends c{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${w(p(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}let tW=/^0x[a-fA-F0-9]{40}$/;function tH(e,t={}){let{strict:r=!0}=t;if(!tW.test(e))throw new tK({address:e,cause:new tG});if(r){if(e.toLowerCase()===e)return;if(tV(e)!==e)throw new tK({address:e,cause:new tZ})}}function tV(e){if(tw.has(e))return tw.get(e);tH(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=tM(function(e,t={}){let{size:r}=t,n=tp.encode(e);return"number"==typeof r?(!function(e,t){if(e.length>t)throw new tg({givenSize:e.length,maxSize:t})}(n,r),function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new tm({size:e.length,targetSize:n,type:"Bytes"});let i=new Uint8Array(n);for(let t=0;t<n;t++){let s="right"===r;i[s?t:n-t-1]=e[s?t:e.length-t-1]}return i}(n,{dir:"right",size:r})):n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let i=`0x${n.join("")}`;return tw.set(e,i),i}class tK extends c{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class tG extends c{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class tZ extends c{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}var tJ=r(97783),tY=r(74332),tQ=r(48469);function tX(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function t0(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function t1(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function t2(e){if(!Array.isArray(e))throw Error("array expected")}function t6(e,t){if(!tX(!0,t))throw Error(`${e}: array of strings expected`)}function t5(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function t8(e){let t="string"==typeof e?e.split(""):e,r=t.length;t6("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(t2(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(t2(t),t.map(t=>{t0("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function t3(e=""){return t0("join",e),{encode:t=>(t6("join.decode",t),t.join(e)),decode:t=>(t0("join.decode",t),t.split(e))}}let t4=(e,t)=>0===t?e:t4(t,e%t),t9=(e,t)=>e+(t-t4(e,t)),t7=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function re(e,t,r,n){if(t2(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(t9(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${t9(t,r)}`);let i=0,s=0,a=t7[t],o=t7[r]-1,l=[];for(let n of e){if(t1(n),n>=a)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,s+t>32)throw Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)l.push((i>>s-r&o)>>>0);let e=t7[s];if(void 0===e)throw Error("invalid carry");i&=e-1}if(i=i<<r-s&o,!n&&s>=t)throw Error("Excess padding");if(!n&&i>0)throw Error(`Non-zero padding: ${i}`);return n&&s>0&&l.push(i>>>0),l}let rt=t5(function(e,t=!1){if(t1(5),e>32)throw Error("radix2: bits should be in (0..32]");if(t9(8,e)>32||t9(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{var n;if(!((n=r)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw Error("radix2.encode input should be Uint8Array");return re(Array.from(r),8,e,!t)},decode:r=>((function(e,t){if(!tX(!1,t))throw Error(`${e}: array of numbers expected`)})("radix2.decode",r),Uint8Array.from(re(r,e,8,t)))}}(5),t8("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),function(e,t="="){return t1(5),t0("padding",t),{encode(e){for(t6("padding.encode",e);5*e.length%8;)e.push(t);return e},decode(r){t6("padding.decode",r);let n=r.length;if(n*e%8)throw Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}(5),t3("")),rr=("function"==typeof Uint8Array.from([]).toBase64&&Uint8Array.fromBase64,[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3]);"function"==typeof Uint8Array.from([]).toHex&&Uint8Array.fromHex;var rn=r(14922),ri=r(37598),rs=r(1212),ra=r(17783),ro=r(28509),rl=r.n(ro),rc=r(54932);let ru={level:"info"},rd="custom_context";var rh=Object.defineProperty,rf=(e,t,r)=>t in e?rh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rp=(e,t,r)=>rf(e,"symbol"!=typeof t?t+"":t,r);class ry{constructor(e){rp(this,"nodeValue"),rp(this,"sizeInBytes"),rp(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class rg{constructor(e){rp(this,"lengthInNodes"),rp(this,"sizeInBytes"),rp(this,"head"),rp(this,"tail"),rp(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let t=new ry(e);if(t.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=t):this.head=t,this.tail=t,this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let t=e.value;return e=e.next,{done:!1,value:t}}}}}var rm=Object.defineProperty,rb=(e,t,r)=>t in e?rm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rw=(e,t,r)=>rb(e,"symbol"!=typeof t?t+"":t,r);class rv{constructor(e,t=1024e3){rw(this,"logs"),rw(this,"level"),rw(this,"levelValue"),rw(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=ro.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new rg(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===ro.levels.values.error?console.error(e):t===ro.levels.values.warn?console.warn(e):t===ro.levels.values.debug?console.debug(e):t===ro.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,rc.h)({timestamp:new Date().toISOString(),log:e}));let t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new rg(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let t=this.getLogArray();return t.push((0,rc.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var r_=Object.defineProperty,rx=(e,t,r)=>t in e?r_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rE=(e,t,r)=>rx(e,"symbol"!=typeof t?t+"":t,r);class rI{constructor(e,t=1024e3){rE(this,"baseChunkLogger"),this.baseChunkLogger=new rv(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}var rA=Object.defineProperty,rS=(e,t,r)=>t in e?rA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rk=(e,t,r)=>rS(e,"symbol"!=typeof t?t+"":t,r);class rC{constructor(e,t=1024e3){rk(this,"baseChunkLogger"),this.baseChunkLogger=new rv(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var rT=Object.defineProperty,rO=Object.defineProperties,rP=Object.getOwnPropertyDescriptors,rR=Object.getOwnPropertySymbols,rD=Object.prototype.hasOwnProperty,rN=Object.prototype.propertyIsEnumerable,rU=(e,t,r)=>t in e?rT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rM=(e,t)=>{for(var r in t||(t={}))rD.call(t,r)&&rU(e,r,t[r]);if(rR)for(var r of rR(t))rN.call(t,r)&&rU(e,r,t[r]);return e},rB=(e,t)=>rO(e,rP(t));function rj(e,t=rd){return e[t]||""}function rL(e,t,r=rd){let n=function(e,t,r=rd){let n=rj(e,r);return n.trim()?`${n}/${t}`:t}(e,t,r);return function(e,t,r=rd){return e[r]=t,e}(e.child({context:n}),n,r)}function rF(e){return"u">typeof e.loggerOverride&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:"u">typeof window?function(e){var t,r;let n=new rI(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:rl()(rB(rM({},e.opts),{level:"trace",browser:rB(rM({},null==(r=e.opts)?void 0:r.browser),{write:e=>n.write(e)})})),chunkLoggerController:n}}(e):function(e){var t;let r=new rC(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:rl()(rB(rM({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}(e)}var r$=r(87358),rz=r(75927).hp;function rq(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function rW(e,t=[]){let r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;let i=e[n];r.push(...i.accounts)}),r}function rH(e,t){return e.includes(":")?[e]:t.chains||[]}var rV=Object.defineProperty,rK=Object.defineProperties,rG=Object.getOwnPropertyDescriptors,rZ=Object.getOwnPropertySymbols,rJ=Object.prototype.hasOwnProperty,rY=Object.prototype.propertyIsEnumerable,rQ=(e,t,r)=>t in e?rV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rX=(e,t)=>{for(var r in t||(t={}))rJ.call(t,r)&&rQ(e,r,t[r]);if(rZ)for(var r of rZ(t))rY.call(t,r)&&rQ(e,r,t[r]);return e},r0=(e,t)=>rK(e,rG(t)),r1=(e,t,r)=>rQ(e,"symbol"!=typeof t?t+"":t,r);let r2={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function r6(){return"u">typeof r$&&"u">typeof r$.versions&&"u">typeof r$.versions.node}function r5(){return!(0,o.getDocument)()&&!!(0,o.getNavigator)()&&"ReactNative"===navigator.product}function r8(){return!r6()&&!!(0,o.getNavigator)()&&!!(0,o.getDocument)()}function r3(){return r5()?r2.reactNative:r6()?r2.node:r8()?r2.browser:r2.unknown}function r4(){var e;try{return r5()&&"u">typeof global&&"u">typeof(null==global?void 0:global.Application)?null==(e=global.Application)?void 0:e.applicationId:void 0}catch{return}}function r9(){return(0,l.g)()||{name:"",description:"",url:"",icons:[""]}}function r7(e,t,r){let n=function(){if(r3()===r2.reactNative&&"u">typeof global&&"u">typeof(null==global?void 0:global.Platform)){let{OS:e,Version:t}=global.Platform;return[e,t].join("-")}let e=(0,s.o0)();if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),i=function(){var e;let t=r3();return t===r2.browser?[t,(null==(e=(0,o.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",r].join("-"),n,i].join("/")}function ne(e,t){return e.filter(e=>t.includes(e)).length===e.length}function nt(e){return Object.fromEntries(e.entries())}function nr(e){return new Map(Object.entries(e))}function nn(e=a.FIVE_MINUTES,t){let r,n,i,s;let o=(0,a.toMiliseconds)(e||a.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e),s=Promise.resolve(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,a)=>{if(s)return e(s);i=setTimeout(()=>{let e=Error(t);s=Promise.reject(e),a(e)},o),r=e,n=a})}}function ni(e,t,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(Error(r)),t);try{let t=await e;n(t)}catch(e){i(e)}clearTimeout(s)})}function ns(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function na(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function no(e,t){return(0,a.fromMiliseconds)((t||Date.now())+(0,a.toMiliseconds)(e))}function nl(e){return Date.now()>=(0,a.toMiliseconds)(e)}function nc(e,t){return`${e}${t?`:${t}`:""}`}function nu(e=[],t=[]){return[...new Set([...e,...t])]}async function nd({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;let i="string"==typeof r?JSON.parse(r):r,s=i?.href;if("string"!=typeof s)return;let a=function(e,t,r){let n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){let t=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${t}${function(e,t=!1){let r=rz.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(n,!0)}`}else i=`${i}/wc?${n}`;return i}(s,e,t),l=r3();if(l===r2.browser){let e;if(!(null!=(n=(0,o.getDocument)())&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}e="_self",function(){try{return window.self!==window.top}catch{return!1}}()?e="_top":("u">typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||a.startsWith("https://")||a.startsWith("http://"))&&(e="_blank"),window.open(a,e,"noreferrer noopener")}else l===r2.reactNative&&"u">typeof(null==global?void 0:global.Linking)&&await global.Linking.openURL(a)}catch(e){console.error(e)}}async function nh(e,t){let r="";try{if(r8()&&(r=localStorage.getItem(t)))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}function nf(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function np(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function ny(){return"u">typeof r$&&"true"===r$.env.IS_VITEST}function ng(e){return rz.from(e,"base64").toString("utf-8")}class nm{constructor({limit:e}){r1(this,"limit"),r1(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}let nb=BigInt(0x100000000-1),nw=BigInt(32);function nv(e,t=!1){return t?{h:Number(e&nb),l:Number(e>>nw&nb)}:{h:0|Number(e>>nw&nb),l:0|Number(e&nb)}}function n_(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:a}=nv(e[s],t);[n[s],i[s]]=[r,a]}return[n,i]}let nx=(e,t,r)=>e>>>r,nE=(e,t,r)=>e<<32-r|t>>>r,nI=(e,t,r)=>e>>>r|t<<32-r,nA=(e,t,r)=>e<<32-r|t>>>r,nS=(e,t,r)=>e<<64-r|t>>>r-32,nk=(e,t,r)=>e>>>r-32|t<<64-r,nC=(e,t)=>t,nT=(e,t)=>e,nO=(e,t,r)=>e<<r|t>>>32-r,nP=(e,t,r)=>t<<r|e>>>32-r,nR=(e,t,r)=>t<<r-32|e>>>64-r,nD=(e,t,r)=>e<<r-32|t>>>64-r;function nN(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}let nU=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),nM=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,nB=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),nj=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,nL=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),nF=(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0,n$="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function nz(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function nq(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function nW(e,...t){if(!nz(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function nH(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");nq(e.outputLen),nq(e.blockLen)}function nV(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function nK(e,t){nW(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function nG(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function nZ(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function nJ(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function nY(e,t){return e<<32-t|e>>>t}let nQ=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function nX(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}let n0=nQ?e=>e:e=>nX(e),n1=nQ?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=nX(e[t]);return e},n2="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,n6=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function n5(e){if(nW(e),n2)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=n6[e[r]];return t}let n8={_0:48,_9:57,A:65,F:70,a:97,f:102};function n3(e){return e>=n8._0&&e<=n8._9?e-n8._0:e>=n8.A&&e<=n8.F?e-(n8.A-10):e>=n8.a&&e<=n8.f?e-(n8.a-10):void 0}function n4(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(n2)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=n3(e.charCodeAt(i)),s=n3(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function n9(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function n7(e){return"string"==typeof e&&(e=n9(e)),nW(e),e}function ie(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];nW(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class it{}function ir(e){let t=t=>e().update(n7(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ii(e=32){if(n$&&"function"==typeof n$.getRandomValues)return n$.getRandomValues(new Uint8Array(e));if(n$&&"function"==typeof n$.randomBytes)return Uint8Array.from(n$.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let is=BigInt(0),ia=BigInt(1),io=BigInt(2),il=BigInt(7),ic=BigInt(256),iu=BigInt(113),id=[],ih=[],ip=[];for(let e=0,t=ia,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],id.push(2*(5*n+r)),ih.push((e+1)*(e+2)/2%64);let i=is;for(let e=0;e<7;e++)(t=(t<<ia^(t>>il)*iu)%ic)&io&&(i^=ia<<(ia<<BigInt(e))-ia);ip.push(i)}let iy=n_(ip,!0),ig=iy[0],im=iy[1],ib=(e,t,r)=>r>32?nR(e,t,r):nO(e,t,r),iw=(e,t,r)=>r>32?nD(e,t,r):nP(e,t,r);class iv extends it{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,nq(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=nG(this.state)}clone(){return this._cloneInto()}keccak(){n1(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=ib(s,a,1)^r[n],l=iw(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=ih[r],s=ib(t,i,n),a=iw(t,i,n),o=id[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=ig[n],e[1]^=im[n]}nZ(r)}(this.state32,this.rounds),n1(this.state32),this.posOut=0,this.pos=0}update(e){nV(this),nW(e=n7(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){nV(this,!1),nW(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return nq(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nK(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,nZ(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new iv(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let i_=ir(()=>new iv(136,1,32));class ix extends it{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=nJ(this.buffer)}update(e){nV(this),nW(e=n7(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=nJ(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nV(this),nK(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,nZ(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,c=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=nJ(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let iE=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),iI=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),iA=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),iS=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),ik=new Uint32Array(64);class iC extends ix{constructor(e=32){super(64,e,8,!1),this.A=0|iE[0],this.B=0|iE[1],this.C=0|iE[2],this.D=0|iE[3],this.E=0|iE[4],this.F=0|iE[5],this.G=0|iE[6],this.H=0|iE[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)ik[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=ik[e-15],r=ik[e-2],n=nY(t,7)^nY(t,18)^t>>>3,i=nY(r,17)^nY(r,19)^r>>>10;ik[e]=i+ik[e-7]+n+ik[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){var u,d,h,f;let t=c+(nY(a,6)^nY(a,11)^nY(a,25))+((u=a)&o^~u&l)+iS[e]+ik[e]|0,p=(nY(r,2)^nY(r,13)^nY(r,22))+((d=r)&(h=n)^d&(f=i)^h&f)|0;c=l,l=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,s,a,o,l,c)}roundClean(){nZ(ik)}destroy(){this.set(0,0,0,0,0,0,0,0),nZ(this.buffer)}}let iT=n_(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),iO=iT[0],iP=iT[1],iR=new Uint32Array(80),iD=new Uint32Array(80);class iN extends ix{constructor(e=64){super(128,e,16,!1),this.Ah=0|iA[0],this.Al=0|iA[1],this.Bh=0|iA[2],this.Bl=0|iA[3],this.Ch=0|iA[4],this.Cl=0|iA[5],this.Dh=0|iA[6],this.Dl=0|iA[7],this.Eh=0|iA[8],this.El=0|iA[9],this.Fh=0|iA[10],this.Fl=0|iA[11],this.Gh=0|iA[12],this.Gl=0|iA[13],this.Hh=0|iA[14],this.Hl=0|iA[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y]}set(e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)iR[r]=e.getUint32(t),iD[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|iR[e-15],r=0|iD[e-15],n=nI(t,r,1)^nI(t,r,8)^nx(t,r,7),i=nA(t,r,1)^nA(t,r,8)^nE(t,r,7),s=0|iR[e-2],a=0|iD[e-2],o=nI(s,a,19)^nS(s,a,61)^nx(s,a,6),l=nB(i,nA(s,a,19)^nk(s,a,61)^nE(s,a,6),iD[e-7],iD[e-16]),c=nj(l,n,o,iR[e-7],iR[e-16]);iR[e]=0|c,iD[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:y,Hh:g,Hl:m}=this;for(let e=0;e<80;e++){let t=nI(u,d,14)^nI(u,d,18)^nS(u,d,41),b=nA(u,d,14)^nA(u,d,18)^nk(u,d,41),w=u&h^~u&p,v=nL(m,b,d&f^~d&y,iP[e],iD[e]),_=nF(v,g,t,w,iO[e],iR[e]),x=0|v,E=nI(r,n,28)^nS(r,n,34)^nS(r,n,39),I=nA(r,n,28)^nk(r,n,34)^nk(r,n,39),A=r&i^r&a^i&a,S=n&s^n&o^s&o;g=0|p,m=0|y,p=0|h,y=0|f,h=0|u,f=0|d,({h:u,l:d}=nN(0|l,0|c,0|_,0|x)),l=0|a,c=0|o,a=0|i,o=0|s,i=0|r,s=0|n;let k=nU(x,I,S);r=nM(k,_,E,A),n=0|k}({h:r,l:n}=nN(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=nN(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=nN(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:c}=nN(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=nN(0|this.Eh,0|this.El,0|u,0|d)),({h,l:f}=nN(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:y}=nN(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:m}=nN(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(r,n,i,s,a,o,l,c,u,d,h,f,p,y,g,m)}roundClean(){nZ(iR,iD)}destroy(){nZ(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class iU extends iN{constructor(){super(48),this.Ah=0|iI[0],this.Al=0|iI[1],this.Bh=0|iI[2],this.Bl=0|iI[3],this.Ch=0|iI[4],this.Cl=0|iI[5],this.Dh=0|iI[6],this.Dl=0|iI[7],this.Eh=0|iI[8],this.El=0|iI[9],this.Fh=0|iI[10],this.Fl=0|iI[11],this.Gh=0|iI[12],this.Gl=0|iI[13],this.Hh=0|iI[14],this.Hl=0|iI[15]}}let iM=Uint32Array.from([0x22312194,0xfc2bf72c,0x9f555fa3,0xc84c64c2,0x2393b86b,0x6f53b151,0x96387719,0x5940eabd,0x96283ee2,0xa88effe3,0xbe5e1e25,0x53863992,0x2b0199fc,0x2c85b8aa,0xeb72ddc,0x81c52ca2]);class iB extends iN{constructor(){super(32),this.Ah=0|iM[0],this.Al=0|iM[1],this.Bh=0|iM[2],this.Bl=0|iM[3],this.Ch=0|iM[4],this.Cl=0|iM[5],this.Dh=0|iM[6],this.Dl=0|iM[7],this.Eh=0|iM[8],this.El=0|iM[9],this.Fh=0|iM[10],this.Fl=0|iM[11],this.Gh=0|iM[12],this.Gl=0|iM[13],this.Hh=0|iM[14],this.Hl=0|iM[15]}}let ij=ir(()=>new iC),iL=ir(()=>new iN),iF=ir(()=>new iU),i$=ir(()=>new iB),iz=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),iq=Uint32Array.from([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),iW=new Uint32Array(32);function iH(e,t,r,n,i,s){let a=i[s],o=i[s+1],l=iW[2*e],c=iW[2*e+1],u=iW[2*t],d=iW[2*t+1],h=iW[2*r],f=iW[2*r+1],p=iW[2*n],y=iW[2*n+1],g=nU(l,u,a);c=nM(g,c,d,o),l=0|g,({Dh:y,Dl:p}={Dh:y^c,Dl:p^l}),({Dh:y,Dl:p}={Dh:nC(y,p),Dl:nT(y)}),({h:f,l:h}=nN(f,h,y,p)),({Bh:d,Bl:u}={Bh:d^f,Bl:u^h}),({Bh:d,Bl:u}={Bh:nI(d,u,24),Bl:nA(d,u,24)}),iW[2*e]=l,iW[2*e+1]=c,iW[2*t]=u,iW[2*t+1]=d,iW[2*r]=h,iW[2*r+1]=f,iW[2*n]=p,iW[2*n+1]=y}function iV(e,t,r,n,i,s){let a=i[s],o=i[s+1],l=iW[2*e],c=iW[2*e+1],u=iW[2*t],d=iW[2*t+1],h=iW[2*r],f=iW[2*r+1],p=iW[2*n],y=iW[2*n+1],g=nU(l,u,a);c=nM(g,c,d,o),l=0|g,({Dh:y,Dl:p}={Dh:y^c,Dl:p^l}),({Dh:y,Dl:p}={Dh:nI(y,p,16),Dl:nA(y,p,16)}),({h:f,l:h}=nN(f,h,y,p)),({Bh:d,Bl:u}={Bh:d^f,Bl:u^h}),({Bh:d,Bl:u}={Bh:nS(d,u,63),Bl:nk(d,u,63)}),iW[2*e]=l,iW[2*e+1]=c,iW[2*t]=u,iW[2*t+1]=d,iW[2*r]=h,iW[2*r+1]=f,iW[2*n]=p,iW[2*n+1]=y}class iK extends it{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,nq(e),nq(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=nG(this.buffer)}update(e){nV(this),nW(e=n7(e));let{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,s=e.byteOffset,a=e.buffer;for(let o=0;o<i;){this.pos===t&&(n1(n),this.compress(n,0,!1),n1(n),this.pos=0);let l=Math.min(t-this.pos,i-o),c=s+o;if(l===t&&!(c%4)&&o+l<i){let e=new Uint32Array(a,c,Math.floor((i-o)/4));n1(e);for(let r=0;o+t<i;r+=n.length,o+=t)this.length+=t,this.compress(e,r,!1);n1(e);continue}r.set(e.subarray(o,o+l),this.pos),this.pos+=l,this.length+=l,o+=l}return this}digestInto(e){nV(this),nK(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,nZ(this.buffer.subarray(t)),n1(r),this.compress(r,0,!0),n1(r);let n=nG(e);this.get().forEach((e,t)=>n[t]=n0(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:n,destroyed:i,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=a,e.outputLen=s,e}clone(){return this._cloneInto()}}class iG extends iK{constructor(e={}){let t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|iq[0],this.v0h=0|iq[1],this.v1l=0|iq[2],this.v1h=0|iq[3],this.v2l=0|iq[4],this.v2h=0|iq[5],this.v3l=0|iq[6],this.v3h=0|iq[7],this.v4l=0|iq[8],this.v4h=0|iq[9],this.v5l=0|iq[10],this.v5h=0|iq[11],this.v6l=0|iq[12],this.v6h=0|iq[13],this.v7l=0|iq[14],this.v7h=0|iq[15],function(e,t={},r,n,i){if(nq(64),e<0||e>64)throw Error("outputLen bigger than keyLen");let{key:s,salt:a,personalization:o}=t;if(void 0!==s&&(s.length<1||s.length>64))throw Error("key length must be undefined or 1.."+r);if(void 0!==a&&16!==a.length)throw Error("salt must be undefined or 16");if(void 0!==o&&16!==o.length)throw Error("personalization must be undefined or 16")}(t,e,64,0,0);let{key:r,personalization:n,salt:i}=e,s=0;if(void 0!==r&&(s=(r=n7(r)).length),this.v0l^=this.outputLen|s<<8|0x1010000,void 0!==i){let e=nG(i=n7(i));this.v4l^=n0(e[0]),this.v4h^=n0(e[1]),this.v5l^=n0(e[2]),this.v5h^=n0(e[3])}if(void 0!==n){let e=nG(n=n7(n));this.v6l^=n0(e[0]),this.v6h^=n0(e[1]),this.v7l^=n0(e[2]),this.v7h^=n0(e[3])}if(void 0!==r){let e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:s,v3l:a,v3h:o,v4l:l,v4h:c,v5l:u,v5h:d,v6l:h,v6h:f,v7l:p,v7h:y}=this;return[e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y]}set(e,t,r,n,i,s,a,o,l,c,u,d,h,f,p,y){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|a,this.v3h=0|o,this.v4l=0|l,this.v4h=0|c,this.v5l=0|u,this.v5h=0|d,this.v6l=0|h,this.v6h=0|f,this.v7l=0|p,this.v7h=0|y}compress(e,t,r){this.get().forEach((e,t)=>iW[t]=e),iW.set(iq,16);let{h:n,l:i}=nv(BigInt(this.length));iW[24]=iq[8]^i,iW[25]=iq[9]^n,r&&(iW[28]=~iW[28],iW[29]=~iW[29]);let s=0;for(let r=0;r<12;r++)iH(0,4,8,12,e,t+2*iz[s++]),iV(0,4,8,12,e,t+2*iz[s++]),iH(1,5,9,13,e,t+2*iz[s++]),iV(1,5,9,13,e,t+2*iz[s++]),iH(2,6,10,14,e,t+2*iz[s++]),iV(2,6,10,14,e,t+2*iz[s++]),iH(3,7,11,15,e,t+2*iz[s++]),iV(3,7,11,15,e,t+2*iz[s++]),iH(0,5,10,15,e,t+2*iz[s++]),iV(0,5,10,15,e,t+2*iz[s++]),iH(1,6,11,12,e,t+2*iz[s++]),iV(1,6,11,12,e,t+2*iz[s++]),iH(2,7,8,13,e,t+2*iz[s++]),iV(2,7,8,13,e,t+2*iz[s++]),iH(3,4,9,14,e,t+2*iz[s++]),iV(3,4,9,14,e,t+2*iz[s++]);this.v0l^=iW[0]^iW[16],this.v0h^=iW[1]^iW[17],this.v1l^=iW[2]^iW[18],this.v1h^=iW[3]^iW[19],this.v2l^=iW[4]^iW[20],this.v2h^=iW[5]^iW[21],this.v3l^=iW[6]^iW[22],this.v3h^=iW[7]^iW[23],this.v4l^=iW[8]^iW[24],this.v4h^=iW[9]^iW[25],this.v5l^=iW[10]^iW[26],this.v5h^=iW[11]^iW[27],this.v6l^=iW[12]^iW[28],this.v6h^=iW[13]^iW[29],this.v7l^=iW[14]^iW[30],this.v7h^=iW[15]^iW[31],nZ(iW)}destroy(){this.destroyed=!0,nZ(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let iZ=function(e){let t=(t,r)=>e(r).update(n7(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new iG(e));function iJ(e){let t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+rz.from(i_(r)).toString("hex")}async function iY(e,t,r,n,i,s){switch(r.t){case"eip191":return await function(e,t,r){let n=function(e){if(130!==e.length&&132!==e.length)throw new S({signature:e});let t=BigInt(b(e,0,32)),r=BigInt(b(e,32,64)),n=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return function(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new C({value:e})}(t)}catch{throw new k({value:t})}})();return void 0===n?{r:t,s:r}:{r:t,s:r,yParity:n}}(r);return(function(e,t={}){let r=tM(`0x${(function(e,t={}){tB(e);let{prefix:r,x:n,y:i}=e,{includePrefix:s=!0}=t;return function(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}(s?g(r,{size:1}):"0x",g(n,{size:32}),"bigint"==typeof i?g(i,{size:32}):"0x")})(e).slice(4)}`).substring(26);return function(e,t={}){let{checksum:r=!1}=t;return(tH(e),r)?tV(e):e}(`0x${r}`,t)})(function(e){let{payload:t,signature:r}=e,{r:n,s:i,yParity:s}=r;return function(e){let t=(()=>{if(function(e,t={}){let{strict:r=!1}=t;try{return!function(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new _(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new x(e)}(e,{strict:r}),!0}catch{return!1}}(e))return tj(e);if(function(e){try{return!function(e){if(!(e instanceof Uint8Array)&&(!e||"object"!=typeof e||!("BYTES_PER_ELEMENT"in e)||1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name))throw new ty(e)}(e),!0}catch{return!1}}(e))return tj(y(e));let{prefix:t,x:r,y:n}=e;return"bigint"==typeof r&&"bigint"==typeof n?{prefix:t??4,x:r,y:n}:{prefix:t,x:r}})();return tB(t),t}(new td.Signature(BigInt(n),BigInt(i)).addRecoveryBit(s).recoverPublicKey(p(t).substring(2)))}({payload:iJ(t),signature:n})).toLowerCase()===e.toLowerCase()}(e,t,r.s);case"eip1271":return await iQ(e,t,r.s,n,i,s);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function iQ(e,t,r,n,i,s){let a=rq(n);if(!a.namespace||!a.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let a="0x1626ba7e",o=r.substring(2),l=(o.length/2).toString(16).padStart(64,"0"),c=(t.startsWith("0x")?t:iJ(t)).substring(2),u=a+c+"0000000000000000000000000000000000000000000000000000000000000040"+l+o,d=await fetch(`${s||"https://rpc.walletconnect.org/v1"}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:h}=await d.json();return!!h&&h.slice(0,a.length).toLowerCase()===a.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}function iX(e){let t=new Uint8Array(ij(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return tJ.A.encode(t)}function i0(e){let t=rz.from(e,"base64"),r=(0,tY.D)(t).txn;if(!r)throw Error("Invalid signed transaction: missing 'txn' field");let n=(0,tQ.l)(r),i=rz.from("TX"),s=i$(rz.concat([i,rz.from(n)]));return rt.encode(s).replace(/=+$/,"")}function i1(e){let t=[],r=BigInt(e);for(;r>=BigInt(128);)t.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return t.push(Number(r)),rz.from(t)}var i2=Object.defineProperty,i6=Object.defineProperties,i5=Object.getOwnPropertyDescriptors,i8=Object.getOwnPropertySymbols,i3=Object.prototype.hasOwnProperty,i4=Object.prototype.propertyIsEnumerable,i9=(e,t,r)=>t in e?i2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i7=(e,t)=>{for(var r in t||(t={}))i3.call(t,r)&&i9(e,r,t[r]);if(i8)for(var r of i8(t))i4.call(t,r)&&i9(e,r,t[r]);return e},se=(e,t)=>i6(e,i5(t));let st=e=>e?.split(":"),sr=e=>{let t=e&&st(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]},sn=e=>{let t=e&&st(e);if(t)return t[2]+":"+t[3]},si=e=>{let t=e&&st(e);if(t)return t.pop()};async function ss(e){let{cacao:t,projectId:r}=e,{s:n,p:i}=t,s=sa(i,i.iss),a=si(i.iss);return await iY(a,s,n,sn(i.iss),r)}let sa=(e,t)=>{let r=`${e.domain} wants you to sign in with your Ethereum account:`,n=si(t);if(!e.aud&&!e.uri)throw Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0,s=`URI: ${e.aud||e.uri}`,a=`Version: ${e.version}`,o=`Chain ID: ${sr(t)}`,l=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,d=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,f=e.resources?`Resources:${e.resources.map(e=>`
- ${e}`).join("")}`:void 0,p=sh(e.resources);return p&&(i=function(e="",t){so(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],i=0;Object.keys(t.att).forEach(e=>{let r=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));r.sort((e,t)=>e.action.localeCompare(t.action));let s={};r.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});let a=Object.keys(s).map(t=>(i++,`(${i}) '${t}': '${s[t].join("', '")}' for '${e}'.`));n.push(a.join(", ").replace(".,","."))});let s=n.join(" "),a=`${r}${s}`;return`${e?e+" ":""}${a}`}(i,sc(p))),[r,n,"",i,"",s,a,o,l,c,u,d,h,f].filter(e=>null!=e).join(`
`)};function so(e){if(!e)throw Error("No recap provided, value is undefined");if(!e.att)throw Error("No `att` property found");let t=Object.keys(e.att);if(!(null!=t&&t.length))throw Error("No resources found in `att` property");t.forEach(t=>{let r=e.att[t];if(Array.isArray(r)||"object"!=typeof r)throw Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(e=>{let t=r[e];if(!Array.isArray(t))throw Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function sl(e){return so(e),`urn:recap:${rz.from(JSON.stringify(e)).toString("base64").replace(/=/g,"")}`}function sc(e){var t;let r=(t=e.replace("urn:recap:",""),JSON.parse(rz.from(t,"base64").toString("utf-8")));return so(r),r}function su(e){var t;let r=sc(e);so(r);let n=null==(t=r.att)?void 0:t.eip155;return n?Object.keys(n).map(e=>e.split("/")[1]):[]}function sd(e){let t=sc(e);so(t);let r=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&r.push(e[0].chains)})}),[...new Set(r.flat())]}function sh(e){if(!e)return;let t=e?.[e.length-1];return t&&t.includes("urn:recap:")?t:void 0}function sf(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function sp(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function sy(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function sg(e,...t){if(!sf(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function sm(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function sb(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function sw(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let sv=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function s_(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(sf(e))e=sI(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function sx(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function sE(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,c=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)}function sI(e){return Uint8Array.from(e)}let sA=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),sS=sA("expand 16-byte k"),sk=sA("expand 32-byte k"),sC=sb(sS),sT=sb(sk);function sO(e,t){return e<<t|e>>>32-t}function sP(e){return e.byteOffset%4==0}let sR=0x100000000-1,sD=new Uint32Array,sN=(e,t)=>255&e[t++]|(255&e[t++])<<8;class sU{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,sg(e=s_(e),32);let t=sN(e,0),r=sN(e,2),n=sN(e,4),i=sN(e,6),s=sN(e,8),a=sN(e,10),o=sN(e,12),l=sN(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|o<<5)&8065,this.r[8]=(o>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=sN(e,16+2*t)}process(e,t,r=!1){let{h:n,r:i}=this,s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],p=i[9],y=sN(e,t+0),g=sN(e,t+2),m=sN(e,t+4),b=sN(e,t+6),w=sN(e,t+8),v=sN(e,t+10),_=sN(e,t+12),x=sN(e,t+14),E=n[0]+(8191&y),I=n[1]+((y>>>13|g<<3)&8191),A=n[2]+((g>>>10|m<<6)&8191),S=n[3]+((m>>>7|b<<9)&8191),k=n[4]+((b>>>4|w<<12)&8191),C=n[5]+(w>>>1&8191),T=n[6]+((w>>>14|v<<2)&8191),O=n[7]+((v>>>11|_<<5)&8191),P=n[8]+((_>>>8|x<<8)&8191),R=n[9]+(x>>>5|(r?0:2048)),D=0,N=0+E*s+5*p*I+5*f*A+5*h*S+5*d*k;D=N>>>13,N&=8191,N+=5*u*C+5*c*T+5*l*O+5*o*P+5*a*R,D+=N>>>13,N&=8191;let U=D+E*a+I*s+5*p*A+5*f*S+5*h*k;D=U>>>13,U&=8191,U+=5*d*C+5*u*T+5*c*O+5*l*P+5*o*R,D+=U>>>13,U&=8191;let M=D+E*o+I*a+A*s+5*p*S+5*f*k;D=M>>>13,M&=8191,M+=5*h*C+5*d*T+5*u*O+5*c*P+5*l*R,D+=M>>>13,M&=8191;let B=D+E*l+I*o+A*a+S*s+5*p*k;D=B>>>13,B&=8191,B+=5*f*C+5*h*T+5*d*O+5*u*P+5*c*R,D+=B>>>13,B&=8191;let j=D+E*c+I*l+A*o+S*a+k*s;D=j>>>13,j&=8191,j+=5*p*C+5*f*T+5*h*O+5*d*P+5*u*R,D+=j>>>13,j&=8191;let L=D+E*u+I*c+A*l+S*o+k*a;D=L>>>13,L&=8191,L+=C*s+5*p*T+5*f*O+5*h*P+5*d*R,D+=L>>>13,L&=8191;let F=D+E*d+I*u+A*c+S*l+k*o;D=F>>>13,F&=8191,F+=C*a+T*s+5*p*O+5*f*P+5*h*R,D+=F>>>13,F&=8191;let $=D+E*h+I*d+A*u+S*c+k*l;D=$>>>13,$&=8191,$+=C*o+T*a+O*s+5*p*P+5*f*R,D+=$>>>13,$&=8191;let z=D+E*f+I*h+A*d+S*u+k*c;D=z>>>13,z&=8191,z+=C*l+T*o+O*a+P*s+5*p*R,D+=z>>>13,z&=8191;let q=D+E*p+I*f+A*h+S*d+k*u;D=q>>>13,q&=8191,q+=C*c+T*l+O*o+P*a+R*s,D+=q>>>13,q&=8191,N=8191&(D=(D=(D<<2)+D|0)+N|0),D>>>=13,U+=D,n[0]=N,n[1]=U,n[2]=M,n[3]=B,n[4]=j,n[5]=L,n[6]=F,n[7]=$,n[8]=z,n[9]=q}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+t[0];e[0]=65535&s;for(let r=1;r<8;r++)s=(e[r]+t[r]|0)+(s>>>16)|0,e[r]=65535&s;sw(r)}update(e){sm(this),sg(e=s_(e));let{buffer:t,blockLen:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(r-this.pos,n-i);if(s===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){sw(this.h,this.r,this.buffer,this.pad)}digestInto(e){sm(this),function(e,t){sg(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let sM=function(e){let t=(t,r)=>e(r).update(s_(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new sU(e)),sB=function(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:a}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return sy(i),sy(a),sp(s),sp(r),(t,o,l,c,u=0)=>{sg(t),sg(o),sg(l);let d=l.length;if(void 0===c&&(c=new Uint8Array(d)),sg(c),sy(u),u<0||u>=sR)throw Error("arx: counter overflow");if(c.length<d)throw Error(`arx: output (${c.length}) is shorter than data (${d})`);let h=[],f=t.length,p,y;if(32===f)h.push(p=sI(t)),y=sT;else if(16===f&&r)(p=new Uint8Array(32)).set(t),p.set(t,16),y=sC,h.push(p);else throw Error(`arx: invalid 32-byte key, got length=${f}`);sP(o)||h.push(o=sI(o));let g=sb(p);if(n){if(24!==o.length)throw Error("arx: extended nonce must be 24 bytes");n(y,g,sb(o.subarray(0,16)),g),o=o.subarray(16)}let m=16-i;if(m!==o.length)throw Error(`arx: nonce must be ${m} or 16 bytes`);if(12!==m){let e=new Uint8Array(12);e.set(o,s?0:12-o.length),o=e,h.push(o)}return function(e,t,r,n,i,s,a,o){let l=i.length,c=new Uint8Array(64),u=sb(c),d=sP(i)&&sP(s),h=d?sb(i):sD,f=d?sb(s):sD;for(let p=0;p<l;a++){if(e(t,r,n,u,a,o),a>=sR)throw Error("arx: counter overflow");let y=Math.min(64,l-p);if(d&&64===y){let e=p/4;if(p%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)f[r=e+t]=h[r]^u[t];p+=64;continue}for(let e=0,t;e<y;e++)s[t=p+e]=i[t]^c[e];p+=y}}(e,y,g,sb(o),l,c,u,a),sw(...h),c}}(function(e,t,r,n,i,s=20){let a=e[0],o=e[1],l=e[2],c=e[3],u=t[0],d=t[1],h=t[2],f=t[3],p=t[4],y=t[5],g=t[6],m=t[7],b=r[0],w=r[1],v=r[2],_=a,x=o,E=l,I=c,A=u,S=d,k=h,C=f,T=p,O=y,P=g,R=m,D=i,N=b,U=w,M=v;for(let e=0;e<s;e+=2)T=T+(D=sO(D^(_=_+A|0),16))|0,_=_+(A=sO(A^T,12))|0,T=T+(D=sO(D^_,8))|0,A=sO(A^T,7),O=O+(N=sO(N^(x=x+S|0),16))|0,x=x+(S=sO(S^O,12))|0,O=O+(N=sO(N^x,8))|0,S=sO(S^O,7),P=P+(U=sO(U^(E=E+k|0),16))|0,E=E+(k=sO(k^P,12))|0,P=P+(U=sO(U^E,8))|0,k=sO(k^P,7),R=R+(M=sO(M^(I=I+C|0),16))|0,I=I+(C=sO(C^R,12))|0,R=R+(M=sO(M^I,8))|0,C=sO(C^R,7),P=P+(M=sO(M^(_=_+S|0),16))|0,_=_+(S=sO(S^P,12))|0,P=P+(M=sO(M^_,8))|0,S=sO(S^P,7),R=R+(D=sO(D^(x=x+k|0),16))|0,x=x+(k=sO(k^R,12))|0,R=R+(D=sO(D^x,8))|0,k=sO(k^R,7),T=T+(N=sO(N^(E=E+C|0),16))|0,E=E+(C=sO(C^T,12))|0,T=T+(N=sO(N^E,8))|0,C=sO(C^T,7),O=O+(U=sO(U^(I=I+A|0),16))|0,I=I+(A=sO(A^O,12))|0,O=O+(U=sO(U^I,8))|0,A=sO(A^O,7);let B=0;n[B++]=a+_|0,n[B++]=o+x|0,n[B++]=l+E|0,n[B++]=c+I|0,n[B++]=u+A|0,n[B++]=d+S|0,n[B++]=h+k|0,n[B++]=f+C|0,n[B++]=p+T|0,n[B++]=y+O|0,n[B++]=g+P|0,n[B++]=m+R|0,n[B++]=i+D|0,n[B++]=b+N|0,n[B++]=w+U|0,n[B++]=v+M|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),sj=new Uint8Array(16),sL=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(sj.subarray(r))},sF=new Uint8Array(32);function s$(e,t,r,n,i){let s=e(t,r,sF),a=sM.create(s);i&&sL(a,i),sL(a,n);let o=function(e,t,r){sp(r);let n=new Uint8Array(16),i=new DataView(n.buffer,n.byteOffset,n.byteLength);return sE(i,0,BigInt(t),r),sE(i,8,BigInt(e),r),n}(n.length,i?i.length:0,!0);a.update(o);let l=a.digest();return sw(s,o),l}let sz=((e,t)=>{function r(n,...i){if(sg(n),!sv)throw Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){let t=i[0];if(!t)throw Error("nonce / iv required");e.varSizeNonce?sg(t):sg(t,e.nonceLength)}let s=e.tagLength;s&&void 0!==i[1]&&sg(i[1]);let a=t(n,...i),o=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");sg(t)}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,sg(e),o(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(sg(e),s&&e.length<s)throw Error("invalid ciphertext length: smaller than tagLength="+s);return o(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,r,n)=>({encrypt(i,s){let a=i.length;(s=sx(a+16,s,!1)).set(i);let o=s.subarray(0,-16);e(t,r,o,o,1);let l=s$(e,t,r,o,n);return s.set(l,a),sw(l),s},decrypt(i,s){s=sx(i.length-16,s,!1);let a=i.subarray(0,-16),o=i.subarray(-16),l=s$(e,t,r,a,n);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(o,l))throw Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,r,s,s,1),sw(l),s}}))(sB));class sq extends it{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,nH(e);let r=n7(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),nZ(i)}update(e){return nV(this),this.iHash.update(e),this}digestInto(e){nV(this),nW(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let sW=(e,t,r)=>new sq(e,t).update(r).digest();sW.create=(e,t)=>new sq(e,t);let sH=Uint8Array.from([0]),sV=Uint8Array.of(),sK=(e,t,r,n,i)=>(function(e,t,r,n=32){nH(e),nq(n);let i=e.outputLen;if(n>255*i)throw Error("Length should be <= 255*HashLen");let s=Math.ceil(n/i);void 0===r&&(r=sV);let a=new Uint8Array(s*i),o=sW.create(e,t),l=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let e=0;e<s;e++)sH[0]=e+1,l.update(0===e?sV:c).update(r).update(sH).digestInto(c),a.set(c,i*e),o._cloneInto(l);return o.destroy(),l.destroy(),nZ(c,sH),a.slice(0,n)})(e,function(e,t,r){return nH(e),void 0===r&&(r=new Uint8Array(e.outputLen)),sW(e,n7(r),n7(t))}(e,t,r),n,i),sG=BigInt(0),sZ=BigInt(1);function sJ(e,t=""){if("boolean"!=typeof e)throw Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e);return e}function sY(e,t,r=""){let n=nz(e),i=e?.length,s=void 0!==t;if(!n||s&&i!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(n?`length=${i}`:`type=${typeof e}`));return e}function sQ(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function sX(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?sG:BigInt("0x"+e)}function s0(e){return nW(e),sX(n5(Uint8Array.from(e).reverse()))}function s1(e,t){return n4(e.toString(16).padStart(2*t,"0"))}function s2(e,t){return s1(e,t).reverse()}function s6(e,t,r){let n;if("string"==typeof t)try{n=n4(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(nz(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}let s5=e=>"bigint"==typeof e&&sG<=e;function s8(e,t,r,n){if(!(s5(t)&&s5(r)&&s5(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function s3(e){let t;for(t=0;e>sG;e>>=sZ,t+=1);return t}let s4=e=>(sZ<<BigInt(e))-sZ;function s9(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let s=typeof i;if(s!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}function s7(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let ae=BigInt(0),at=BigInt(1),ar=BigInt(2),an=BigInt(3),ai=BigInt(4),as=BigInt(5),aa=BigInt(7),ao=BigInt(8),al=BigInt(9),ac=BigInt(16);function au(e,t){let r=e%t;return r>=ae?r:t+r}function ad(e,t,r){let n=e;for(;t-- >ae;)n*=n,n%=r;return n}function ah(e,t){if(e===ae)throw Error("invert: expected non-zero number");if(t<=ae)throw Error("invert: expected positive modulus, got "+t);let r=au(e,t),n=t,i=ae,s=at;for(;r!==ae;){let e=n/r,t=n%r,a=i-s*e;n=r,r=t,i=s,s=a}if(n!==at)throw Error("invert: does not exist");return au(i,t)}function af(e,t,r){if(!e.eql(e.sqr(t),r))throw Error("Cannot find square root")}function ap(e,t){let r=(e.ORDER+at)/ai,n=e.pow(t,r);return af(e,n,t),n}function ay(e,t){let r=(e.ORDER-as)/ao,n=e.mul(t,ar),i=e.pow(n,r),s=e.mul(t,i),a=e.mul(e.mul(s,ar),i),o=e.mul(s,e.sub(a,e.ONE));return af(e,o,t),o}function ag(e){if(e<an)throw Error("sqrt is not defined for small field");let t=e-at,r=0;for(;t%ar===ae;)t/=ar,r++;let n=ar,i=a_(e);for(;1===aw(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return ap;let s=i.pow(n,t),a=(t+at)/ar;return function(e,n){if(e.is0(n))return n;if(1!==aw(e,n))throw Error("Cannot find square root");let i=r,o=e.mul(e.ONE,s),l=e.pow(n,t),c=e.pow(n,a);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=at<<BigInt(i-t-1),s=e.pow(o,n);i=t,o=e.sqr(s),l=e.mul(l,o),c=e.mul(c,s)}return c}}let am=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ab(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function aw(e,t){let r=(e.ORDER-at)/ar,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!a)throw Error("invalid Legendre symbol result");return i?1:s?0:-1}function av(e,t){void 0!==t&&nq(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function a_(e,t,r=!1,n={}){let i;if(e<=ae)throw Error("invalid field: expected ORDER > 0, got "+e);let s,a,o=!1,l;if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(s=t.BITS),t.sqrt&&(a=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE),"boolean"==typeof t.modFromBytes&&(o=t.modFromBytes),l=t.allowedLengths}else"number"==typeof t&&(s=t),n.sqrt&&(a=n.sqrt);let{nBitLength:c,nByteLength:u}=av(e,s);if(u>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let d=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:u,MASK:s4(c),ZERO:ae,ONE:at,allowedLengths:l,create:t=>au(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return ae<=t&&t<e},is0:e=>e===ae,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&at)===at,neg:t=>au(-t,e),eql:(e,t)=>e===t,sqr:t=>au(t*t,e),add:(t,r)=>au(t+r,e),sub:(t,r)=>au(t-r,e),mul:(t,r)=>au(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ae)throw Error("invalid exponent, negatives unsupported");if(r===ae)return e.ONE;if(r===at)return t;let n=e.ONE,i=t;for(;r>ae;)r&at&&(n=e.mul(n,i)),i=e.sqr(i),r>>=at;return n})(d,e,t),div:(t,r)=>au(t*ah(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ah(t,e),sqrt:a||(t=>(i||(i=e%ai===an?ap:e%ao===as?ay:e%ac===al?function(e){let t=a_(e),r=ag(e),n=r(t,t.neg(t.ONE)),i=r(t,n),s=r(t,t.neg(n)),a=(e+aa)/ac;return(e,t)=>{let r=e.pow(t,a),o=e.mul(r,n),l=e.mul(r,i),c=e.mul(r,s),u=e.eql(e.sqr(o),t),d=e.eql(e.sqr(l),t);r=e.cmov(r,o,u),o=e.cmov(c,l,d);let h=e.eql(e.sqr(o),t),f=e.cmov(r,o,h);return af(e,f,t),f}}(e):ag(e)),i(d,t))),toBytes:e=>r?s2(e,u):s1(e,u),fromBytes:(t,n=!0)=>{if(l){if(!l.includes(t.length)||t.length>u)throw Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let e=new Uint8Array(u);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==u)throw Error("Field.fromBytes: expected "+u+" bytes, got "+t.length);let i=r?s0(t):sX(n5(t));if(o&&(i=au(i,e)),!n&&!d.isValid(i))throw Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>ab(d,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(d)}function ax(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function aE(e){let t=ax(e);return t+Math.ceil(t/2)}let aI=BigInt(0),aA=BigInt(1);function aS(e,t){let r=t.negate();return e?r:t}function ak(e,t){let r=ab(e.Fp,t.map(e=>e.Z));return t.map((t,n)=>e.fromAffine(t.toAffine(r[n])))}function aC(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function aT(e,t){aC(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:s4(e),maxNumber:i,shiftBy:BigInt(e)}}function aO(e,t,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r,o=Number(e&i),l=e>>a;o>n&&(o-=s,l+=aA);let c=t*n;return{nextN:l,offset:c+Math.abs(o)-1,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:c}}let aP=new WeakMap,aR=new WeakMap;function aD(e){return aR.get(e)||1}function aN(e){if(e!==aI)throw Error("invalid wNAF")}class aU{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>aI;)t&aA&&(r=r.add(n)),n=n.double(),t>>=aA;return r}precomputeWindow(e,t){let{windows:r,windowSize:n}=aT(t,this.bits),i=[],s=e,a=s;for(let e=0;e<r;e++){a=s,i.push(a);for(let e=1;e<n;e++)a=a.add(s),i.push(a);s=a.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw Error("invalid scalar");let n=this.ZERO,i=this.BASE,s=aT(e,this.bits);for(let e=0;e<s.windows;e++){let{nextN:a,offset:o,isZero:l,isNeg:c,isNegF:u,offsetF:d}=aO(r,e,s);r=a,l?i=i.add(aS(u,t[d])):n=n.add(aS(c,t[o]))}return aN(r),{p:n,f:i}}wNAFUnsafe(e,t,r,n=this.ZERO){let i=aT(e,this.bits);for(let e=0;e<i.windows&&r!==aI;e++){let{nextN:s,offset:a,isZero:o,isNeg:l}=aO(r,e,i);if(r=s,!o){let e=t[a];n=n.add(l?e.negate():e)}}return aN(r),n}getPrecomputes(e,t,r){let n=aP.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),aP.set(t,n))),n}cached(e,t,r){let n=aD(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){let i=aD(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}createCache(e,t){aC(t,this.bits),aR.set(e,t),aP.delete(e)}hasCache(e){return 1!==aD(e)}}function aM(e,t,r){if(!t)return a_(e,{isLE:r});if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return s9(t,am.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}BigInt(0),BigInt(1),BigInt(2),BigInt(8),n9("HashToScalar-");let aB=BigInt(0),aj=BigInt(1),aL=BigInt(2),aF=BigInt(1),a$=BigInt(2),az=BigInt(3),aq=BigInt(5),aW=BigInt(8),aH=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed");function aV(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}let aK=a_({p:aH,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:aW,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}.p,{isLE:!0}),aG=(()=>{let e=aK.ORDER;return function(e){let{P:t,type:r,adjustScalarBytes:n,powPminus2:i,randomBytes:s}=(s9(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),a="x25519"===r;if(!a&&"x448"!==r)throw Error("invalid type");let o=s||ii,l=a?255:448,c=a?32:56,u=BigInt(a?9:5),d=BigInt(a?121665:39081),h=a?aL**BigInt(254):aL**BigInt(447),f=h+(a?BigInt(8)*aL**BigInt(251)-aj:BigInt(4)*aL**BigInt(445)-aj)+aj,p=e=>au(e,t),y=s2(p(u),c);function g(e,r){let s=function(e,r){s8("u",e,aB,t),s8("scalar",r,h,f);let n=aj,s=aB,a=e,o=aj,c=aB;for(let t=BigInt(l-1);t>=aB;t--){let i=r>>t&aj;c^=i,({x_2:n,x_3:a}=b(c,n,a)),({x_2:s,x_3:o}=b(c,s,o)),c=i;let l=n+s,u=p(l*l),h=n-s,f=p(h*h),y=u-f,g=a+o,m=p((a-o)*l),w=p(g*h),v=m+w,_=m-w;a=p(v*v),o=p(e*p(_*_)),n=p(u*f),s=p(y*(u+p(d*y)))}return{x_2:n,x_3:a}=b(c,n,a),{x_2:s,x_3:o}=b(c,s,o),p(n*i(s))}(function(e){let t=s6("u coordinate",e,c);return a&&(t[31]&=127),p(s0(t))}(r),s0(n(s6("scalar",e,c))));if(s===aB)throw Error("invalid private or public key received");return s2(p(s),c)}function m(e){return g(e,y)}function b(e,t,r){let n=p(e*(t-r));return{x_2:t=p(t-n),x_3:r=p(r+n)}}let w={secretKey:c,publicKey:c,seed:c},v=(e=o(c))=>(nW(e,w.seed),e);return{keygen:function(e){let t=v(e);return{secretKey:t,publicKey:m(t)}},getSharedSecret:(e,t)=>g(e,t),getPublicKey:e=>m(e),scalarMult:g,scalarMultBase:m,utils:{randomSecretKey:v,randomPrivateKey:v},GuBytes:y.slice(),lengths:w}}({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=e*e%aH*e%aH,a=ad(s,a$,aH)*s%aH,o=ad(a,aF,aH)*e%aH,l=ad(o,aq,aH)*o%aH,c=ad(l,t,aH)*l%aH,u=ad(c,r,aH)*c%aH,d=ad(u,n,aH)*u%aH,h=ad(d,i,aH)*d%aH,f=ad(h,i,aH)*d%aH,p=ad(f,t,aH)*l%aH;return{pow_p_5_8:ad(p,a$,aH)*e%aH,b2:s}}(t);return au(ad(r,az,e)*n,e)},adjustScalarBytes:aV})})(),aZ=(e,t)=>(e+(e>=0?t:-t)/a2)/t;function aJ(e){if(!["compact","recovered","der"].includes(e))throw Error('Signature format must be "compact", "recovered", or "der"');return e}function aY(e,t){let r={};for(let n of Object.keys(t))r[n]=void 0===e[n]?t[n]:e[n];return sJ(r.lowS,"lowS"),sJ(r.prehash,"prehash"),void 0!==r.format&&aJ(r.format),r}class aQ extends Error{constructor(e=""){super(e)}}let aX={Err:aQ,_tlv:{encode:(e,t)=>{let{Err:r}=aX;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=sQ(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?sQ(i.length/2|128):"";return sQ(e)+s+i+t},decode(e,t){let{Err:r}=aX,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],s=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let a=t.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+s)}}},_int:{encode(e){let{Err:t}=aX;if(e<a0)throw new t("integer: negative integers are not allowed");let r=sQ(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=aX;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return sX(n5(e))}},toSig(e){let{Err:t,_int:r,_tlv:n}=aX,i=s6("signature",e),{v:s,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=aX,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},a0=BigInt(0),a1=BigInt(1),a2=BigInt(2),a6=BigInt(3),a5=BigInt(4);function a8(e,t){let r;let{BYTES:n}=e;if("bigint"==typeof t)r=t;else{let i=s6("private key",t);try{r=e.fromBytes(i)}catch{throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw Error("invalid private key: out of range [1..N-1]");return r}function a3(e){return Uint8Array.of(e?2:3)}function a4(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function a9(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,hash:n,ecdsaOpts:i}=function(e){let{CURVE:t,curveOpts:r}=function(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0,i={Fp:r,Fn:a_(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}(e),n={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:n}}(e);return function(e,t){let r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,av(r.Fn.ORDER,r.Fn.BITS))})}(e,function(e,t,r={}){nH(t),s9(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||ii,i=r.hmac||((e,...r)=>sW(t,e,ie(...r))),{Fp:s,Fn:a}=e,{ORDER:o,BITS:l}=a,{keygen:c,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=function(e,t={}){let{Fn:r}=e,n=t.randomBytes||ii,i=Object.assign(a4(e.Fp,r),{seed:aE(r.ORDER)});function s(e){try{return!!a8(r,e)}catch{return!1}}function a(e=n(i.seed)){return function(e,t,r=!1){let n=e.length,i=ax(t),s=aE(t);if(n<16||n<s||n>1024)throw Error("expected "+s+"-1024 bytes of input, got "+n);let a=au(r?s0(e):sX(n5(e)),t-at)+at;return r?s2(a,i):s1(a,i)}(sY(e,i.seed,"seed"),r.ORDER)}function o(t,n=!0){return e.BASE.multiply(a8(r,t)).toBytes(n)}function l(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let{secretKey:n,publicKey:s,publicKeyUncompressed:a}=i;if(r.allowedLengths||n===s)return;let o=s6("key",t).length;return o===s||o===a}return Object.freeze({getPublicKey:o,getSharedSecret:function(t,n,i=!0){if(!0===l(t))throw Error("first arg must be private key");if(!1===l(n))throw Error("second arg must be public key");let s=a8(r,t);return e.fromHex(n).multiply(s).toBytes(i)},keygen:function(e){let t=a(e);return{secretKey:t,publicKey:o(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,r){let{publicKey:n,publicKeyUncompressed:s}=i;try{let i=t.length;return(!0!==r||i===n)&&(!1!==r||i===s)&&!!e.fromBytes(t)}catch{return!1}},randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:e=>a8(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:i})}(e,r),p={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},y="compact";function g(e,t){if(!a.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class m{constructor(e,t,r){this.r=g("r",e),this.s=g("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=y){let r;if(!function(e,t){aJ(t);let r=f.signature;sY(e,"compact"===t?r:"recovered"===t?r+1:void 0,`${t} signature`)}(e,t),"der"===t){let{r:t,s:r}=aX.toSig(sY(e));return new m(t,r)}"recovered"===t&&(r=e[0],t="compact",e=e.subarray(1));let n=a.BYTES,i=e.subarray(0,n),s=e.subarray(n,2*n);return new m(a.fromBytes(i),a.fromBytes(s),r)}static fromHex(e,t){return this.fromBytes(n4(e),t)}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(t){let r=s.ORDER,{r:n,s:i,recovery:l}=this;if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");if(o*a2<r&&l>1)throw Error("recovery id is ambiguous for h>1 curve");let c=2===l||3===l?n+o:n;if(!s.isValid(c))throw Error("recovery id 2 or 3 invalid");let u=s.toBytes(c),d=e.fromBytes(ie(a3((1&l)==0),u)),h=a.inv(c),f=w(s6("msgHash",t)),p=a.create(-f*h),y=a.create(i*h),g=e.BASE.multiplyUnsafe(p).add(d.multiplyUnsafe(y));if(g.is0())throw Error("point at infinify");return g.assertValidity(),g}hasHighS(){return this.s>o>>a1}toBytes(e=y){if(aJ(e),"der"===e)return n4(aX.hexFromSig(this));let t=a.toBytes(this.r),r=a.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw Error("recovery bit must be present");return ie(Uint8Array.of(this.recovery),t,r)}return ie(t,r)}toHex(e){return n5(this.toBytes(e))}assertValidity(){}static fromCompact(e){return m.fromBytes(s6("sig",e),"compact")}static fromDER(e){return m.fromBytes(s6("sig",e),"der")}normalizeS(){return this.hasHighS()?new m(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return n5(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return n5(this.toBytes("compact"))}}let b=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=sX(n5(e)),r=8*e.length-l;return r>0?t>>BigInt(r):t},w=r.bits2int_modN||function(e){return a.create(b(e))},v=s4(l);function _(e){return s8("num < 2^"+l,e,a0,v),a.toBytes(e)}function x(e,r){return sY(e,void 0,"message"),r?sY(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:c,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:e,sign:function(r,s,l={}){let{seed:c,k2sig:u}=function(t,r,i){if(["recovered","canonical"].some(e=>e in i))throw Error("sign() legacy options not supported");let{lowS:s,prehash:l,extraEntropy:c}=aY(i,p),u=w(t=x(t,l)),d=a8(a,r),h=[_(d),_(u)];if(null!=c&&!1!==c){let e=!0===c?n(f.secretKey):c;h.push(s6("extraEntropy",e))}return{seed:ie(...h),k2sig:function(t){let r=b(t);if(!a.isValidNot0(r))return;let n=a.inv(r),i=e.BASE.multiply(r).toAffine(),l=a.create(i.x);if(l===a0)return;let c=a.create(n*a.create(u+l*d));if(c===a0)return;let h=(i.x===l?0:2)|Number(i.y&a1),f=c;return s&&c>o>>a1&&(f=a.neg(c),h^=1),new m(l,f,h)}}}(r=s6("message",r),s,l);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e),s=n(e),a=n(e),o=0,l=()=>{s.fill(1),a.fill(0),o=0},c=(...e)=>r(a,s,...e),u=(e=n(0))=>{a=c(i(0),e),s=c(),0!==e.length&&(a=c(i(1),e),s=c())},d=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(s=c()).slice();r.push(t),e+=s.length}return ie(...r)};return(e,t)=>{let r;for(l(),u(e);!(r=t(d()));)u();return l(),r}})(t.outputLen,a.BYTES,i)(c,u)},verify:function(t,r,n,i={}){let{lowS:s,prehash:o,format:l}=aY(i,p);if(n=s6("publicKey",n),r=x(s6("message",r),o),"strict"in i)throw Error("options.strict was renamed to lowS");let c=void 0===l?function(e){let t;let r="string"==typeof e||nz(e),n=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!n)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)t=new m(e.r,e.s);else if(r){try{t=m.fromBytes(s6("sig",e),"der")}catch(e){if(!(e instanceof aX.Err))throw e}if(!t)try{t=m.fromBytes(s6("sig",e),"compact")}catch{return!1}}return t||!1}(t):m.fromBytes(s6("sig",t),l);if(!1===c)return!1;try{let t=e.fromBytes(n);if(s&&c.hasHighS())return!1;let{r:i,s:o}=c,l=w(r),u=a.inv(o),d=a.create(l*u),h=a.create(i*u),f=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(h));return!f.is0()&&a.create(f.x)===i}catch{return!1}},recoverPublicKey:function(e,t,r={}){let{prehash:n}=aY(r,p);return t=x(t,n),m.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:m,hash:t})}(function(e,t={}){let r=function(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>aI))throw Error(`CURVE.${e} must be positive bigint`)}let i=aM(t.p,r.Fp,n),s=aM(t.n,r.Fn,n);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!i.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}("weierstrass",e,t),{Fp:n,Fn:i}=r,s=r.CURVE,{h:a,n:o}=s;s9(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=t;if(l&&(!n.is0(s.a)||"bigint"!=typeof l.beta||!Array.isArray(l.basises)))throw Error('invalid endo: expected "beta": bigint and "basises": array');let c=a4(n,i);function u(){if(!n.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let d=t.toBytes||function(e,t,r){let{x:i,y:s}=t.toAffine(),a=n.toBytes(i);return(sJ(r,"isCompressed"),r)?(u(),ie(a3(!n.isOdd(s)),a)):ie(Uint8Array.of(4),a,n.toBytes(s))},h=t.fromBytes||function(e){sY(e,void 0,"Point");let{publicKey:t,publicKeyUncompressed:r}=c,i=e.length,s=e[0],a=e.subarray(1);if(i===t&&(2===s||3===s)){let e;let t=n.fromBytes(a);if(!n.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=f(t);try{e=n.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return u(),(1&s)==1!==n.isOdd(e)&&(e=n.neg(e)),{x:t,y:e}}if(i===r&&4===s){let e=n.BYTES,t=n.fromBytes(a.subarray(0,e)),r=n.fromBytes(a.subarray(e,2*e));if(!p(t,r))throw Error("bad point: is not on curve");return{x:t,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${r}`)};function f(e){let t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,s.a)),s.b)}function p(e,t){let r=n.sqr(t),i=f(e);return n.eql(r,i)}if(!p(s.Gx,s.Gy))throw Error("bad curve params: generator point");let y=n.mul(n.pow(s.a,a6),a5),g=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(y,g)))throw Error("bad curve params: a or b");function m(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}function w(e){if(!l||!l.basises)throw Error("no endo");return function(e,t,r){let[[n,i],[s,a]]=t,o=aZ(a*e,r),l=aZ(-i*e,r),c=e-o*n-l*s,u=-o*i-l*a,d=c<a0,h=u<a0;d&&(c=-c),h&&(u=-u);let f=s4(Math.ceil(s3(r)/2))+a1;if(c<a0||c>=f||u<a0||u>=f)throw Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}(e,l.basises,i.ORDER)}let v=s7((e,t)=>{let{X:r,Y:i,Z:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(s));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(s,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),_=s7(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw Error("bad point: ZERO")}let{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw Error("bad point: x or y not field elements");if(!p(r,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function x(e,t,r,i,s){return r=new E(n.mul(r.X,e),r.Y,r.Z),t=aS(i,t),r=aS(s,r),t.add(r)}class E{constructor(e,t,r){this.X=m("x",e),this.Y=m("y",t,!0),this.Z=m("z",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");return n.is0(t)&&n.is0(r)?E.ZERO:new E(t,r,n.ONE)}static fromBytes(e){let t=E.fromAffine(h(sY(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return E.fromBytes(s6("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return A.createCache(this,e),t||this.multiply(a6),this}assertValidity(){_(this)}hasEvenY(){let{y:e}=this.toAffine();if(!n.isOdd)throw Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){b(e);let{X:t,Y:r,Z:i}=this,{X:s,Y:a,Z:o}=e,l=n.eql(n.mul(t,o),n.mul(s,i)),c=n.eql(n.mul(r,o),n.mul(a,i));return l&&c}negate(){return new E(this.X,n.neg(this.Y),this.Z)}double(){let{a:e,b:t}=s,r=n.mul(t,a6),{X:i,Y:a,Z:o}=this,l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(i,i),h=n.mul(a,a),f=n.mul(o,o),p=n.mul(i,a);return p=n.add(p,p),u=n.mul(i,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(r,f),c=n.add(l,c),l=n.sub(h,c),c=n.add(h,c),c=n.mul(l,c),l=n.mul(p,l),u=n.mul(r,u),f=n.mul(e,f),p=n.sub(d,f),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,f),d=n.mul(d,p),c=n.add(c,d),f=n.mul(a,o),f=n.add(f,f),d=n.mul(f,p),l=n.sub(l,d),u=n.mul(f,h),u=n.add(u,u),new E(l,c,u=n.add(u,u))}add(e){b(e);let{X:t,Y:r,Z:i}=this,{X:a,Y:o,Z:l}=e,c=n.ZERO,u=n.ZERO,d=n.ZERO,h=s.a,f=n.mul(s.b,a6),p=n.mul(t,a),y=n.mul(r,o),g=n.mul(i,l),m=n.add(t,r),w=n.add(a,o);m=n.mul(m,w),w=n.add(p,y),m=n.sub(m,w),w=n.add(t,i);let v=n.add(a,l);return w=n.mul(w,v),v=n.add(p,g),w=n.sub(w,v),v=n.add(r,i),c=n.add(o,l),v=n.mul(v,c),c=n.add(y,g),v=n.sub(v,c),d=n.mul(h,w),c=n.mul(f,g),d=n.add(c,d),c=n.sub(y,d),d=n.add(y,d),u=n.mul(c,d),y=n.add(p,p),y=n.add(y,p),g=n.mul(h,g),w=n.mul(f,w),y=n.add(y,g),g=n.sub(p,g),g=n.mul(h,g),w=n.add(w,g),p=n.mul(y,w),u=n.add(u,p),p=n.mul(v,w),c=n.mul(m,c),c=n.sub(c,p),p=n.mul(m,y),d=n.mul(v,d),new E(c,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}multiply(e){let r,n;let{endo:s}=t;if(!i.isValidNot0(e))throw Error("invalid scalar: out of range");let a=e=>A.cached(this,e,e=>ak(E,e));if(s){let{k1neg:t,k1:i,k2neg:o,k2:l}=w(e),{p:c,f:u}=a(i),{p:d,f:h}=a(l);n=u.add(h),r=x(s.beta,c,d,t,o)}else{let{p:t,f:i}=a(e);r=t,n=i}return ak(E,[r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!i.isValid(e))throw Error("invalid scalar: out of range");if(e===a0||this.is0())return E.ZERO;if(e===a1)return this;if(A.hasCache(this))return this.multiply(e);if(!r)return A.unsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:s}=w(e),{p1:a,p2:o}=function(e,t,r,n){let i=t,s=e.ZERO,a=e.ZERO;for(;r>aI||n>aI;)r&aA&&(s=s.add(i)),n&aA&&(a=a.add(i)),i=i.double(),r>>=aA,n>>=aA;return{p1:s,p2:a}}(E,this,n,s);return x(r.beta,a,o,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return v(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return a===a1||(e?e(E,this):A.unsafe(this,o).is0())}clearCofactor(){let{clearCofactor:e}=t;return a===a1?this:e?e(E,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(e=!0){return sJ(e,"isCompressed"),this.assertValidity(),d(E,this,e)}toHex(e=!0){return n5(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return ak(E,e)}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,s=n.length;if(i!==s)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,o=s3(BigInt(i)),l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);let c=s4(l),u=Array(Number(c)+1).fill(a),d=Math.floor((t.BITS-1)/l)*l,h=a;for(let e=d;e>=0;e-=l){u.fill(a);for(let t=0;t<s;t++){let i=Number(n[t]>>BigInt(e)&c);u[i]=u[i].add(r[t])}let t=a;for(let e=u.length-1,r=a;e>0;e--)r=r.add(u[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<l;e++)h=h.double()}return h}(E,i,e,t)}static fromPrivateKey(e){return E.BASE.multiply(a8(i,e))}}E.BASE=new E(s.Gx,s.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=i;let I=i.BITS,A=new aU(E,t.endo?Math.ceil(I/2):I);return E.BASE.precompute(8),E}(t,r),n,i))})({...e,hash:t});return{...r(t),create:r}}let a7={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},oe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},ot={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},or=a_(a7.p),on=a_(oe.p),oi=a_(ot.p),os=a9({...a7,Fp:or,lowS:!1},ij);a9({...oe,Fp:on,lowS:!1},iF),a9({...ot,Fp:oi,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},iL);let oa="base10",oo="base16",ol="base64pad",oc="base64url",ou="utf8";function od(){let e=ii(32);return(0,ri.dI)(e,oo)}function oh(e){let t=ij((0,ri.sH)(e,oo));return(0,ri.dI)(t,oo)}function of(e){let t=ij((0,ri.sH)(e,ou));return(0,ri.dI)(t,oo)}function op(e){return(0,ri.sH)(`${e}`,oa)}function oy(e){return Number((0,ri.dI)(e,oa))}function og(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function om(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function ob(e){if(2===oy(e.type))return(0,ri.dI)((0,ri.xW)([e.type,e.sealed]),ol);if(1===oy(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,ri.dI)((0,ri.xW)([e.type,e.senderPublicKey,e.iv,e.sealed]),ol)}return(0,ri.dI)((0,ri.xW)([e.type,e.iv,e.sealed]),ol)}function ow(e){let t=(e.encoding||ol)===oc?om(e.encoded):e.encoded,r=(0,ri.sH)(t,ol),n=r.slice(0,1);if(1===oy(n)){let e=r.slice(1,33),t=r.slice(33,45);return{type:n,sealed:r.slice(45),iv:t,senderPublicKey:e}}if(2===oy(n))return{type:n,sealed:r.slice(1),iv:ii(12)};let i=r.slice(1,13);return{type:n,sealed:r.slice(13),iv:i}}function ov(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function o_(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function ox(e){return e?.relay||{protocol:"irn"}}function oE(e){let t=rs.CG[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}var oI=Object.defineProperty,oA=Object.defineProperties,oS=Object.getOwnPropertyDescriptors,ok=Object.getOwnPropertySymbols,oC=Object.prototype.hasOwnProperty,oT=Object.prototype.propertyIsEnumerable,oO=(e,t,r)=>t in e?oI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oP=(e,t)=>{for(var r in t||(t={}))oC.call(t,r)&&oO(e,r,t[r]);if(ok)for(var r of ok(t))oT.call(t,r)&&oO(e,r,t[r]);return e},oR=(e,t)=>oA(e,oS(t));function oD(e){var t;if(!e.includes("wc:")){let t=ng(e);null!=t&&t.includes("wc:")&&(e=t)}let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),s=e.substring(r+1,n).split("@"),a=Object.fromEntries(new URLSearchParams("u">typeof n?e.substring(n):"").entries()),o="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:i,topic:(t=s[0]).startsWith("//")?t.substring(2):t,version:parseInt(s[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),s=e[t];r[i]=s}}),r}(a),methods:o,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function oN(e){let t=new URLSearchParams;return Object.entries(oP(oP(oR(oP({},function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")})).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,r])=>{void 0!==r&&t.append(e,String(r))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function oU(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var oM=Object.defineProperty,oB=Object.defineProperties,oj=Object.getOwnPropertyDescriptors,oL=Object.getOwnPropertySymbols,oF=Object.prototype.hasOwnProperty,o$=Object.prototype.propertyIsEnumerable,oz=(e,t,r)=>t in e?oM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oq=(e,t)=>{for(var r in t||(t={}))oF.call(t,r)&&oz(e,r,t[r]);if(oL)for(var r of oL(t))o$.call(t,r)&&oz(e,r,t[r]);return e},oW=(e,t)=>oB(e,oj(t));function oH(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}function oV(e){return e.includes(":")}function oK(e){return oV(e)?e.split(":")[0]:e}function oG(e){var t,r,n;let i={};if(!o1(e))return i;for(let[s,a]of Object.entries(e)){let e=oV(s)?[s]:a.chains,o=a.methods||[],l=a.events||[],c=oK(s);i[c]=oW(oq({},i[c]),{chains:nu(e,null==(t=i[c])?void 0:t.chains),methods:nu(o,null==(r=i[c])?void 0:r.methods),events:nu(l,null==(n=i[c])?void 0:n.events)})}return i}function oZ(e,t){let r=function(e){let t={};return e?.forEach(e=>{var r;let[n,i]=e.split(":");t[n]||(t[n]={accounts:[],chains:[],events:[],methods:[]}),t[n].accounts.push(e),null==(r=t[n].chains)||r.push(`${n}:${i}`)}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(let[t,n]of Object.entries(r))n.methods?n.methods=nu(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}let oJ={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},oY={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function oQ(e,t){let{message:r,code:n}=oY[e];return{message:t?`${r} ${t}`:r,code:n}}function oX(e,t){let{message:r,code:n}=oJ[e];return{message:t?`${r} ${t}`:r,code:n}}function o0(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function o1(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function o2(e){return typeof e>"u"}function o6(e,t){return!!(t&&o2(e))||"string"==typeof e&&!!e.trim().length}function o5(e,t){return!!(t&&o2(e))||"number"==typeof e&&!isNaN(e)}function o8(e){return!!(o6(e,!1)&&e.includes(":"))&&2===e.split(":").length}function o3(e){let t=!0;return o0(e)?e.length&&(t=e.every(e=>o6(e,!1))):t=!1,t}function o4(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let s=(n=`${t}, namespace`,i=null,o3(e?.methods)?o3(e?.events)||(i=oX("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=oX("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);s&&(r=s)}),r}function o9(e,t){let r=null;if(e&&o1(e)){let n;let i=o4(e,t);i&&(r=i);let s=(n=null,Object.values(e).forEach(e=>{var r,i;let s;if(n)return;let a=(r=e?.accounts,i=`${t} namespace`,s=null,o0(r)?r.forEach(e=>{s||function(e){if(o6(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&o8(e)}}return!1}(e)||(s=oX("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):s=oX("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),s);a&&(n=a)}),n);s&&(r=s)}else r=oQ("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function o7(e){return o6(e.protocol,!0)}function le(e){return"u">typeof e}function lt(e,t){return!(!o8(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...oH(e.accounts))}),t})(e).includes(t))}function lr(e,t,r){let n=null,i=function(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}(e),s=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let n=oH(e[r].accounts);n?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(e=>e.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}(t),a=Object.keys(i),o=Object.keys(s),l=ln(Object.keys(e)),c=ln(Object.keys(t)),u=l.filter(e=>!c.includes(e));return u.length&&(n=oQ("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),ne(a,o)||(n=oQ("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||n)return;let i=oH(t[e].accounts);i.includes(e)||(n=oQ("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${i.toString()}`))}),a.forEach(e=>{n||(ne(i[e].methods,s[e].methods)?ne(i[e].events,s[e].events)||(n=oQ("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):n=oQ("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),n}function ln(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function li(){let e=r3();return new Promise(t=>{switch(e){case r2.browser:t(r8()&&navigator?.onLine);break;case r2.reactNative:t(ls());break;case r2.node:default:t(!0)}})}async function ls(){if(r5()&&"u">typeof global&&null!=global&&global.NetInfo){let e=await (null==global?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}let la={};class lo{static get(e){return la[e]}static set(e,t){la[e]=t}static delete(e){delete la[e]}}function ll(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function lc({logger:e,name:t}){let r="string"==typeof e?rF({opts:{level:e,name:t}}).logger:e;return r.level="string"==typeof e?e:e.level,r}var lu=r(26924),ld=r(24374),lh=r(72446),lf=Object.defineProperty,lp=(e,t,r)=>t in e?lf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ly=(e,t,r)=>lp(e,"symbol"!=typeof t?t+"":t,r);class lg extends lh.H{constructor(e){super(),this.opts=e,ly(this,"protocol","wc"),ly(this,"version",2)}}var lm=Object.defineProperty,lb=(e,t,r)=>t in e?lm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lw=(e,t,r)=>lb(e,"symbol"!=typeof t?t+"":t,r);class lv extends lh.H{constructor(e,t){super(),this.core=e,this.logger=t,lw(this,"records",new Map)}}class l_{constructor(e,t){this.logger=e,this.core=t}}class lx extends lh.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class lE extends lh.H{constructor(e){super()}}class lI{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class lA extends lh.H{constructor(e,t){super(),this.relayer=e,this.logger=t}}class lS extends lh.H{constructor(e,t){super(),this.core=e,this.logger=t}}class lk{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class lC{constructor(e,t){this.projectId=e,this.logger=t}}class lT{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}var lO=Object.defineProperty,lP=(e,t,r)=>t in e?lO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lR=(e,t,r)=>lP(e,"symbol"!=typeof t?t+"":t,r);class lD{constructor(e){this.opts=e,lR(this,"protocol","wc"),lR(this,"version",2)}}class lN{constructor(e){this.client=e}}var lU=r(48361),lM=r(35169),lB=r(84549),lj=r(75927).hp,lL=r(87358);let lF="core",l$=`wc@2:${lF}:`,lz={logger:"error"},lq={database:":memory:"},lW="client_ed25519_seed",lH=a.ONE_DAY,lV=a.SIX_HOURS,lK="wss://relay.walletconnect.org",lG={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},lZ={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},lJ="2.22.4",lY={link_mode:"link_mode",relay:"relay"},lQ={inbound:"inbound",outbound:"outbound"},lX="WALLETCONNECT_LINK_MODE_APPS",l0={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},l1=(a.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:a.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:a.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:a.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:a.ONE_DAY,prompt:!1,tag:0},res:{ttl:a.ONE_DAY,prompt:!1,tag:0}}}),l2={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},l6={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},l5={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},l8="https://verify.walletconnect.org",l3=`${l8}/v3`,l4=["https://verify.walletconnect.com",l8],l9={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal"},l7={no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_listener_not_found:"proposal_listener_not_found"},ce={session_approve_started:"session_approve_started",session_namespaces_validation_success:"session_namespaces_validation_success",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},ct={no_internet_connection:"no_internet_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},cr={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},cn={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"};var ci=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==r[a])throw TypeError(s+" is ambiguous");r[a]=i}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var s=(e.length-t)*c+1>>>0,a=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=o*a[h]>>>0,a[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===a[f];)f++;for(var p=new Uint8Array(n+(s-f)),y=n;f!==s;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var a=(s-i)*u+1>>>0,c=new Uint8Array(a);i!==s;){for(var d=t[i],h=0,f=a-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%o>>>0,d=d/o>>>0;if(0!==d)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=l.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};let cs=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},ca=e=>new TextEncoder().encode(e),co=e=>new TextDecoder().decode(e);class cl{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class cc{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return cd(this,e)}}class cu{constructor(e){this.decoders=e}or(e){return cd(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let cd=(e,t)=>new cu({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class ch{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new cl(e,t,r),this.decoder=new cc(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let cf=({name:e,prefix:t,encode:r,decode:n})=>new ch(e,t,r,n),cp=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=ci(r,t);return cf({prefix:e,name:t,encode:n,decode:e=>cs(i(e))})},cy=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),o=0,l=0,c=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);l=l<<r|s,(o+=r)>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw SyntaxError("Unexpected end of data");return a},cg=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},cm=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>cf({prefix:t,name:e,encode:e=>cg(e,n,r),decode:t=>cy(t,n,r,e)});var cb=Object.freeze({__proto__:null,identity:cf({prefix:"\0",name:"identity",encode:e=>co(e),decode:e=>ca(e)})}),cw=Object.freeze({__proto__:null,base2:cm({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),cv=Object.freeze({__proto__:null,base8:cm({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),c_=Object.freeze({__proto__:null,base10:cp({prefix:"9",name:"base10",alphabet:"0123456789"})}),cx=Object.freeze({__proto__:null,base16:cm({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:cm({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let cE=cm({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cI=cm({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),cA=cm({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),cS=cm({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ck=cm({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cC=cm({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var cT=Object.freeze({__proto__:null,base32:cE,base32upper:cI,base32pad:cA,base32padupper:cS,base32hex:ck,base32hexupper:cC,base32hexpad:cm({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:cm({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:cm({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),cO=Object.freeze({__proto__:null,base36:cp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:cp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),cP=Object.freeze({__proto__:null,base58btc:cp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:cp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let cR=cm({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var cD=Object.freeze({__proto__:null,base64:cR,base64pad:cm({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:cm({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:cm({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let cN=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),cU=cN.reduce((e,t,r)=>(e[r]=t,e),[]),cM=cN.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var cB=Object.freeze({__proto__:null,base256emoji:cf({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=cU[t],"")},decode:function(e){let t=[];for(let r of e){let e=cM[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function cj(e,t){var r,n=0,t=t||0,i=0,s=t,a=e.length;do{if(s>=a)throw cj.bytes=0,RangeError("Could not decode varint");r=e[s++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return cj.bytes=s-t,n}var cL={encode:function e(t,r,n){r=r||[],n=n||0;for(var i=n;t>=0x80000000;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let cF=(e,t,r=0)=>(cL.encode(e,t,r),t),c$=e=>cL.encodingLength(e),cz=(e,t)=>{let r=t.byteLength,n=c$(e),i=n+c$(r),s=new Uint8Array(i+r);return cF(e,s,0),cF(r,s,n),s.set(t,i),new cq(e,r,t,s)};class cq{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let cW=({name:e,code:t,encode:r})=>new cH(e,t,r);class cH{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?cz(this.code,t):t.then(e=>cz(this.code,e))}throw Error("Unknown type, must be binary type")}}let cV=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var cK=Object.freeze({__proto__:null,sha256:cW({name:"sha2-256",code:18,encode:cV("SHA-256")}),sha512:cW({name:"sha2-512",code:19,encode:cV("SHA-512")})}),cG=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:cs,digest:e=>cz(0,cs(e))}});new TextEncoder,new TextDecoder;let cZ={...cb,...cw,...cv,...c_,...cx,...cT,...cO,...cP,...cD,...cB};function cJ(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function cY(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...cK,...cG});let cQ=cY("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),cX=cY("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?cJ(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),c0={utf8:cQ,"utf-8":cQ,hex:cZ.base16,latin1:cX,ascii:cX,binary:cX,...cZ};var c1=Object.defineProperty,c2=(e,t,r)=>t in e?c1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c6=(e,t,r)=>c2(e,"symbol"!=typeof t?t+"":t,r);class c5{constructor(e,t){this.core=e,this.logger=t,c6(this,"keychain",new Map),c6(this,"name","keychain"),c6(this,"version","0.3"),c6(this,"initialized",!1),c6(this,"storagePrefix",l$),c6(this,"init",async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}}),c6(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),c6(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),c6(this,"get",e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=oQ("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}),c6(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=rL(t,this.name)}get context(){return rj(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,nt(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?nr(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}}var c8=Object.defineProperty,c3=(e,t,r)=>t in e?c8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c4=(e,t,r)=>c3(e,"symbol"!=typeof t?t+"":t,r);class c9{constructor(e,t,r){this.core=e,this.logger=t,c4(this,"name","crypto"),c4(this,"keychain"),c4(this,"randomSessionIdentifier",od()),c4(this,"initialized",!1),c4(this,"clientId"),c4(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),c4(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),c4(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;let e=await this.getClientSeed(),t=rn.TZ(e),r=rn.UF(t.publicKey);return this.clientId=r,r}),c4(this,"generateKeyPair",()=>{this.isInitialized();let e=function(){let e=aG.utils.randomPrivateKey(),t=aG.getPublicKey(e);return{privateKey:(0,ri.dI)(e,oo),publicKey:(0,ri.dI)(t,oo)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),c4(this,"signJWT",async e=>{this.isInitialized();let t=await this.getClientSeed(),r=rn.TZ(t),n=this.randomSessionIdentifier;return await rn.FA(n,e,lH,r)}),c4(this,"generateSharedKey",(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=sK(ij,aG.getSharedSecret((0,ri.sH)(e,oo),(0,ri.sH)(t,oo)),void 0,void 0,32);return(0,ri.dI)(r,oo)}(this.getPrivateKey(e),t);return this.setSymKey(n,r)}),c4(this,"setSymKey",async(e,t)=>{this.isInitialized();let r=t||oh(e);return await this.keychain.set(r,e),r}),c4(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),c4(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),c4(this,"encode",async(e,t,r)=>{this.isInitialized();let n=ov(r),i=(0,rc.h)(t);if(2===n.type)return function(e,t){let r=op(2),n=ii(12),i=ob({type:r,sealed:(0,ri.sH)(e,ou),iv:n});return t===oc?og(i):i}(i,r?.encoding);if(o_(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let s=this.getSymKey(e),{type:a,senderPublicKey:o}=n;return function(e){let t=op("u">typeof e.type?e.type:0);if(1===oy(t)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let r="u">typeof e.senderPublicKey?(0,ri.sH)(e.senderPublicKey,oo):void 0,n="u">typeof e.iv?(0,ri.sH)(e.iv,oo):ii(12),i=ob({type:t,sealed:sz((0,ri.sH)(e.symKey,oo),n).encrypt((0,ri.sH)(e.message,ou)),iv:n,senderPublicKey:r});return e.encoding===oc?og(i):i}({type:a,symKey:s,message:i,senderPublicKey:o,encoding:r?.encoding})}),c4(this,"decode",async(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=ow({encoded:e,encoding:t?.encoding});return ov({type:oy(r.type),senderPublicKey:"u">typeof r.senderPublicKey?(0,ri.dI)(r.senderPublicKey,oo):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(2===n.type){let e=function(e,t){let{sealed:r}=ow({encoded:e,encoding:t});return(0,ri.dI)(r,ou)}(t,r?.encoding);return(0,rc.j)(e)}if(o_(n)){let t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let n=this.getSymKey(e),i=function(e){let t=(0,ri.sH)(e.symKey,oo),{sealed:r,iv:n}=ow({encoded:e.encoded,encoding:e.encoding}),i=sz(t,n).decrypt(r);if(null===i)throw Error("Failed to decrypt");return(0,ri.dI)(i,ou)}({symKey:n,encoded:t,encoding:r?.encoding});return(0,rc.j)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),c4(this,"getPayloadType",(e,t=ol)=>oy(ow({encoded:e,encoding:t}).type)),c4(this,"getPayloadSenderPublicKey",(e,t=ol)=>{let r=ow({encoded:e,encoding:t});return r.senderPublicKey?(0,ri.dI)(r.senderPublicKey,oo):void 0}),this.core=e,this.logger=rL(t,this.name),this.keychain=r||new c5(this.core,this.logger)}get context(){return rj(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(lW)}catch{e=od(),await this.keychain.set(lW,e)}return function(e,t="utf8"){let r=c0[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?cJ(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}}var c7=Object.defineProperty,ue=Object.defineProperties,ut=Object.getOwnPropertyDescriptors,ur=Object.getOwnPropertySymbols,un=Object.prototype.hasOwnProperty,ui=Object.prototype.propertyIsEnumerable,us=(e,t,r)=>t in e?c7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ua=(e,t)=>{for(var r in t||(t={}))un.call(t,r)&&us(e,r,t[r]);if(ur)for(var r of ur(t))ui.call(t,r)&&us(e,r,t[r]);return e},uo=(e,t)=>ue(e,ut(t)),ul=(e,t,r)=>us(e,"symbol"!=typeof t?t+"":t,r);class uc extends l_{constructor(e,t){super(e,t),this.logger=e,this.core=t,ul(this,"messages",new Map),ul(this,"messagesWithoutClientAck",new Map),ul(this,"name","messages"),ul(this,"version","0.3"),ul(this,"initialized",!1),ul(this,"storagePrefix",l$),ul(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e);let t=await this.getRelayerMessagesWithoutClientAck();"u">typeof t&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),ul(this,"set",async(e,t,r)=>{this.isInitialized();let n=of(t),i=this.messages.get(e);if(typeof i>"u"&&(i={}),"u">typeof i[n])return n;if(i[n]=t,this.messages.set(e,i),r===lQ.inbound){let r=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,uo(ua({},r),{[n]:t}))}return await this.persist(),n}),ul(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),ul(this,"getWithoutAck",e=>{this.isInitialized();let t={};for(let r of e){let e=this.messagesWithoutClientAck.get(r)||{};t[r]=Object.values(e)}return t}),ul(this,"has",(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[of(t)])),ul(this,"ack",async(e,t)=>{this.isInitialized();let r=this.messagesWithoutClientAck.get(e);if(typeof r>"u")return;let n=of(t);delete r[n],0===Object.keys(r).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,r),await this.persist()}),ul(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=rL(e,this.name),this.core=t}get context(){return rj(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,nt(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,nt(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?nr(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof e?nr(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}}var uu=Object.defineProperty,ud=Object.defineProperties,uh=Object.getOwnPropertyDescriptors,uf=Object.getOwnPropertySymbols,up=Object.prototype.hasOwnProperty,uy=Object.prototype.propertyIsEnumerable,ug=(e,t,r)=>t in e?uu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,um=(e,t)=>{for(var r in t||(t={}))up.call(t,r)&&ug(e,r,t[r]);if(uf)for(var r of uf(t))uy.call(t,r)&&ug(e,r,t[r]);return e},ub=(e,t)=>ud(e,uh(t)),uw=(e,t,r)=>ug(e,"symbol"!=typeof t?t+"":t,r);class uv extends lx{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,uw(this,"events",new i.EventEmitter),uw(this,"name","publisher"),uw(this,"queue",new Map),uw(this,"publishTimeout",(0,a.toMiliseconds)(a.ONE_MINUTE)),uw(this,"initialPublishTimeout",(0,a.toMiliseconds)(15*a.ONE_SECOND)),uw(this,"needsTransportRestart",!1),uw(this,"publish",async(e,t,r)=>{var n,i,s,a,o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let l=r?.ttl||lV,c=r?.prompt||!1,u=r?.tag||0,d=r?.id||(0,lM.getBigIntRpcId)().toString(),h=oE(ox().protocol),f={id:d,method:r?.publishMethod||h.publish,params:um({topic:e,message:t,ttl:l,prompt:c,tag:u,attestation:r?.attestation},r?.tvf)},p=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{o2(null==(n=f.params)?void 0:n.prompt)&&(null==(i=f.params)||delete i.prompt),o2(null==(s=f.params)?void 0:s.tag)&&(null==(a=f.params)||delete a.tag);let o=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=f.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(lG.publish,t),e())};this.relayer.events.on(lG.publish,t);let n=ni(new Promise((e,t)=>{this.rpcPublish(f,r).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await n,this.events.removeListener(lG.publish,t)}catch(e){this.queue.set(d,{request:f,opts:r,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:e,message:t,opts:r}}),await ni(o,this.publishTimeout,p)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(o=r?.internal)&&o.throwOnFailedPublish)throw e}finally{this.queue.delete(d)}}),uw(this,"publishCustom",async e=>{var t,r,n,i,s;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});let{payload:o,opts:l={}}=e,{attestation:c,tvf:u,publishMethod:d,prompt:h,tag:f,ttl:p=a.FIVE_MINUTES}=l,y=l.id||(0,lM.getBigIntRpcId)().toString(),g=oE(ox().protocol),m=d||g.publish,b={id:y,method:m,params:um(ub(um({},o),{ttl:p,prompt:h,tag:f,attestation:c}),u)},w=`Failed to publish custom payload, please try again. id:${y} tag:${f}`;try{o2(null==(t=b.params)?void 0:t.prompt)&&(null==(r=b.params)||delete r.prompt),o2(null==(n=b.params)?void 0:n.tag)&&(null==(i=b.params)||delete i.tag);let e=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=b.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(lG.publish,t),e())};this.relayer.events.on(lG.publish,t);let r=ni(new Promise((e,t)=>{this.rpcPublish(b,l).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${m} id:${y} tag:${f}`);try{await r,this.events.removeListener(lG.publish,t)}catch(e){this.queue.set(y,{request:b,opts:l,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,payload:o,opts:l}}),await ni(e,this.publishTimeout,w)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(s=l?.internal)&&s.throwOnFailedPublish)throw e}finally{this.queue.delete(y)}}),uw(this,"on",(e,t)=>{this.events.on(e,t)}),uw(this,"once",(e,t)=>{this.events.once(e,t)}),uw(this,"off",(e,t)=>{this.events.off(e,t)}),uw(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=rL(t,this.name),this.registerEventListeners()}get context(){return rj(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let r=await this.relayer.request(e);return this.relayer.events.emit(lG.publish,um(um({},e),t)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var r;let n=e.attempt+1;this.queue.set(t,ub(um({},e),{attempt:n})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(r=e.request.params)?void 0:r.tag}, attempt: ${n}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(lu.li.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(lG.connection_stalled);return}this.checkQueue()}),this.relayer.on(lG.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var u_=Object.defineProperty,ux=(e,t,r)=>t in e?u_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uE=(e,t,r)=>ux(e,"symbol"!=typeof t?t+"":t,r);class uI{constructor(){uE(this,"map",new Map),uE(this,"set",(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),uE(this,"get",e=>this.map.get(e)||[]),uE(this,"exists",(e,t)=>this.get(e).includes(t)),uE(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)}),uE(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var uA=Object.defineProperty,uS=Object.defineProperties,uk=Object.getOwnPropertyDescriptors,uC=Object.getOwnPropertySymbols,uT=Object.prototype.hasOwnProperty,uO=Object.prototype.propertyIsEnumerable,uP=(e,t,r)=>t in e?uA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uR=(e,t)=>{for(var r in t||(t={}))uT.call(t,r)&&uP(e,r,t[r]);if(uC)for(var r of uC(t))uO.call(t,r)&&uP(e,r,t[r]);return e},uD=(e,t)=>uS(e,uk(t)),uN=(e,t,r)=>uP(e,"symbol"!=typeof t?t+"":t,r);class uU extends lA{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,uN(this,"subscriptions",new Map),uN(this,"topicMap",new uI),uN(this,"events",new i.EventEmitter),uN(this,"name","subscription"),uN(this,"version","0.3"),uN(this,"pending",new Map),uN(this,"cached",[]),uN(this,"initialized",!1),uN(this,"storagePrefix",l$),uN(this,"subscribeTimeout",(0,a.toMiliseconds)(a.ONE_MINUTE)),uN(this,"initialSubscribeTimeout",(0,a.toMiliseconds)(15*a.ONE_SECOND)),uN(this,"clientId"),uN(this,"batchSubscribeTopicsLimit",500),uN(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),uN(this,"subscribe",async(e,t)=>{var r;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let n=ox(t),i={topic:e,relay:n,transportType:t?.transportType};null!=(r=t?.internal)&&r.skipSubscribe||this.pending.set(e,i);let s=await this.rpcSubscribe(e,n,t);return"string"==typeof s&&(this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),s}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),uN(this,"unsubscribe",async(e,t)=>{this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),uN(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),uN(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),uN(this,"on",(e,t)=>{this.events.on(e,t)}),uN(this,"once",(e,t)=>{this.events.once(e,t)}),uN(this,"off",(e,t)=>{this.events.off(e,t)}),uN(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),uN(this,"start",async()=>{await this.onConnect()}),uN(this,"stop",async()=>{await this.onDisconnect()}),uN(this,"restart",async()=>{await this.restore(),await this.onRestart()}),uN(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),uN(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(lu.li.pulse,async()=>{await this.checkPending()}),this.events.on(l0.created,async e=>{let t=l0.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(l0.deleted,async e=>{let t=l0.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=rL(t,this.name),this.clientId=""}get context(){return rj(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=ox(r);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);let i=oX("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var n,i;let s=await this.getSubscriptionId(e);if(null!=(n=r?.internal)&&n.skipSubscribe)return s;r&&r?.transportType!==lY.relay||await this.restartToComplete({topic:e,id:e,relay:t});let o={method:oE(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});let l=null==(i=r?.internal)?void 0:i.throwOnFailedPublish;try{if(r?.transportType===lY.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(e=>this.logger.warn(e))},(0,a.toMiliseconds)(a.ONE_SECOND)),s;let t=new Promise(async t=>{let r=n=>{n.topic===e&&(this.events.removeListener(l0.created,r),t(n.id))};this.events.on(l0.created,r);try{let n=await ni(new Promise((e,t)=>{this.relayer.request(o).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(l0.created,r),t(n)}catch{}}),n=await ni(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!n&&l)throw Error(`Subscribing to ${e} failed, please try again`);return n?s:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(lG.connection_stalled),l)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:oE(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await ni(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(lG.connection_stalled)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r={method:oE(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{t=await await ni(new Promise((e,t)=>{this.relayer.request(r).catch(e=>{this.logger.warn(e),t(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(lG.connection_stalled)}return t}rpcUnsubscribe(e,t,r){let n={method:oE(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,uD(uR({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,uR({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,uR({},t)),this.topicMap.set(t.topic,e),this.events.emit(l0.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=oQ("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(l0.deleted,uD(uR({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(l0.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){let t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(l0.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){let{message:e}=oQ("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>uD(uR({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){var t;if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await (t=(0,a.toMiliseconds)(a.ONE_SECOND),new Promise(e=>setTimeout(e,t))),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(e){this.relayer.connected||this.relayer.connecting||(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return of(e+await this.getClientId())}}var uM=Object.defineProperty,uB=Object.getOwnPropertySymbols,uj=Object.prototype.hasOwnProperty,uL=Object.prototype.propertyIsEnumerable,uF=(e,t,r)=>t in e?uM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u$=(e,t)=>{for(var r in t||(t={}))uj.call(t,r)&&uF(e,r,t[r]);if(uB)for(var r of uB(t))uL.call(t,r)&&uF(e,r,t[r]);return e},uz=(e,t,r)=>uF(e,"symbol"!=typeof t?t+"":t,r);class uq extends lE{constructor(e){var t;super(e),uz(this,"protocol","wc"),uz(this,"version",2),uz(this,"core"),uz(this,"logger"),uz(this,"events",new i.EventEmitter),uz(this,"provider"),uz(this,"messages"),uz(this,"subscriber"),uz(this,"publisher"),uz(this,"name","relayer"),uz(this,"transportExplicitlyClosed",!1),uz(this,"initialized",!1),uz(this,"connectionAttemptInProgress",!1),uz(this,"relayUrl"),uz(this,"projectId"),uz(this,"packageName"),uz(this,"bundleId"),uz(this,"hasExperiencedNetworkDisruption",!1),uz(this,"pingTimeout"),uz(this,"heartBeatTimeout",(0,a.toMiliseconds)(a.THIRTY_SECONDS+a.FIVE_SECONDS)),uz(this,"reconnectTimeout"),uz(this,"connectPromise"),uz(this,"reconnectInProgress",!1),uz(this,"requestsInFlight",[]),uz(this,"connectTimeout",(0,a.toMiliseconds)(15*a.ONE_SECOND)),uz(this,"request",async e=>{var t,r;this.logger.debug("Publishing Request Payload");let n=e.id||(0,lM.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");let i=`${n}:${(null==(r=e.params)?void 0:r.tag)||""}`;this.requestsInFlight.push(i);let s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}}),uz(this,"resetPingTimeout",()=>{r6()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(n=null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.terminate)||n.call(r)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),uz(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),uz(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(lG.connect)}),uz(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),uz(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit(lG.error,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),uz(this,"registerProviderListeners",()=>{this.provider.on(lZ.payload,this.onPayloadHandler),this.provider.on(lZ.connect,this.onConnectHandler),this.provider.on(lZ.disconnect,this.onDisconnectHandler),this.provider.on(lZ.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=lc({logger:null!=(t=e.logger)?t:"error",name:this.name}),this.messages=new uc(this.logger,e.core),this.subscriber=new uU(this,this.logger),this.publisher=new uv(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||lK,r5()&&"u">typeof global&&"u">typeof(null==global?void 0:global.Platform)&&(null==global?void 0:global.Platform.OS)==="android"?this.packageName=r4():r5()&&"u">typeof global&&"u">typeof(null==global?void 0:global.Platform)&&(null==global?void 0:global.Platform.OS)==="ios"&&(this.bundleId=r4()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return rj(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0||void 0!==this.connectPromise}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:lY.relay},lQ.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var r,n,i;this.isInitialized(),null!=t&&t.transportType&&t?.transportType!=="relay"||await this.toEstablishConnection();let s=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(n=t?.internal)?void 0:n.throwOnFailedPublish),a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"",o,l=t=>{t.topic===e&&(this.subscriber.off(l0.created,l),o())};return await Promise.all([new Promise(e=>{o=e,this.subscriber.on(l0.created,l)}),new Promise(async(r,n)=>{a=await this.subscriber.subscribe(e,u$({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&n(e)})||a,r()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ni(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await li())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.debug(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=no(a.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(lG.message,e),await this.recordMessageEvent(e,lQ.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to connect"))};this.provider.once(lZ.disconnect,r),await ni(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(lZ.disconnect,r),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,r)=>{let n=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(lZ.disconnect,n),await this.subscriber.start().then(e).catch(r).finally(()=>{this.provider.off(lZ.disconnect,n)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop(),this.logger.warn({},e.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,a.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,r,n,i;if(r6())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new lU.F(new lB.A(function({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o,packageName:l}){let c=r.split("?"),u=r7(e,t,n),d=function(e,t){let r=new URLSearchParams(e);return Object.entries(t).sort(([e],[t])=>e.localeCompare(t)).forEach(([e,t])=>{null!=t&&r.set(e,String(t))}),r.toString()}(c[1]||"",{auth:i,ua:u,projectId:s,useOnCloseEvent:a||void 0,packageName:l||void 0,bundleId:o||void 0});return c[0]+"?"+d}({sdkVersion:lJ,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){let{topic:r,message:n}=e;await this.messages.set(r,n,t)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.warn(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,lM.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i,attestation:s}=t.data,a={topic:r,message:n,publishedAt:i,transportType:lY.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(u$({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else(0,lM.isJsonRpcResponse)(e)&&this.events.emit(lG.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,lQ.inbound),this.events.emit(lG.message,e))}async acknowledgePayload(e){let t=(0,lM.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(lZ.payload,this.onPayloadHandler),this.provider.off(lZ.connect,this.onConnectHandler),this.provider.off(lZ.disconnect,this.onDisconnectHandler),this.provider.off(lZ.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await li();(function(e){switch(r3()){case r2.browser:!r5()&&r8()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)));break;case r2.reactNative:r5()&&"u">typeof global&&null!=global&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected));case r2.node:}})(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(lu.li.pulse,async()=>{var e;if(!this.transportExplicitlyClosed&&!this.connected&&(!(r8()&&(0,o.getDocument)())||(null==(e=(0,o.getDocument)())?void 0:e.visibilityState)==="visible"))try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(lG.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,a.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function uW(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function uH(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let uV="[object Arguments]",uK="[object Object]";function uG(){}function uZ(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}var uJ=Object.defineProperty,uY=Object.getOwnPropertySymbols,uQ=Object.prototype.hasOwnProperty,uX=Object.prototype.propertyIsEnumerable,u0=(e,t,r)=>t in e?uJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u1=(e,t)=>{for(var r in t||(t={}))uQ.call(t,r)&&u0(e,r,t[r]);if(uY)for(var r of uY(t))uX.call(t,r)&&u0(e,r,t[r]);return e},u2=(e,t,r)=>u0(e,"symbol"!=typeof t?t+"":t,r);class u6 extends lI{constructor(e,t,r,n=l$,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,u2(this,"map",new Map),u2(this,"version","0.3"),u2(this,"cached",[]),u2(this,"initialized",!1),u2(this,"getKey"),u2(this,"storagePrefix",l$),u2(this,"recentlyDeleted",[]),u2(this,"recentlyDeletedLimit",200),u2(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!o2(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),u2(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),u2(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),u2(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>(function e(t,r,n,i,s,a,o){let l=o(t,r,n,i,s,a);if(void 0!==l)return l;if(typeof t==typeof r)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===r;case"number":return t===r||Object.is(t,r)}return function t(r,n,i,s){if(Object.is(r,n))return!0;let a=uH(r),o=uH(n);if(a===uV&&(a=uK),o===uV&&(o=uK),a!==o)return!1;switch(a){case"[object String]":return r.toString()===n.toString();case"[object Number]":{let e=r.valueOf(),t=n.valueOf();return e===t||Number.isNaN(e)&&Number.isNaN(t)}case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(r.valueOf(),n.valueOf());case"[object RegExp]":return r.source===n.source&&r.flags===n.flags;case"[object Function]":return r===n}let l=(i=i??new Map).get(r),c=i.get(n);if(null!=l&&null!=c)return l===n;i.set(r,n),i.set(n,r);try{switch(a){case"[object Map]":if(r.size!==n.size)return!1;for(let[t,a]of r.entries())if(!n.has(t)||!e(a,n.get(t),t,r,n,i,s))return!1;return!0;case"[object Set]":{if(r.size!==n.size)return!1;let t=Array.from(r.values()),a=Array.from(n.values());for(let o=0;o<t.length;o++){let l=t[o],c=a.findIndex(t=>e(l,t,void 0,r,n,i,s));if(-1===c)return!1;a.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if("u">typeof lj&&lj.isBuffer(r)!==lj.isBuffer(n)||r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(!e(r[t],n[t],t,r,n,i,s))return!1;return!0;case"[object ArrayBuffer]":return r.byteLength===n.byteLength&&t(new Uint8Array(r),new Uint8Array(n),i,s);case"[object DataView]":return r.byteLength===n.byteLength&&r.byteOffset===n.byteOffset&&t(new Uint8Array(r),new Uint8Array(n),i,s);case"[object Error]":return r.name===n.name&&r.message===n.message;case uK:{if(!(t(r.constructor,n.constructor,i,s)||uZ(r)&&uZ(n)))return!1;let a=[...Object.keys(r),...uW(r)],o=[...Object.keys(n),...uW(n)];if(a.length!==o.length)return!1;for(let t=0;t<a.length;t++){let o=a[t],l=r[o];if(!Object.hasOwn(n,o))return!1;let c=n[o];if(!e(l,c,o,r,n,i,s))return!1}return!0}default:return!1}}finally{i.delete(r),i.delete(n)}}(t,r,a,o)})(t[r],e[r],void 0,void 0,void 0,void 0,uG))):this.values)),u2(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=u1(u1({},this.getData(e)),t);this.map.set(e,r),await this.persist()}),u2(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=rL(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return rj(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=oQ("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=oQ("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=oQ("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}}var u5=Object.defineProperty,u8=(e,t,r)=>t in e?u5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u3=(e,t,r)=>u8(e,"symbol"!=typeof t?t+"":t,r);class u4{constructor(e,t){this.core=e,this.logger=t,u3(this,"name","pairing"),u3(this,"version","0.3"),u3(this,"events",new i),u3(this,"pairings"),u3(this,"initialized",!1),u3(this,"storagePrefix",l$),u3(this,"ignoredPayloadTypes",[1]),u3(this,"registeredMethods",[]),u3(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),u3(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),u3(this,"create",async e=>{this.isInitialized();let t=od(),r=await this.core.crypto.setSymKey(t),n=no(a.FIVE_MINUTES),i={protocol:"irn"},s={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},o=oN({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(l2.create,s),this.core.expirer.set(r,n),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:e?.transportType,internal:e?.internal}),{topic:r,uri:o}}),u3(this,"pair",async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[l9.pairing_started]}});this.isValidPair(e,r);let{topic:n,symKey:i,relay:s,expiryTimestamp:o,methods:l}=oD(e.uri);if(r.props.properties.topic=n,r.addTrace(l9.pairing_uri_validation_success),r.addTrace(l9.pairing_uri_not_expired),this.pairings.keys.includes(n)){if(t=this.pairings.get(n),r.addTrace(l9.existing_pairing),t.active)throw r.setError(l7.active_pairing_already_exists),Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);r.addTrace(l9.pairing_not_expired)}let c=o||no(a.FIVE_MINUTES),u={topic:n,relay:s,expiry:c,active:!1,methods:l};this.core.expirer.set(n,c),await this.pairings.set(n,u),r.addTrace(l9.store_new_pairing),e.activatePairing&&await this.activate({topic:n}),this.events.emit(l2.create,u),r.addTrace(l9.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(i,n),r.addTrace(l9.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError(l7.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:s})}catch(e){throw r.setError(l7.subscribe_pairing_topic_failure),e}return r.addTrace(l9.subscribe_pairing_topic_success),u}),u3(this,"activate",async({topic:e})=>{this.isInitialized();let t=no(a.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),u3(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=nn();this.events.once(nc("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}}),u3(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),u3(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),u3(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),u3(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",oX("USER_DISCONNECTED")),await this.deletePairing(t))}),u3(this,"formatUriFromPairing",e=>{this.isInitialized();let{topic:t,relay:r,expiry:n,methods:i}=e,s=this.core.crypto.keychain.get(t);return oN({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:r,expiryTimestamp:n,methods:i})}),u3(this,"sendRequest",async(e,t,r)=>{let n=(0,lM.formatJsonRpcRequest)(t,r),i=await this.core.crypto.encode(e,n),s=l1[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,s),n.id}),u3(this,"sendResult",async(e,t,r)=>{let n=(0,lM.formatJsonRpcResult)(e,r),i=await this.core.crypto.encode(t,n),s=l1[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)}),u3(this,"sendError",async(e,t,r)=>{let n=(0,lM.formatJsonRpcError)(e,r),i=await this.core.crypto.encode(t,n),s=(await this.core.history.get(t,e)).request.method,a=l1[s]?l1[s].res:l1.unregistered_method.res;await this.core.relayer.publish(t,i,a),await this.core.history.resolve(n)}),u3(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,oX("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),u3(this,"cleanup",async()=>{let e=this.pairings.getAll().filter(e=>nl(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),u3(this,"onRelayEventRequest",async e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,r);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,r);default:return await this.onUnknownRpcMethodRequest(t,r)}}),u3(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)}),u3(this,"onPairingPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(l2.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),u3(this,"onPairingPingResponse",(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,lM.isJsonRpcResult)(t)?this.events.emit(nc("pairing_ping",r),{}):(0,lM.isJsonRpcError)(t)&&this.events.emit(nc("pairing_ping",r),{error:t.error})},500)}),u3(this,"onPairingDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(l2.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),u3(this,"onUnknownRpcMethodRequest",async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=oX("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),u3(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(oX("WC_METHOD_UNSUPPORTED",e))}),u3(this,"isValidPair",(e,t)=>{var r;if(!le(e)){let{message:r}=oQ("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(l7.malformed_pairing_uri),Error(r)}if(!function(e){function t(e){try{return"u">typeof new URL(e)}catch{return!1}}try{if(o6(e,!1)){if(t(e))return!0;let r=ng(e);return t(r)}}catch{}return!1}(e.uri)){let{message:r}=oQ("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(l7.malformed_pairing_uri),Error(r)}let n=oD(e?.uri);if(!(null!=(r=n?.relay)&&r.protocol)){let{message:e}=oQ("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(l7.malformed_pairing_uri),Error(e)}if(!(null!=n&&n.symKey)){let{message:e}=oQ("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(l7.malformed_pairing_uri),Error(e)}if(null!=n&&n.expiryTimestamp&&(0,a.toMiliseconds)(n?.expiryTimestamp)<Date.now()){t.setError(l7.pairing_expired);let{message:e}=oQ("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}}),u3(this,"isValidPing",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),u3(this,"isValidDisconnect",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),u3(this,"isValidPairingTopic",async e=>{if(!o6(e,!1)){let{message:t}=oQ("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=oQ("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(nl(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=oQ("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}),this.core=e,this.logger=rL(t,this.name),this.pairings=new u6(this.core,this.logger,this.name,this.storagePrefix)}get context(){return rj(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(lG.message,async e=>{let{topic:t,message:r,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==lY.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{let e=await this.core.crypto.decode(t,r);(0,lM.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,lM.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,r)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(l5.expired,async e=>{let{topic:t}=na(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(l2.expire,{topic:t}))})}}var u9=Object.defineProperty,u7=(e,t,r)=>t in e?u9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,de=(e,t,r)=>u7(e,"symbol"!=typeof t?t+"":t,r);class dt extends lv{constructor(e,t){super(e,t),this.core=e,this.logger=t,de(this,"records",new Map),de(this,"events",new i.EventEmitter),de(this,"name","history"),de(this,"version","0.3"),de(this,"cached",[]),de(this,"initialized",!1),de(this,"storagePrefix",l$),de(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),de(this,"set",(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:no(a.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(l6.created,n)}),de(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,lM.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(l6.updated,t))}),de(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),de(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic!==e||"u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(l6.deleted,r))}),this.persist()}),de(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),de(this,"on",(e,t)=>{this.events.on(e,t)}),de(this,"once",(e,t)=>{this.events.once(e,t)}),de(this,"off",(e,t)=>{this.events.off(e,t)}),de(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=rL(t,this.name)}get context(){return rj(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,lM.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=oQ("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(l6.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=oQ("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(l6.created,e=>{let t=l6.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(l6.updated,e=>{let t=l6.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(l6.deleted,e=>{let t=l6.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(lu.li.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,a.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(l6.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}}var dr=Object.defineProperty,dn=(e,t,r)=>t in e?dr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,di=(e,t,r)=>dn(e,"symbol"!=typeof t?t+"":t,r);class ds extends lS{constructor(e,t){super(e,t),this.core=e,this.logger=t,di(this,"expirations",new Map),di(this,"events",new i.EventEmitter),di(this,"name","expirer"),di(this,"version","0.3"),di(this,"cached",[]),di(this,"initialized",!1),di(this,"storagePrefix",l$),di(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),di(this,"has",e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}}),di(this,"set",(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(l5.created,{target:r,expiration:n})}),di(this,"get",e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)}),di(this,"del",e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(l5.deleted,{target:t,expiration:r})}}),di(this,"on",(e,t)=>{this.events.on(e,t)}),di(this,"once",(e,t)=>{this.events.once(e,t)}),di(this,"off",(e,t)=>{this.events.off(e,t)}),di(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=rL(t,this.name)}get context(){return rj(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return ns("topic",e);if("number"==typeof e)return ns("id",e);let{message:t}=oQ("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(l5.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=oQ("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=oQ("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,a.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(l5.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(lu.li.pulse,()=>this.checkExpirations()),this.events.on(l5.created,e=>{let t=l5.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(l5.expired,e=>{let t=l5.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(l5.deleted,e=>{let t=l5.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}}var da=Object.defineProperty,dl=(e,t,r)=>t in e?da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dc=(e,t,r)=>dl(e,"symbol"!=typeof t?t+"":t,r);class du extends lk{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,dc(this,"name","verify-api"),dc(this,"abortController"),dc(this,"isDevEnv"),dc(this,"verifyUrlV3",l3),dc(this,"storagePrefix",l$),dc(this,"version",2),dc(this,"publicKey"),dc(this,"fetchPromise"),dc(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,a.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),dc(this,"register",async e=>{if(!r8()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{let e=(0,o.getDocument)(),t=this.startAbortTimer(5*a.ONE_SECOND),n=await new Promise((n,s)=>{let a=()=>{window.removeEventListener("message",l),e.body.removeChild(o),s("attestation aborted")};this.abortController.signal.addEventListener("abort",a);let o=e.createElement("iframe");o.src=i,o.style.display="none",o.addEventListener("error",a,{signal:this.abortController.signal});let l=i=>{if(i.data&&"string"==typeof i.data)try{let s=JSON.parse(i.data);if("verify_attestation"===s.type){if((0,rn.Cq)(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(o),this.abortController.signal.removeEventListener("abort",a),window.removeEventListener("message",l),n(null===s.attestation?"":s.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(o),window.addEventListener("message",l,{signal:this.abortController.signal})});return this.logger.debug(n,"jwt attestation"),n}catch(e){this.logger.warn(e)}return""}),dc(this,"resolve",async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:n}=e;if(""===t){this.logger.debug("resolve: attestationId is empty, skipping");return}if(t){if((0,rn.Cq)(t).payload.id!==n)return;let e=await this.isValidJwtAttestation(t);if(e){if(!e.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return e}}if(!r)return;let i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)}),dc(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*a.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0}),dc(this,"getVerifyUrl",e=>{let t=e||l8;return l4.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${l8}`),t=l8),t}),dc(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(a.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),dc(this,"persistPublicKey",async e=>{this.logger.debug(e,"persisting public key to local storage"),await this.store.setItem(this.storeKey,e),this.publicKey=e}),dc(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),dc(this,"isValidJwtAttestation",async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),dc(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),dc(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e}),dc(this,"validateAttestation",(e,t)=>{let r=function(e,t){let[r,n,i]=e.split("."),s=rz.from(om(i),"base64");if(64!==s.length)throw Error("Invalid signature length");let a=s.slice(0,32),o=s.slice(32,64),l=ij(`${r}.${n}`),c=function(e){let t=rz.from(e.x,"base64"),r=rz.from(e.y,"base64");return(0,ri.xW)([new Uint8Array([4]),t,r])}(t);if(!os.verify((0,ri.xW)([a,o]),l,c))throw Error("Invalid signature");return(0,rn.Cq)(e).payload}(e,t.publicKey),n={hasExpired:(0,a.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}}),this.logger=rL(t,this.name),this.abortController=new AbortController,this.isDevEnv=ny(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return rj(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,a.toMiliseconds)(e))}}var dd=Object.defineProperty,dh=(e,t,r)=>t in e?dd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,df=(e,t,r)=>dh(e,"symbol"!=typeof t?t+"":t,r);class dp extends lC{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,df(this,"context","echo"),df(this,"registerDeviceToken",async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})}),this.logger=rL(t,this.context)}}var dy=Object.defineProperty,dg=Object.getOwnPropertySymbols,dm=Object.prototype.hasOwnProperty,db=Object.prototype.propertyIsEnumerable,dw=(e,t,r)=>t in e?dy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dv=(e,t)=>{for(var r in t||(t={}))dm.call(t,r)&&dw(e,r,t[r]);if(dg)for(var r of dg(t))db.call(t,r)&&dw(e,r,t[r]);return e},d_=(e,t,r)=>dw(e,"symbol"!=typeof t?t+"":t,r);class dx extends lT{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,d_(this,"context","event-client"),d_(this,"storagePrefix",l$),d_(this,"storageVersion",.1),d_(this,"events",new Map),d_(this,"shouldPersist",!1),d_(this,"init",async()=>{if(!ny())try{let e={eventId:np(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:r7(this.core.relayer.protocol,this.core.relayer.version,lJ)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),d_(this,"createEvent",e=>{let{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,s=np(),a=this.core.projectId||"",o=dv({eventId:s,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:a,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,o),this.shouldPersist=!0),o}),d_(this,"getEvent",e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let n=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(n)return dv(dv({},n),this.setMethods(n.eventId))}),d_(this,"deleteEvent",e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),d_(this,"setEventListeners",()=>{this.core.heartbeat.on(lu.li.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,a.fromMiliseconds)(Date.now())-(0,a.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),d_(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),d_(this,"addTrace",(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)}),d_(this,"setError",(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)}),d_(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),d_(this,"restore",async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,dv(dv({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),d_(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),d_(this,"sendEvent",async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${lJ}${t}`,{method:"POST",body:JSON.stringify(e)})}),d_(this,"getAppDomain",()=>r9().url),this.logger=rL(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var dE=Object.defineProperty,dI=Object.getOwnPropertySymbols,dA=Object.prototype.hasOwnProperty,dS=Object.prototype.propertyIsEnumerable,dk=(e,t,r)=>t in e?dE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dC=(e,t)=>{for(var r in t||(t={}))dA.call(t,r)&&dk(e,r,t[r]);if(dI)for(var r of dI(t))dS.call(t,r)&&dk(e,r,t[r]);return e},dT=(e,t,r)=>dk(e,"symbol"!=typeof t?t+"":t,r);class dO extends lg{constructor(e){var t;super(e),dT(this,"protocol","wc"),dT(this,"version",2),dT(this,"name",lF),dT(this,"relayUrl"),dT(this,"projectId"),dT(this,"customStoragePrefix"),dT(this,"events",new i.EventEmitter),dT(this,"logger"),dT(this,"heartbeat"),dT(this,"relayer"),dT(this,"crypto"),dT(this,"storage"),dT(this,"history"),dT(this,"expirer"),dT(this,"pairing"),dT(this,"verify"),dT(this,"echoClient"),dT(this,"linkModeSupportedApps"),dT(this,"eventClient"),dT(this,"initialized",!1),dT(this,"logChunkController"),dT(this,"on",(e,t)=>this.events.on(e,t)),dT(this,"once",(e,t)=>this.events.once(e,t)),dT(this,"off",(e,t)=>this.events.off(e,t)),dT(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),dT(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let n={topic:e,message:t,publishedAt:Date.now(),transportType:lY.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:r})});let r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||lK,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let{logger:n,chunkLoggerController:s}=rF({opts:function(e){return rB(rM({},e),{level:e?.level||ru.level})}({level:"string"==typeof e?.logger&&e.logger?e.logger:lz.logger,name:lF}),maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=rL(n,this.name),this.heartbeat=new lu.VH,this.crypto=new c9(this,this.logger,e?.keychain),this.history=new dt(this,this.logger),this.expirer=new ds(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new ld.A(dC(dC({},lq),e?.storageOptions)),this.relayer=new uq({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new u4(this,this.logger),this.verify=new du(this,this.logger,this.storage),this.echoClient=new dp(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new dx(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let t=new dO(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return rj(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(lX,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(lX)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(e){console.warn("Failed to get global WalletConnect core",e);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return"u">typeof lL&&"true"===lL.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let dP="client",dR=`wc@2:${dP}:`,dD={name:dP,logger:"error"},dN="WALLETCONNECT_DEEPLINK_CHOICE",dU="Proposal expired",dM=a.SEVEN_DAYS,dB={wc_sessionPropose:{req:{ttl:a.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1104},res:{ttl:a.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1106},res:{ttl:a.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:a.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:a.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1112},res:{ttl:a.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1114},res:{ttl:a.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:a.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:a.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1119}}},dj={min:a.FIVE_MINUTES,max:a.SEVEN_DAYS},dL={idle:"IDLE",active:"ACTIVE"},dF={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},d$=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],dz="wc@1.5:auth:",dq=`${dz}:PUB_KEY`;var dW=Object.defineProperty,dH=Object.defineProperties,dV=Object.getOwnPropertyDescriptors,dK=Object.getOwnPropertySymbols,dG=Object.prototype.hasOwnProperty,dZ=Object.prototype.propertyIsEnumerable,dJ=(e,t,r)=>t in e?dW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dY=(e,t)=>{for(var r in t||(t={}))dG.call(t,r)&&dJ(e,r,t[r]);if(dK)for(var r of dK(t))dZ.call(t,r)&&dJ(e,r,t[r]);return e},dQ=(e,t)=>dH(e,dV(t)),dX=(e,t,r)=>dJ(e,"symbol"!=typeof t?t+"":t,r);class d0 extends lN{constructor(e){super(e),dX(this,"name","engine"),dX(this,"events",new i),dX(this,"initialized",!1),dX(this,"requestQueue",{state:dL.idle,queue:[]}),dX(this,"sessionRequestQueue",{state:dL.idle,queue:[]}),dX(this,"emittedSessionRequests",new nm({limit:500})),dX(this,"requestQueueDelay",a.ONE_SECOND),dX(this,"expectedPairingMethodMap",new Map),dX(this,"recentlyDeletedMap",new Map),dX(this,"recentlyDeletedLimit",200),dX(this,"relayMessageCache",[]),dX(this,"pendingSessions",new Map),dX(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(dB)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,a.toMiliseconds)(this.requestQueueDelay)))}),dX(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let t=dQ(dY({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var r,n,i,s,a,o;let l=oG(e),c=oG(t),u={};for(let e of Object.keys(l).concat(Object.keys(c)))u[e]={chains:nu(null==(r=l[e])?void 0:r.chains,null==(n=c[e])?void 0:n.chains),methods:nu(null==(i=l[e])?void 0:i.methods,null==(s=c[e])?void 0:s.methods),events:nu(null==(a=l[e])?void 0:a.events,null==(o=c[e])?void 0:o.events)};return u}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,scopedProperties:o,relays:l}=t,c=r,u,d=!1;try{if(c){let e=this.client.core.pairing.pairings.get(c);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`),e}if(!c||!d){let{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});c=e,u=t}if(!c){let{message:e}=oQ("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw Error(e)}let h=await this.client.core.crypto.generateKeyPair(),f=dB.wc_sessionPropose.req.ttl||a.FIVE_MINUTES,p=no(f),y=dQ(dY(dY({requiredNamespaces:n,optionalNamespaces:i,relays:l??[{protocol:"irn"}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:p,pairingTopic:c},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:(0,lM.payloadId)()}),g=nc("session_connect",y.id),{reject:m,resolve:b,done:w}=nn(f,dU),v=({id:e})=>{e===y.id&&(this.client.events.off("proposal_expire",v),this.pendingSessions.delete(y.id),this.events.emit(g,{error:{message:dU,code:0}}))};return this.client.events.on("proposal_expire",v),this.events.once(g,({error:e,session:t})=>{this.client.events.off("proposal_expire",v),e?m(e):t&&b(t)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:u,approval:w}}),dX(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),dX(this,"approve",async e=>{var t,r,n;let i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[ce.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError(ct.no_internet_connection),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError(ct.proposal_not_found),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(ct.session_approve_namespace_validation_failure),e}let{id:s,relayProtocol:a,namespaces:o,sessionProperties:l,scopedProperties:c,sessionConfig:u}=e,d=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:h,proposer:f,requiredNamespaces:p,optionalNamespaces:y}=d,g=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:h});g||(g=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:ce.session_approve_started,properties:{topic:h,trace:[ce.session_approve_started,ce.session_namespaces_validation_success]}}));let m=await this.client.core.crypto.generateKeyPair(),b=f.publicKey,w=await this.client.core.crypto.generateSharedKey(m,b),v=dY(dY(dY({relay:{protocol:a??"irn"},namespaces:o,controller:{publicKey:m,metadata:this.client.metadata},expiry:no(dM)},l&&{sessionProperties:l}),c&&{scopedProperties:c}),u&&{sessionConfig:u}),_=lY.relay;g.addTrace(ce.subscribing_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:_,internal:{skipSubscribe:!0}})}catch(e){throw g.setError(ct.subscribe_session_topic_failure),e}g.addTrace(ce.subscribe_session_topic_success);let x=dQ(dY({},v),{topic:w,requiredNamespaces:p,optionalNamespaces:y,pairingTopic:h,acknowledged:!1,self:v.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:m,transportType:lY.relay});await this.client.session.set(w,x),g.addTrace(ce.store_session);try{await this.sendApproveSession({sessionTopic:w,proposal:d,pairingProposalResponse:{relay:{protocol:a??"irn"},responderPublicKey:m},sessionSettleRequest:v,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:s}}}),g.addTrace(ce.session_approve_publish_success)}catch(e){throw this.client.logger.error(e),this.client.session.delete(w,oX("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(w),e}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:f.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(w,no(dM)),{topic:w,acknowledged:()=>Promise.resolve(this.client.session.get(w))}}),dX(this,"reject",async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:n}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),e}t&&await this.sendError({id:r,topic:t,error:n,rpcOpts:dB.wc_sessionPropose.reject}),await this.deleteProposal(r)}),dX(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:s}=nn(),a=(0,lM.payloadId)(),o=(0,lM.getBigIntRpcId)().toString(),l=this.client.session.get(t).namespaces;return this.events.once(nc("session_update",a),({error:e})=>{e?s(e):i()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:o}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:l}),s(e)}),{acknowledged:n}}),dX(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=(0,lM.payloadId)(),{done:n,resolve:i,reject:s}=nn();return this.events.once(nc("session_extend",r),({error:e})=>{e?s(e):i()}),await this.setExpiry(t,no(dM)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:n}}),dX(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:n,expiry:i=dB.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(n);s?.transportType===lY.relay&&await this.confirmOnlineStateOrThrow();let a=(0,lM.payloadId)(),o=(0,lM.getBigIntRpcId)().toString(),{done:l,resolve:c,reject:u}=nn(i,"Request expired. Please try again.");this.events.once(nc("session_request",a),({error:e,result:t})=>{e?u(e):c(t)});let d="wc_sessionRequest",h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(h)return await this.sendRequest({clientRpcId:a,relayRpcId:o,topic:n,method:d,params:{request:dQ(dY({},r),{expiryTimestamp:no(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:a}),await l();let f={request:dQ(dY({},r),{expiryTimestamp:no(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:a,relayRpcId:o,topic:n,method:d,params:f,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(a,f)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:a}),e()}),new Promise(async e=>{var t;if(!(null!=(t=s.sessionConfig)&&t.disableDeepLink)){let e=await nh(this.client.core.storage,dN);await nd({id:a,topic:n,wcDeepLink:e})}e()}),l()]).then(e=>e[2])}),dX(this,"respond",async e=>{var t,r;this.isInitialized();let n=this.client.core.eventClient.createEvent({properties:{topic:e?.topic||(null==(r=null==(t=e?.response)?void 0:t.id)?void 0:r.toString()),trace:[ce.session_request_response_started]}});try{await this.isValidRespond(e)}catch(e){throw n.addTrace(e?.message),n.setError(ct.session_request_response_validation_failure),e}n.addTrace(ce.session_request_response_validation_success);let{topic:i,response:s}=e,{id:a}=s,o=this.client.session.get(i);o.transportType===lY.relay&&await this.confirmOnlineStateOrThrow();let l=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);try{n.addTrace(ce.session_request_response_publish_started),(0,lM.isJsonRpcResult)(s)?await this.sendResult({id:a,topic:i,result:s.result,throwOnFailedPublish:!0,appLink:l}):(0,lM.isJsonRpcError)(s)&&await this.sendError({id:a,topic:i,error:s.error,appLink:l}),this.cleanupAfterResponse(e)}catch(e){throw n.addTrace(e?.message),n.setError(ct.session_request_response_publish_failure),e}}),dX(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=(0,lM.payloadId)(),r=(0,lM.getBigIntRpcId)().toString(),{done:n,resolve:i,reject:s}=nn();this.events.once(nc("session_ping",e),({error:e})=>{e?s(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),dX(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e,i=(0,lM.getBigIntRpcId)().toString(),s=(0,lM.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})}),dX(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:oX("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=oQ("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}}),dX(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),s=!0;return!!ne(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:a}=e.namespaces[t],o=oH(n),l=r[t];ne(rH(t,l),o)&&ne(l.methods,i)&&ne(l.events,a)||(s=!1)}),s)})(t,e)))),dX(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),dX(this,"authenticate",async(e,t)=>{var r,n,i;let s;this.isInitialized(),this.isValidAuthenticate(e);let a=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),o=a?lY.link_mode:lY.relay;o===lY.relay&&await this.confirmOnlineStateOrThrow();let{chains:l,statement:c="",uri:u,domain:d,nonce:h,type:f,exp:p,nbf:y,methods:g=[],expiry:m}=e,b=[...e.resources||[]],{topic:w,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:w,uri:v}});let _=await this.client.core.crypto.generateKeyPair(),x=oh(_);if(await Promise.all([this.client.auth.authKeys.set(dq,{responseTopic:x,publicKey:_}),this.client.auth.pairingTopics.set(x,{topic:x,pairingTopic:w})]),await this.client.core.relayer.subscribe(x,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${w}`),g.length>0){let{namespace:e}=rq(l[0]),t=sl(function(e,t,r,n={}){return r?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:function(e,t,r={}){return Object.assign({},...(t=t?.sort((e,t)=>e.localeCompare(t))).map(t=>({[`${e}/${t}`]:[r]})))}(t,r,n)}}}(e,"request",g));sh(b)&&(n=t,i=b.pop(),t=sl(function(e,t){so(e),so(t);let r=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),n={att:{}};return r.forEach(r=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[r])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[r])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var s,a;n.att[r]=se(i7({},n.att[r]),{[i]:(null==(s=e.att[r])?void 0:s[i])||(null==(a=t.att[r])?void 0:a[i])})})}),n}(sc(n),sc(i)))),b.push(t)}let E=m&&m>dB.wc_sessionAuthenticate.req.ttl?m:dB.wc_sessionAuthenticate.req.ttl,I={authPayload:{type:f??"caip122",chains:l,statement:c,aud:u,domain:d,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:y,resources:b},requester:{publicKey:_,metadata:this.client.metadata},expiryTimestamp:no(E)},A={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:l,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:w,proposer:{publicKey:_,metadata:this.client.metadata},expiryTimestamp:no(dB.wc_sessionPropose.req.ttl),id:(0,lM.payloadId)()},{done:S,resolve:k,reject:C}=nn(E,"Request expired"),T=(0,lM.payloadId)(),O=nc("session_connect",A.id),P=nc("session_request",T),R=async({error:e,session:t})=>{this.events.off(P,D),e?C(e):t&&k({session:t})},D=async e=>{var r,n,i;let s;if(await this.deletePendingAuthRequest(T,{message:"fulfilled",code:0}),e.error){let t=oX("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(O,R),C(e.error.message))}await this.deleteProposal(A.id),this.events.off(O,R);let{cacaos:a,responder:l}=e.result,c=[],u=[];for(let e of a){await ss({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),C(oX("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=sh(t.resources),n=[sn(t.iss)],i=si(t.iss);if(r){let e=su(r),t=sd(r);c.push(...e),n.push(...t)}for(let e of n)u.push(`${e}:${i}`)}let d=await this.client.core.crypto.generateSharedKey(_,l.publicKey);c.length>0&&(s={topic:d,acknowledged:!0,self:{publicKey:_,metadata:this.client.metadata},peer:l,controller:l.publicKey,expiry:no(dM),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:w,namespaces:oZ([...new Set(c)],[...new Set(u)]),transportType:o},await this.client.core.relayer.subscribe(d,{transportType:o}),await this.client.session.set(d,s),w&&await this.client.core.pairing.updateMetadata({topic:w,metadata:l.metadata}),s=this.client.session.get(d)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=l.metadata.redirect)&&n.linkMode&&null!=(i=l.metadata.redirect)&&i.universal&&t&&(this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.session.update(d,{transportType:lY.link_mode})),k({auths:a,session:s})};this.events.once(O,R),this.events.once(P,D);try{if(a){let e=(0,lM.formatJsonRpcRequest)("wc_sessionAuthenticate",I,T);this.client.core.history.set(w,e);let r=await this.client.core.crypto.encode("",e,{type:2,encoding:oc});s=oU(t,w,r)}else await Promise.all([this.sendRequest({topic:w,method:"wc_sessionAuthenticate",params:I,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:T}),this.sendRequest({topic:w,method:"wc_sessionPropose",params:A,expiry:dB.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(e){throw this.events.off(O,R),this.events.off(P,D),e}return await this.setProposal(A.id,A),await this.setAuthRequest(T,{request:dQ(dY({},I),{verifyContext:{}}),pairingTopic:w,transportType:o}),{uri:s??v,response:S}}),dX(this,"approveSessionAuthenticate",async e=>{let t;let{id:r,auths:n}=e,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[cr.authenticated_session_approve_started]}});try{this.isInitialized()}catch(e){throw i.setError(cn.no_internet_connection),e}let s=this.getPendingAuthRequest(r);if(!s)throw i.setError(cn.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${r}`);let a=s.transportType||lY.relay;a===lY.relay&&await this.confirmOnlineStateOrThrow();let o=s.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),c=oh(o),u={type:1,receiverPublicKey:o,senderPublicKey:l},d=[],h=[];for(let e of n){if(!await ss({cacao:e,projectId:this.client.core.projectId})){i.setError(cn.invalid_cacao);let e=oX("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:c,error:e,encodeOpts:u}),Error(e.message)}i.addTrace(cr.cacaos_verified);let{p:t}=e,n=sh(t.resources),s=[sn(t.iss)],a=si(t.iss);if(n){let e=su(n),t=sd(n);d.push(...e),s.push(...t)}for(let e of s)h.push(`${e}:${a}`)}let f=await this.client.core.crypto.generateSharedKey(l,o);if(i.addTrace(cr.create_authenticated_session_topic),d?.length>0){t={topic:f,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:o,metadata:s.requester.metadata},controller:o,expiry:no(dM),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:oZ([...new Set(d)],[...new Set(h)]),transportType:a},i.addTrace(cr.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(f,{transportType:a})}catch(e){throw i.setError(cn.subscribe_authenticated_session_topic_failure),e}i.addTrace(cr.subscribe_authenticated_session_topic_success),await this.client.session.set(f,t),i.addTrace(cr.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}i.addTrace(cr.publishing_authenticated_session_approve);try{await this.sendResult({topic:c,id:r,result:{cacaos:n,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:u,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,a)})}catch(e){throw i.setError(cn.authenticated_session_approve_publish_failure),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:t}}),dX(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();let{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw Error(`Could not find pending auth request with id ${t}`);n.transportType===lY.relay&&await this.confirmOnlineStateOrThrow();let i=n.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),a=oh(i);await this.sendError({id:t,topic:a,error:r,encodeOpts:{type:1,receiverPublicKey:i,senderPublicKey:s},rpcOpts:dB.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),dX(this,"formatAuthMessage",e=>{this.isInitialized();let{request:t,iss:r}=e;return sa(t,r)}),dX(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),dX(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),dX(this,"deleteSession",async e=>{var t;let{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:s=0}=e,{self:a}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,oX("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(dN).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,oX("USER_DISCONNECTED"))}),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=dL.idle),i&&this.client.events.emit("session_delete",{id:s,topic:r})}),dX(this,"deleteProposal",async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError(ct.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,oX("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),dX(this,"deletePendingSessionRequest",async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=dL.idle,this.client.events.emit("session_request_expire",{id:e}))}),dX(this,"deletePendingAuthRequest",async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])}),dX(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),dX(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,no(dB.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),dX(this,"setAuthRequest",async(e,t)=>{let{request:r,pairingTopic:n,transportType:i=lY.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})}),dX(this,"setPendingSessionRequest",async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,s=n.request.expiryTimestamp||no(dB.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})}),dX(this,"sendRequest",async e=>{let t,r;let{topic:n,method:i,params:s,expiry:a,relayRpcId:o,clientRpcId:l,throwOnFailedPublish:c,appLink:u,tvf:d,publishOpts:h={}}=e,f=(0,lM.formatJsonRpcRequest)(i,s,l),p=!!u;try{let e=p?oc:ol;t=await this.client.core.crypto.encode(n,f,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),e}if(d$.includes(i)){let e=of(JSON.stringify(f)),n=of(t);r=await this.client.core.verify.register({id:n,decryptedId:e})}let y=dY(dY({},dB[i].req),h);if(y.attestation=r,a&&(y.ttl=a),o&&(y.id=o),this.client.core.history.set(n,f),p){let e=oU(u,n,t);await global.Linking.openURL(e,this.client.name)}else y.tvf=dQ(dY({},d),{correlationId:f.id}),c?(y.internal=dQ(dY({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,t,y)):this.client.core.relayer.publish(n,t,y).catch(e=>this.client.logger.error(e));return f.id}),dX(this,"sendProposeSession",async e=>{let{proposal:t,publishOpts:r}=e,n=(0,lM.formatJsonRpcRequest)("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,n);let i=await this.client.core.crypto.encode(t.pairingTopic,n,{encoding:ol}),s=of(JSON.stringify(n)),a=of(i),o=await this.client.core.verify.register({id:a,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:dQ(dY({},r),{publishMethod:"wc_proposeSession",attestation:o})})}),dX(this,"sendApproveSession",async e=>{let{sessionTopic:t,pairingProposalResponse:r,proposal:n,sessionSettleRequest:i,publishOpts:s}=e,a=(0,lM.formatJsonRpcResult)(n.id,r),o=await this.client.core.crypto.encode(n.pairingTopic,a,{encoding:ol}),l=(0,lM.formatJsonRpcRequest)("wc_sessionSettle",i,s?.id),c=await this.client.core.crypto.encode(t,l,{encoding:ol});this.client.core.history.set(t,l),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:n.pairingTopic,sessionProposalResponse:o,sessionSettlementRequest:c},opts:dQ(dY({},s),{publishMethod:"wc_approveSession"})})}),dX(this,"sendResult",async e=>{let t,r,n;let{id:i,topic:s,result:a,throwOnFailedPublish:o,encodeOpts:l,appLink:c}=e,u=(0,lM.formatJsonRpcResult)(i,a),d=c&&"u">typeof(null==global?void 0:global.Linking);try{let e=d?oc:ol;t=await this.client.core.crypto.encode(s,u,dQ(dY({},l||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),e}try{let e=(r=await this.client.core.history.get(s,i)).request;try{n=this.getTVFParams(i,e.params,a)}catch(e){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${e?.message}`)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${i}) failed`),e}if(d){let e=oU(c,s,t);await global.Linking.openURL(e,this.client.name)}else{let e=dB[r.request.method].res;e.tvf=dQ(dY({},n),{correlationId:i}),o?(e.internal=dQ(dY({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,t,e)):this.client.core.relayer.publish(s,t,e).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(u)}),dX(this,"sendError",async e=>{let t,r;let{id:n,topic:i,error:s,encodeOpts:a,rpcOpts:o,appLink:l}=e,c=(0,lM.formatJsonRpcError)(n,s),u=l&&"u">typeof(null==global?void 0:global.Linking);try{let e=u?oc:ol;t=await this.client.core.crypto.encode(i,c,dQ(dY({},a||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),e}try{r=await this.client.core.history.get(i,n)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),e}if(u){let e=oU(l,i,t);await global.Linking.openURL(e,this.client.name)}else{let e=r.request.method,n=o||dB[e].res;this.client.core.relayer.publish(i,t,n)}await this.client.core.history.resolve(c)}),dX(this,"cleanup",async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;nl(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{nl(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),dX(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),dX(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),dX(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===dL.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=dL.active;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=dL.idle}),dX(this,"processRequest",async e=>{let{topic:t,payload:r,attestation:n,transportType:i,encryptedId:s}=e,a=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:a}))switch(a){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${a}`)}}),dX(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),dX(this,"onRelayEventUnknownPayload",e=>{let{topic:t}=e,{message:r}=oQ("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)}),dX(this,"shouldIgnorePairingRequest",e=>{let{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),dX(this,"onSessionProposeRequest",async e=>{let{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:s,id:a}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(l7.proposal_listener_not_found)),this.isValidConnect(dY({},r.params));let o=s.expiryTimestamp||no(dB.wc_sessionPropose.req.ttl),l=dY({id:a,pairingTopic:t,expiryTimestamp:o,attestation:n,encryptedId:i},s);await this.setProposal(a,l);let c=await this.getVerifyContext({attestationId:n,hash:of(JSON.stringify(r)),encryptedId:i,metadata:l.proposer.metadata});e?.addTrace(l9.emit_session_proposal),this.client.events.emit("session_proposal",{id:a,params:l,verifyContext:c})}catch(e){await this.sendError({id:a,topic:t,error:e,rpcOpts:dB.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),dX(this,"onSessionProposeResponse",async(e,t,r)=>{let{id:n}=t;if((0,lM.isJsonRpcResult)(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let s=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});let a=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let o=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});let l=await this.client.core.crypto.generateSharedKey(a,o);this.pendingSessions.set(n,{sessionTopic:l,pairingTopic:e,proposalId:n,publicKey:a});let c=await this.client.core.relayer.subscribe(l,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:e})}else if((0,lM.isJsonRpcError)(t)){await this.deleteProposal(n);let e=nc("session_connect",n);if(0===this.events.listenerCount(e))throw Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),dX(this,"onSessionSettleRequest",async(e,t)=>{let{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);let{relay:r,controller:i,expiry:s,namespaces:a,sessionProperties:o,scopedProperties:l,sessionConfig:c}=t.params,u=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!u)return this.client.logger.error(`Pending session not found for topic ${e}`);let d=this.client.proposal.get(u.proposalId),h=dQ(dY(dY(dY({topic:e,relay:r,expiry:s,namespaces:a,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:d.requiredNamespaces,optionalNamespaces:d.optionalNamespaces,controller:i.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},o&&{sessionProperties:o}),l&&{scopedProperties:l}),c&&{sessionConfig:c}),{transportType:lY.relay});await this.client.session.set(h.topic,h),await this.setExpiry(h.topic,h.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:h.peer.metadata}),this.client.events.emit("session_connect",{session:h}),this.events.emit(nc("session_connect",u.proposalId),{session:h}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(h),await this.sendResult({id:t.id,topic:e,result:!0})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),dX(this,"onSessionSettleResponse",async(e,t)=>{let{id:r}=t;(0,lM.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(nc("session_approve",r),{})):(0,lM.isJsonRpcError)(t)&&(await this.client.session.delete(e,oX("USER_DISCONNECTED")),this.events.emit(nc("session_approve",r),{error:t.error}))}),dX(this,"onSessionUpdateRequest",async(e,t)=>{let{params:r,id:n}=t;try{let t=`${e}_session_update`,i=lo.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.warn(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:e,error:oX("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(dY({topic:e},r));try{lo.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0})}catch(e){throw lo.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),dX(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),dX(this,"onSessionUpdateResponse",(e,t)=>{let{id:r}=t,n=nc("session_update",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,lM.isJsonRpcResult)(t)?this.events.emit(nc("session_update",r),{}):(0,lM.isJsonRpcError)(t)&&this.events.emit(nc("session_update",r),{error:t.error})}),dX(this,"onSessionExtendRequest",async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,no(dM)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),dX(this,"onSessionExtendResponse",(e,t)=>{let{id:r}=t,n=nc("session_extend",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,lM.isJsonRpcResult)(t)?this.events.emit(nc("session_extend",r),{}):(0,lM.isJsonRpcError)(t)&&this.events.emit(nc("session_extend",r),{error:t.error})}),dX(this,"onSessionPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),dX(this,"onSessionPingResponse",(e,t)=>{let{id:r}=t,n=nc("session_ping",r);setTimeout(()=>{if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners 2176`);(0,lM.isJsonRpcResult)(t)?this.events.emit(nc("session_ping",r),{}):(0,lM.isJsonRpcError)(t)&&this.events.emit(nc("session_ping",r),{error:t.error})},500)}),dX(this,"onSessionDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(lG.publish,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:oX("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}}),dX(this,"onSessionRequest",async e=>{var t,r,n;let{topic:i,payload:s,attestation:a,encryptedId:o,transportType:l}=e,{id:c,params:u}=s;try{await this.isValidRequest(dY({topic:i},u));let e=this.client.session.get(i),s=await this.getVerifyContext({attestationId:a,hash:of(JSON.stringify((0,lM.formatJsonRpcRequest)("wc_sessionRequest",u,c))),encryptedId:o,metadata:e.peer.metadata,transportType:l}),d={id:c,topic:i,params:u,verifyContext:s};await this.setPendingSessionRequest(d),l===lY.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(d):(this.addSessionRequestToSessionRequestQueue(d),this.processSessionRequestQueue())}catch(e){await this.sendError({id:c,topic:i,error:e}),this.client.logger.error(e)}}),dX(this,"onSessionRequestResponse",(e,t)=>{let{id:r}=t,n=nc("session_request",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,lM.isJsonRpcResult)(t)?this.events.emit(nc("session_request",r),{result:t.result}):(0,lM.isJsonRpcError)(t)&&this.events.emit(nc("session_request",r),{error:t.error})}),dX(this,"onSessionEventRequest",async(e,t)=>{let{id:r,params:n}=t;try{let t=`${e}_session_event_${n.event.name}`,i=lo.get(t);if(i&&this.isRequestOutOfSync(i,r)){this.client.logger.info(`Discarding out of sync request - ${r}`);return}this.isValidEmit(dY({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),lo.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),dX(this,"onSessionAuthenticateResponse",(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,lM.isJsonRpcResult)(t)?this.events.emit(nc("session_request",r),{result:t.result}):(0,lM.isJsonRpcError)(t)&&this.events.emit(nc("session_request",r),{error:t.error})}),dX(this,"onSessionAuthenticateRequest",async e=>{var t;let{topic:r,payload:n,attestation:i,encryptedId:s,transportType:a}=e;try{let{requester:e,authPayload:o,expiryTimestamp:l}=n.params,c=await this.getVerifyContext({attestationId:i,hash:of(JSON.stringify(n)),encryptedId:s,metadata:e.metadata,transportType:a}),u={requester:e,pairingTopic:r,id:n.id,authPayload:o,verifyContext:c,expiryTimestamp:l};await this.setAuthRequest(n.id,{request:u,pairingTopic:r,transportType:a}),a===lY.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:c})}catch(s){this.client.logger.error(s);let e=n.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(n.params.requester.metadata,a);await this.sendError({id:n.id,topic:r,error:s,encodeOpts:{type:1,receiverPublicKey:e,senderPublicKey:t},rpcOpts:dB.wc_sessionAuthenticate.autoReject,appLink:i})}}),dX(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),dX(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=dL.idle,this.processSessionRequestQueue()},(0,a.toMiliseconds)(this.requestQueueDelay))}),dX(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{let r=nc("session_request",e.request.id);if(0===this.events.listenerCount(r))throw Error(`emitting ${r} without any listeners`);this.events.emit(nc("session_request",e.request.id),{error:t})})}),dX(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===dL.active){this.client.logger.info("session request queue is already active.");return}let e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}}),dX(this,"emitSessionRequest",e=>{if(this.emittedSessionRequests.has(e.id)){this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`);return}this.sessionRequestQueue.state=dL.active,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e)}),dX(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,lM.formatJsonRpcRequest)("wc_sessionPropose",dQ(dY({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),dX(this,"isValidConnect",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:s,relays:a}=e;if(o2(t)||await this.isValidPairingTopic(t),!function(e,t){let r=!1;return t&&!e?r=!0:e&&o0(e)&&e.length&&e.forEach(e=>{r=o7(e)}),r}(a,!0)){let{message:e}=oQ("MISSING_OR_INVALID",`connect() relays: ${a}`);throw Error(e)}if(r&&!o2(r)&&0!==o1(r)){let e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(r,"requiredNamespaces")}if(n&&!o2(n)&&0!==o1(n)&&this.validateNamespaces(n,"optionalNamespaces"),i&&!o2(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!o2(s)){this.validateSessionProps(s,"scopedProperties");let e=Object.keys(r||{}).concat(Object.keys(n||{}));if(!Object.keys(s).every(t=>e.includes(t.split(":")[0])))throw Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),dX(this,"validateNamespaces",(e,t)=>{let r=function(e,t,r){let n=null;if(e&&o1(e)){let i;let s=o4(e,t);s&&(n=s);let a=(i=null,Object.entries(e).forEach(([e,n])=>{var s,a;let o;if(i)return;let l=(s=rH(e,n),a=`${t} ${r}`,o=null,o0(s)&&s.length?s.forEach(e=>{o||o8(e)||(o=oX("UNSUPPORTED_CHAINS",`${a}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):o8(e)||(o=oX("UNSUPPORTED_CHAINS",`${a}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),o);l&&(i=l)}),i);a&&(n=a)}else n=oQ("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}(e,"connect()",t);if(r)throw Error(r.message)}),dX(this,"isValidApprove",async e=>{if(!le(e))throw Error(oQ("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let a=this.client.proposal.get(t),o=o9(r,"approve()");if(o)throw Error(o.message);let l=lr(a.requiredNamespaces,r,"approve()");if(l)throw Error(l.message);if(!o6(n,!0)){let{message:e}=oQ("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}if(i&&!o2(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!o2(s)){this.validateSessionProps(s,"scopedProperties");let e=new Set(Object.keys(r));if(!Object.keys(s).every(t=>e.has(t.split(":")[0])))throw Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),dX(this,"isValidReject",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!o5(e.code,!1)||!e.message||!o6(e.message,!1))}(r)){let{message:e}=oQ("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}}),dX(this,"isValidSessionSettleRequest",e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:t,controller:r,namespaces:n,expiry:i}=e;if(!o7(t)){let{message:e}=oQ("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let s=function(e,t){let r=null;return o6(e?.publicKey,!1)||(r=oQ("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}(r,"onSessionSettleRequest()");if(s)throw Error(s.message);let a=o9(n,"onSessionSettleRequest()");if(a)throw Error(a.message);if(nl(i)){let{message:e}=oQ("EXPIRED","onSessionSettleRequest()");throw Error(e)}}),dX(this,"isValidUpdate",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=o9(r,"update()");if(i)throw Error(i.message);let s=lr(n.requiredNamespaces,r,"update()");if(s)throw Error(s.message)}),dX(this,"isValidExtend",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),dX(this,"isValidRequest",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:t,request:r,chainId:n,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let{namespaces:s}=this.client.session.get(t);if(!lt(s,n)){let{message:e}=oQ("MISSING_OR_INVALID",`request() chainId: ${n}`);throw Error(e)}if(!function(e){return!(o2(e)||!o6(e.method,!1))}(r)){let{message:e}=oQ("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw Error(e)}if(!function(e,t,r){return!!o6(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{oH(e.accounts).includes(t)&&r.push(...e.methods)}),r})(e,t).includes(r)}(s,n,r.method)){let{message:e}=oQ("MISSING_OR_INVALID",`request() method: ${r.method}`);throw Error(e)}if(i&&!function(e,t){return o5(e,!1)&&e<=t.max&&e>=t.min}(i,dj)){let{message:e}=oQ("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${dj.min} and ${dj.max}`);throw Error(e)}}),dX(this,"isValidRespond",async e=>{var t;if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!function(e){return!(o2(e)||o2(e.result)&&o2(e.error)||!o5(e.id,!1)||!o6(e.jsonrpc,!1))}(n)){let{message:e}=oQ("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw Error(e)}let i=this.client.pendingRequest.get(n.id);if(i.topic!==r){let{message:e}=oQ("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${n.id}, expected topic: ${i.topic}, received topic: ${r}`);throw Error(e)}}),dX(this,"isValidPing",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),dX(this,"isValidEmit",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:t,event:r,chainId:n}=e;await this.isValidSessionTopic(t);let{namespaces:i}=this.client.session.get(t);if(!lt(i,n)){let{message:e}=oQ("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw Error(e)}if(!function(e){return!(o2(e)||!o6(e.name,!1))}(r)||!function(e,t,r){return!!o6(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{oH(e.accounts).includes(t)&&r.push(...e.events)}),r})(e,t).includes(r)}(i,n,r.name)){let{message:e}=oQ("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}}),dX(this,"isValidDisconnect",async e=>{if(!le(e)){let{message:t}=oQ("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),dX(this,"isValidAuthenticate",e=>{let{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!o6(r,!1))throw Error("uri is required parameter");if(!o6(n,!1))throw Error("domain is required parameter");if(!o6(i,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>rq(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:s}=rq(t[0]);if("eip155"!==s)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),dX(this,"getVerifyContext",async e=>{let{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:s}=e,a={verified:{verifyUrl:i.verifyUrl||l8,validation:"UNKNOWN",origin:i.url||""}};try{if(s===lY.link_mode){let e=this.getAppLinkIfEnabled(i,s);return a.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",a}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(a.verified.origin=e.origin,a.verified.isScam=e.isScam,a.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(a)}`),a}),dX(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((r,n)=>{if(null==r){let{message:i}=oQ("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${r} for key ${Object.keys(e)[n]}`);throw Error(i)}})}),dX(this,"getPendingAuthRequest",e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),dX(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}}),dX(this,"checkRecentlyDeleted",e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=oQ("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw Error(r)}}),dX(this,"isLinkModeEnabled",(e,t)=>{var r,n,i,s,a,o,l,c,u;return!!e&&t===lY.link_mode&&(null==(n=null==(r=this.client.metadata)?void 0:r.redirect)?void 0:n.linkMode)===!0&&(null==(s=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:s.universal)!==void 0&&(null==(o=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:o.universal)!==""&&(null==(l=e?.redirect)?void 0:l.universal)!==void 0&&(null==(c=e?.redirect)?void 0:c.universal)!==""&&(null==(u=e?.redirect)?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&"u">typeof(null==global?void 0:global.Linking)}),dX(this,"getAppLinkIfEnabled",(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0}),dX(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;let t=nf(e,"topic")||"",r=decodeURIComponent(nf(e,"wc_ev")||""),n=this.client.session.keys.includes(t);n&&this.client.session.update(t,{transportType:lY.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:n})}),dX(this,"registerLinkModeListeners",async()=>{var e;if(ny()||r5()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){let e=null==global?void 0:global.Linking;if("u">typeof e){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);let t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),dX(this,"getTVFParams",(e,t,r)=>{var n,i,s;if(!(null!=(n=t.request)&&n.method))return{};let a={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{let e=this.extractTxHashesFromResult(t.request,r);a.txHashes=e,a.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(e){this.client.logger.warn(e,"Error getting TVF params")}return a}),dX(this,"isValidContractData",e=>{var t;if(!e)return!1;try{let r=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!r.startsWith("0x"))return!1;let n=r.slice(2);return!!/^[0-9a-fA-F]*$/.test(n)&&n.length%2==0}catch{}return!1}),dX(this,"extractTxHashesFromResult",(e,t)=>{var r;try{if(!t)return[];let n=e.method,i=dF[n];if("sui_signTransaction"===n)return[function(e){let t=new Uint8Array(rz.from(e,"base64")),r=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),n=new Uint8Array(r.length+t.length);n.set(r),n.set(t,r.length);let i=iZ(n,{dkLen:32});return tJ.A.encode(i)}(t.transactionBytes)];if("near_signTransaction"===n)return[iX(t)];if("near_signTransactions"===n)return t.map(e=>iX(e));if("xrpl_signTransactionFor"===n||"xrpl_signTransaction"===n)return[null==(r=t.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===n)return[function(e){let t=Uint8Array.from(rz.from(e.signature,"hex")),r=function({publicKey:e,signature:t,payload:r}){var n,i;let s=ll(r.method),a=128|parseInt((null==(n=r.version)?void 0:n.toString())||"4"),o=function(e){let t=tJ.A.decode(e)[0];return 42===t?0:60===t?2:1}(r.address),l="00"===r.era?new Uint8Array([0]):ll(r.era);if(1!==l.length&&2!==l.length)throw Error("Invalid era length");let c=parseInt(r.nonce,16),u=new Uint8Array([255&c,c>>8&255]),d=new Uint8Array([0,...e,o,...t,...l,...u,...function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){let t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){let t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw Error("BigInt compact encoding not supported > 2^30")}(BigInt(`0x${(i=r.tip).startsWith("0x")?i.slice(2):i}`)),...s]);return new Uint8Array([...function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){let t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<0x40000000){let t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw Error("Compact encoding > 2^30 not supported")}(d.length+1),a,...d])}({publicKey:function(e){let t=tJ.A.decode(e);if(t.length<33)throw Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),signature:t,payload:e.transaction});return function(e){let t=ll(e),r=(0,ra.blake2b)(t,void 0,32);return"0x"+rz.from(r).toString("hex")}(rz.from(r).toString("hex"))}({transaction:e.params.transactionPayload,signature:t.signature})];if("algo_signTxn"===n)return o0(t)?t.map(e=>i0(e)):[i0(t)];if("cosmos_signDirect"===n)return[function(e){let t=rz.from(e.signed.bodyBytes,"base64"),r=rz.from(e.signed.authInfoBytes,"base64"),n=rz.from(e.signature.signature,"base64"),i=[];i.push(rz.from([10])),i.push(i1(t.length)),i.push(t),i.push(rz.from([18])),i.push(i1(r.length)),i.push(r),i.push(rz.from([26])),i.push(i1(n.length)),i.push(n);let s=ij(rz.concat(i));return rz.from(s).toString("hex").toUpperCase()}(t)];if("wallet_sendCalls"===n)return function(e){var t,r;let n=[];try{if("string"==typeof e)return n.push(e),n;if("object"!=typeof e)return n;null!=e&&e.id&&n.push(e.id);let i=null==(r=null==(t=e?.capabilities)?void 0:t.caip345)?void 0:r.transactionHashes;i&&n.push(...i)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return n}(t);if("string"==typeof t)return[t];let s=t[i.key];if(o0(s))return"solana_signAllTransactions"===n?s.map(e=>(function(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let n=r[0];if(0===n)throw Error("No signatures found");if(r.length<1+64*n)throw Error("Transaction data too short for claimed signature count");if(r.length<100)throw Error("Transaction too short");let i=rz.from(e,"base64").slice(1,65);return tJ.A.encode(i)})(e)):s;if("string"==typeof s)return[s]}catch(e){this.client.logger.warn(e,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(let[e,r]of Object.entries(t))for(let t of r)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){let{message:e}=oQ("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(lG.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(dq)?this.client.auth.authKeys.get(dq):{responseTopic:void 0,publicKey:void 0};try{let e=await this.client.core.crypto.decode(t,r,{receiverPublicKey:s,encoding:i===lY.link_mode?oc:ol});(0,lM.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:n,transportType:i,encryptedId:of(r)})):(0,lM.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,r)}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(l5.expired,async e=>{let{topic:t,id:r}=na(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,oQ("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,oQ("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(l2.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(l2.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!o6(e,!1)){let{message:t}=oQ("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=oQ("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(nl(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=oQ("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!o6(e,!1)){let{message:t}=oQ("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=oQ("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(nl(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=oQ("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=oQ("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(o6(e,!1)){let{message:t}=oQ("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=oQ("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=oQ("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=oQ("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(nl(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=oQ("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class d1 extends u6{constructor(e,t){super(e,t,"proposal",dR),this.core=e,this.logger=t}}class d2 extends u6{constructor(e,t){super(e,t,"session",dR),this.core=e,this.logger=t}}class d6 extends u6{constructor(e,t){super(e,t,"request",dR,e=>e.id),this.core=e,this.logger=t}}class d5 extends u6{constructor(e,t){super(e,t,"authKeys",dz,()=>dq),this.core=e,this.logger=t}}class d8 extends u6{constructor(e,t){super(e,t,"pairingTopics",dz),this.core=e,this.logger=t}}class d3 extends u6{constructor(e,t){super(e,t,"requests",dz,e=>e.id),this.core=e,this.logger=t}}var d4=Object.defineProperty,d9=(e,t,r)=>t in e?d4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d7=(e,t,r)=>d9(e,"symbol"!=typeof t?t+"":t,r);class he{constructor(e,t){this.core=e,this.logger=t,d7(this,"authKeys"),d7(this,"pairingTopics"),d7(this,"requests"),this.authKeys=new d5(this.core,this.logger),this.pairingTopics=new d8(this.core,this.logger),this.requests=new d3(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var ht=Object.defineProperty,hr=(e,t,r)=>t in e?ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hn=(e,t,r)=>hr(e,"symbol"!=typeof t?t+"":t,r);class hi extends lD{constructor(e){super(e),hn(this,"protocol","wc"),hn(this,"version",2),hn(this,"name",dD.name),hn(this,"metadata"),hn(this,"core"),hn(this,"logger"),hn(this,"events",new i.EventEmitter),hn(this,"engine"),hn(this,"session"),hn(this,"proposal"),hn(this,"pendingRequest"),hn(this,"auth"),hn(this,"signConfig"),hn(this,"on",(e,t)=>this.events.on(e,t)),hn(this,"once",(e,t)=>this.events.once(e,t)),hn(this,"off",(e,t)=>this.events.off(e,t)),hn(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),hn(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),hn(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),hn(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),hn(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||dD.name,this.metadata=function(e){var t,r;let n=r9();try{return null!=e&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),r0(rX(rX({},n),e),{url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:null!=(r=e?.icons)&&r.length&&e.icons.length>0?e.icons:n.icons})}catch(t){return console.warn("Error populating app metadata",t),e||n}}(e?.metadata),this.signConfig=e?.signConfig;let t=lc({logger:e?.logger||dD.logger,name:this.name});this.logger=t,this.core=e?.core||new dO(e),this.session=new d2(this.core,this.logger),this.proposal=new d1(this.core,this.logger),this.pendingRequest=new d6(this.core,this.logger),this.engine=new d0(this),this.auth=new he(this.core,this.logger)}static async init(e){let t=new hi(e);return await t.initialize(),t}get context(){return rj(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var hs=r(5279),ha=r(75927).hp;function ho(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function hl(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function hc(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let hu="[object String]",hd="[object Number]",hh="[object Boolean]",hf="[object Arguments]";function hp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hy(e,t,r,n=new Map,i){let s=i?.(e,t,r,n);if(null!=s)return s;if(ho(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let t=Array(e.length);n.set(e,t);for(let s=0;s<e.length;s++)t[s]=hy(e[s],s,r,n,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[s,a]of(n.set(e,t),e))t.set(s,hy(a,s,r,n,i));return t}if(e instanceof Set){let t=new Set;for(let s of(n.set(e,t),e))t.add(hy(s,void 0,r,n,i));return t}if("u">typeof ha&&ha.isBuffer(e))return e.subarray();if(hp(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,t);for(let s=0;s<e.length;s++)t[s]=hy(e[s],s,r,n,i);return t}if(e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),hg(t,e,r,n,i),t}if("u">typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return n.set(e,t),hg(t,e,r,n,i),t}if(e instanceof Blob){let t=new Blob([e],{type:e.type});return n.set(e,t),hg(t,e,r,n,i),t}if(e instanceof Error){let t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,hg(t,e,r,n,i),t}if("object"==typeof e&&function(e){switch(hc(e)){case hf:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case hh:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case hd:case"[object Object]":case"[object RegExp]":case"[object Set]":case hu:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),hg(t,e,r,n,i),t}return e}function hg(e,t,r=e,n,i){let s=[...Object.keys(t),...hl(t)];for(let a=0;a<s.length;a++){let o=s[a],l=Object.getOwnPropertyDescriptor(e,o);(null==l||l.writable)&&(e[o]=hy(t[o],o,r,n,i))}}function hm(e){var t;return t=(t,r,n,i)=>{let s=void 0;if(null!=s)return s;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case hd:case hu:case hh:{let t=new e.constructor(e?.valueOf());return hg(t,e),t}case hf:{let t={};return hg(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}},hy(e,void 0,e,new Map,t)}function hb(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===hc(e)}function hw(e){return"object"==typeof e&&null!==e}function hv(){}let h_="error",hx="universal_provider",hE=`wc@2:${hx}:`,hI="https://rpc.walletconnect.org/v1/",hA="generic",hS=`${hI}bundler`,hk="call_status",hC={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var hT=Object.defineProperty,hO=Object.defineProperties,hP=Object.getOwnPropertyDescriptors,hR=Object.getOwnPropertySymbols,hD=Object.prototype.hasOwnProperty,hN=Object.prototype.propertyIsEnumerable,hU=(e,t,r)=>t in e?hT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hM=(e,t)=>{for(var r in t||(t={}))hD.call(t,r)&&hU(e,r,t[r]);if(hR)for(var r of hR(t))hN.call(t,r)&&hU(e,r,t[r]);return e},hB=(e,t)=>hO(e,hP(t));function hj(e,t,r){var n;let i=rq(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||`${hI}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function hL(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function hF(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>{var r,n;return(null==(r=t?.chains)?void 0:r.length)&&(null==(n=t?.chains)?void 0:n.length)>0}))}function h$(e={},t={}){return function(e,...t){return function(e,...t){let r=t.slice(0,-1),n=t[t.length-1],i=e;for(let e=0;e<r.length;e++)i=function e(t,r,n,i){if(ho(t)&&(t=Object(t)),null==r||"object"!=typeof r)return t;if(i.has(r))return function(e){if(ho(e))return e;if(Array.isArray(e)||hp(e)||e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);let t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){let t=new r(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){let t=new r(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}return"u">typeof File&&e instanceof File?new r([e],e.name,{type:e.type,lastModified:e.lastModified}):"object"==typeof e?Object.assign(Object.create(t),e):e}(i.get(r));if(i.set(r,t),Array.isArray(r)){r=r.slice();for(let e=0;e<r.length;e++)r[e]=r[e]??void 0}let s=[...Object.keys(r),...hl(r)];for(let a=0;a<s.length;a++){let o=s[a],l=r[o],c=t[o];if(hb(l)&&(l={...l}),hb(c)&&(c={...c}),"u">typeof ha&&ha.isBuffer(l)&&(l=hm(l)),Array.isArray(l)){if("object"==typeof c&&null!=c){let e=[],t=Reflect.ownKeys(c);for(let r=0;r<t.length;r++){let n=t[r];e[n]=c[n]}c=e}else c=[]}let u=n(c,l,o,t,r,i);null!=u?t[o]=u:Array.isArray(l)||hw(c)&&hw(l)?t[o]=e(c,l,n,i):null==c&&function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){let t=e[Symbol.toStringTag];return!!(null!=t&&Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable)&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(l)?t[o]=e({},l,n,i):null==c&&hp(l)?t[o]=hm(l):(void 0===c||void 0!==l)&&(t[o]=l)}return t}(i,r[e],n,new Map);return i}(e,...t,hv)}(hF(hz(e)),hF(hz(t)))}function hz(e){var t,r,n,i,s;let a={};if(!o1(e))return a;for(let[o,l]of Object.entries(e)){let e=oV(o)?[o]:l.chains,c=l.methods||[],u=l.events||[],d=l.rpcMap||{},h=oK(o);a[h]=hB(hM(hM({},a[h]),l),{chains:nu(e,null==(t=a[h])?void 0:t.chains),methods:nu(c,null==(r=a[h])?void 0:r.methods),events:nu(u,null==(n=a[h])?void 0:n.events)}),(o1(d)||o1((null==(i=a[h])?void 0:i.rpcMap)||{}))&&(a[h].rpcMap=hM(hM({},d),null==(s=a[h])?void 0:s.rpcMap))}return a}function hq(e){return e.includes(":")?e.split(":")[2]:e}function hW(e){let t={};for(let[r,n]of Object.entries(e)){let e=n.methods||[],i=n.events||[],s=n.accounts||[],a=oV(r)?[r]:n.chains?n.chains:hL(n.accounts);t[r]={chains:a,methods:e,events:i,accounts:s}}return t}function hH(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)}let hV={},hK=e=>hV[e],hG=(e,t)=>{hV[e]=t};var hZ=Object.defineProperty,hJ=Object.getOwnPropertySymbols,hY=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,hX=(e,t,r)=>t in e?hZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h0=(e,t)=>{for(var r in t||(t={}))hY.call(t,r)&&hX(e,r,t[r]);if(hJ)for(var r of hJ(t))hQ.call(t,r)&&hX(e,r,t[r]);return e};let h1="eip155",h2=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],h6=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,h5=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,h8=e=>Object.keys(e).filter(e=>h2.includes(e)).reduce((t,r)=>(t[r]=h3(e[r]),t),{}),h3=e=>"string"==typeof e&&function(e){try{let t=JSON.parse(e);return"object"==typeof t&&null!==t&&!Array.isArray(t)}catch{return!1}}(e)?JSON.parse(e):e,h4=(e,t,r)=>{let{sessionProperties:n={},scopedProperties:i={}}=e,s={};if(!o1(i)&&!o1(n))return;let a=h8(n);for(let e of r){let r=h6(e);if(!r)continue;s[h5(r)]=a;let n=i?.[`${h1}:${r}`];if(n){let e=n?.[`${h1}:${r}:${t}`];s[h5(r)]=h0(h0({},s[h5(r)]),h8(e||n))}}for(let[e,t]of Object.entries(s))0===Object.keys(t).length&&delete s[e];return Object.keys(s).length>0?s:void 0};var h9=Object.defineProperty,h7=(e,t,r)=>t in e?h9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fe=(e,t,r)=>h7(e,"symbol"!=typeof t?t+"":t,r);class ft{constructor(e){fe(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return n||(n=new ft(e)),n}}var fr=Object.defineProperty,fn=Object.defineProperties,fi=Object.getOwnPropertyDescriptors,fs=Object.getOwnPropertySymbols,fa=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable,fl=(e,t,r)=>t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fc=(e,t)=>{for(var r in t||(t={}))fa.call(t,r)&&fl(e,r,t[r]);if(fs)for(var r of fs(t))fo.call(t,r)&&fl(e,r,t[r]);return e},fu=(e,t)=>fn(e,fi(t));async function fd(e,t){let r;let n=rq(e.result.capabilities.caip345.caip2),i=e.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(i.map(e=>fh(n.reference,e,t))),a=s.filter(e=>"fulfilled"===e.status).map(e=>e.value).filter(e=>e);s.filter(e=>"rejected"===e.status).forEach(e=>console.warn("Failed to fetch transaction receipt:",e.reason));let o=!a.length||a.some(e=>!e),l=a.every(e=>e?.status==="0x1"),c=a.every(e=>e?.status==="0x0"),u=a.some(e=>e?.status==="0x0");return o?r=100:l?r=200:c?r=500:u&&(r=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:a,status:r}}async function fh(e,t,r){return await r(parseInt(e)).request((0,lM.formatJsonRpcRequest)("eth_getTransactionReceipt",[t]))}async function ff({sendCalls:e,storage:t}){let r=await t.getItem(hk);await t.setItem(hk,fu(fc({},r),{[e.result.id]:{request:e.request,result:e.result,expiry:no(86400)}}))}async function fp({resultId:e,storage:t}){let r=await t.getItem(hk);if(r){for(let n in delete r[e],await t.setItem(hk,r),r)nl(r[n].expiry)&&delete r[n];await t.setItem(hk,r)}}async function fy({resultId:e,storage:t}){let r=await t.getItem(hk),n=r?.[e];if(n&&!nl(n.expiry))return n;await fp({resultId:e,storage:t})}var fg=Object.defineProperty,fm=Object.defineProperties,fb=Object.getOwnPropertyDescriptors,fw=Object.getOwnPropertySymbols,fv=Object.prototype.hasOwnProperty,f_=Object.prototype.propertyIsEnumerable,fx=(e,t,r)=>t in e?fg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fE=(e,t)=>{for(var r in t||(t={}))fv.call(t,r)&&fx(e,r,t[r]);if(fw)for(var r of fw(t))f_.call(t,r)&&fx(e,r,t[r]);return e},fI=(e,t)=>fm(e,fb(t)),fA=(e,t,r)=>fx(e,"symbol"!=typeof t?t+"":t,r);class fS{constructor(e){fA(this,"name","eip155"),fA(this,"client"),fA(this,"chainId"),fA(this,"namespace"),fA(this,"httpProviders"),fA(this,"events"),fA(this,"storage"),this.namespace=e.namespace,this.events=hK("events"),this.client=hK("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=ft.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t);let r=this.chainId;this.chainId=parseInt(e),this.events.emit(hC.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||hj(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new lU.F(new hs.V(r,hK("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=parseInt(t.includes(":")?t.split(":")[1]:t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(e){let t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=fI(fE({},this.httpProviders),{[t]:this.createHttpProvider(t)}),this.httpProviders[t])}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",i=parseInt(n=n.startsWith("0x")?n:`0x${n}`,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,n,i,s;let a;let o=null==(r=null==(t=e.request)?void 0:t.params)?void 0:r[0],l=(null==(i=null==(n=e.request)?void 0:n.params)?void 0:i[1])||[];if(!o)throw Error("Missing address parameter in `wallet_getCapabilities` request");let c=this.client.session.get(e.topic),u=(null==(s=c?.sessionProperties)?void 0:s.capabilities)||{},d=`${o}${l.join(",")}`,h=u?.[d];if(h)return h;try{a=h4(c,o,l)}catch(e){console.warn("Failed to extract capabilities from session",e)}if(a)return a;let f=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:fI(fE({},c.sessionProperties||{}),{capabilities:fI(fE({},u||{}),{[d]:f})})})}catch(e){console.warn("Failed to update session with capabilities",e)}return f}async getCallStatus(e){var t,r,n;let i=this.client.session.get(e.topic),s=null==(t=i.sessionProperties)?void 0:t.bundler_name;if(s){let t=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}let a=null==(r=i.sessionProperties)?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,a)}let o=await fy({resultId:null==(n=e.request.params)?void 0:n[0],storage:this.storage});if(o)try{return await fd(o,this.getHttpProvider.bind(this))}catch(e){console.warn("Failed to fetch call status from stored send calls",e,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;let n=new URL(e),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,lM.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(r=t.request.params)?void 0:r[0]]))});if(!i.ok)throw Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${hS}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}async sendCalls(e){var t,r,n;let i=await this.client.request(e),s=null==(t=e.request.params)?void 0:t[0],a=i?.id,o=i?.capabilities||{},l=null==(r=o?.caip345)?void 0:r.caip2,c=null==(n=o?.caip345)?void 0:n.transactionHashes;return a&&l&&null!=c&&c.length&&await ff({sendCalls:{request:s,result:i},storage:this.storage}),i}}var fk=Object.defineProperty,fC=(e,t,r)=>t in e?fk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fT=(e,t,r)=>fC(e,"symbol"!=typeof t?t+"":t,r);class fO{constructor(e){fT(this,"name",hA),fT(this,"client"),fT(this,"httpProviders"),fT(this,"events"),fT(this,"namespace"),fT(this,"chainId"),this.namespace=e.namespace,this.events=hK("events"),this.client=hK("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t);let r=this.chainId;this.chainId=e,this.events.emit(hC.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return rq(e).namespace}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;let r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{var t,n;let i=rq(e),s=null==(n=null==(t=this.namespace)?void 0:t.rpcMap)?void 0:n[`${i.namespace}:${i.reference}`];r[i.reference]=this.createHttpProvider(e,s)}),r}getHttpProvider(e){let t=rq(e).reference,r=this.httpProviders[t];if(typeof r>"u")throw Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||hj(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new lU.F(new hs.A(r,hK("disableProviderPing")))}}var fP=Object.defineProperty,fR=Object.defineProperties,fD=Object.getOwnPropertyDescriptors,fN=Object.getOwnPropertySymbols,fU=Object.prototype.hasOwnProperty,fM=Object.prototype.propertyIsEnumerable,fB=(e,t,r)=>t in e?fP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fj=(e,t)=>{for(var r in t||(t={}))fU.call(t,r)&&fB(e,r,t[r]);if(fN)for(var r of fN(t))fM.call(t,r)&&fB(e,r,t[r]);return e},fL=(e,t)=>fR(e,fD(t)),fF=(e,t,r)=>fB(e,"symbol"!=typeof t?t+"":t,r);class f${constructor(e){var t,r;fF(this,"client"),fF(this,"namespaces"),fF(this,"optionalNamespaces"),fF(this,"sessionProperties"),fF(this,"scopedProperties"),fF(this,"events",new i),fF(this,"rpcProviders",{}),fF(this,"session"),fF(this,"providerOpts"),fF(this,"logger"),fF(this,"uri"),fF(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=lc({logger:null!=(t=e.logger)?t:h_,name:null!=(r=this.providerOpts.name)?r:hx}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new f$(e);return await t.initialize(),t}async request(e,t,r){let[n,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(n).request({request:fj({},e),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){let i=new Date().getTime();this.request(e,r,n).then(e=>t(null,(0,lM.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:oX("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:r,response:n}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));let i=await n();if(this.session=i.session,this.session){let e=hW(this.session.namespaces);this.namespaces=h$(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){let{uri:t,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));let n=await r();this.session=n;let i=hW(n.namespaces);return this.namespaces=h$(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,n]=this.validateChain(e);this.getProvider(r).setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(!o0(t))return;for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}catch(e){this.logger.warn(e,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await hi.init({core:this.providerOpts.core,logger:this.providerOpts.logger||h_,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),Error(`The provided session: ${null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic} doesn't exist in the Sign client`)}else{let e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>oK(e)))];hG("client",this.client),hG("events",this.events),hG("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let n=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;n.push(...r)}),n}(e,this.session);if(t?.length===0)return;let r=hL(t),n=fL(fj({},h$(this.namespaces,this.optionalNamespaces)[e]),{accounts:t,chains:r});"eip155"===e?this.rpcProviders[e]=new fS({namespace:n}):this.rpcProviders[e]=new fO({namespace:n})})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;let{topic:r}=e;r===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;let{params:r,topic:n}=e;if(n!==(null==(t=this.session)?void 0:t.topic))return;let{event:i}=r;if("accountsChanged"===i.name){let e=i.data;e&&o0(e)&&this.events.emit("accountsChanged",e.map(hq))}else if("chainChanged"===i.name){let e=r.chainId,t=r.event.data,n=oK(e),i=hH(e)!==hH(t)?`${n}:${hH(t)}`:e;this.onChainChanged({currentCaipChainId:i})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r,n;if(e!==(null==(r=this.session)?void 0:r.topic))return;let{namespaces:i}=t,s=null==(n=this.client)?void 0:n.session.get(e);this.session=fL(fj({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",fL(fj({},oX("USER_DISCONNECTED")),{data:e.topic})))}),this.on(hC.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(fL(fj({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[hA]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t={},optionalNamespaces:r={},sessionProperties:n,scopedProperties:i}=e;this.optionalNamespaces=h$(t,r),this.sessionProperties=n,this.scopedProperties=i}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>oK(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let n=oK(Object.keys(this.namespaces)[0]),i=this.rpcProviders[n].getDefaultChain();return[n,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:t,internal:r=!1}){if(!this.namespaces)return;let[n,i]=this.validateChain(e);i&&(this.updateNamespaceChain(n,i),r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,currentCaipChainId:e,previousCaipChainId:t})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:t,previousCaipChainId:r}){var n,i;try{if(r===t)return;let s=null==(i=null==(n=this.session)?void 0:n.namespaces[e])?void 0:i.accounts;if(!s)return;let a=s.filter(e=>e.includes(`${t}:`)).map(hq);if(!o0(a))return;this.events.emit("accountsChanged",a)}catch(e){this.logger.warn(e,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,t){if(!this.namespaces)return;let r=this.namespaces[e]?e:`${e}:${t}`;this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=t):this.namespaces[r]={chains:[],methods:[],events:[],defaultChain:t}}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var r;let n=(null==(r=this.session)?void 0:r.topic)||"";await this.client.core.storage.setItem(`${hE}/${e}${n}`,t)}async getFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${hE}/${e}${r}`)}async deleteFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${hE}/${e}${r}`)}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;for(let e of(await this.client.core.storage.getKeys()))e.startsWith(hE)&&await this.client.core.storage.removeItem(e)}catch(e){this.logger.warn(e,"Failed to cleanup storage")}}}let fz=["eth_sendTransaction","personal_sign"],fq=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],fW=["chainChanged","accountsChanged"],fH=["chainChanged","accountsChanged","message","disconnect","connect"],fV=async()=>{let{createAppKit:e}=await r.e(3543).then(r.bind(r,93543));return e};var fK=Object.defineProperty,fG=Object.defineProperties,fZ=Object.getOwnPropertyDescriptors,fJ=Object.getOwnPropertySymbols,fY=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,fX=(e,t,r)=>t in e?fK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f0=(e,t)=>{for(var r in t||(t={}))fY.call(t,r)&&fX(e,r,t[r]);if(fJ)for(var r of fJ(t))fQ.call(t,r)&&fX(e,r,t[r]);return e},f1=(e,t)=>fG(e,fZ(t)),f2=(e,t,r)=>fX(e,"symbol"!=typeof t?t+"":t,r);function f6(e){return Number(e[0].split(":")[1])}function f5(e){return`0x${e.toString(16)}`}class f8{constructor(){f2(this,"events",new i.EventEmitter),f2(this,"namespace","eip155"),f2(this,"accounts",[]),f2(this,"signer"),f2(this,"chainId",1),f2(this,"modal"),f2(this,"rpc"),f2(this,"STORAGE_KEY","wc@2:ethereum_provider:"),f2(this,"on",(e,t)=>(this.events.on(e,t),this)),f2(this,"once",(e,t)=>(this.events.once(e,t),this)),f2(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),f2(this,"off",(e,t)=>(this.events.off(e,t),this)),f2(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){let t=new f8;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,r){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:r,optional:n}=function(e){let{chains:t,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:a,rpcMap:o}=e;if(!o0(t))throw Error("Invalid chains");let l={chains:t,methods:n||fz,events:s||fW,rpcMap:f0({},t.length?{[f6(t)]:o[f6(t)]}:{})},c=s?.filter(e=>!fW.includes(e)),u=n?.filter(e=>!fz.includes(e));if(!r&&!a&&!i&&!(null!=c&&c.length)&&!(null!=u&&u.length))return{required:t.length?l:void 0};let d={chains:[...new Set(c?.length&&u?.length||!r?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(null!=i&&i.length?i:fq))],events:[...new Set(l.events.concat(null!=a&&a.length?a:fH))],rpcMap:o};return{required:t.length?l:void 0,optional:r.length?d:void 0}}(this.rpc);try{let t=await new Promise(async(t,i)=>{var s,a;this.rpc.showQrModal&&(null==(s=this.modal)||s.open(),null==(a=this.modal)||a.subscribeState(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),i(Error("Connection request reset. Please try again.")))}));let o=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(f1(f0({namespaces:f0({},r&&{[this.namespace]:r})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e?.pairingTopic,scopedProperties:o})).then(e=>{t(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),i(Error(e.message))})});if(!t)return;let i=rW(t.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:f5(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{null==(t=this.modal)||t.close()}}async authenticate(e,t){var r;if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{let r=await new Promise(async(r,n)=>{var i,s;this.rpc.showQrModal&&(null==(i=this.modal)||i.open(),null==(s=this.modal)||s.subscribeState(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),n(Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(f1(f0({},e),{chains:this.rpc.chains}),t).then(e=>{r(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),n(Error(e.message))})}),n=r.session;if(n){let e=rW(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:f5(this.chainId)})}return r}catch(e){throw this.signer.logger.error(e),e}finally{null==(r=this.modal)||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:r}=t;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",f5(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",f1(f0({},oX("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",f5(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,r,n]=e.split(":");return{chainId:`${t}:${r}`,address:n}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;let n=null!=(t=e?.chains)?t:[],i=null!=(r=e?.optionalChains)?r:[],s=n.concat(i);if(!s.length)throw Error("No chains specified in either `chains` or `optionalChains`");let a=n.length?e?.methods||fz:[],o=n.length?e?.events||fW:[],l=e?.optionalMethods||[],c=e?.optionalEvents||[],u=e?.rpcMap||this.buildRpcMap(s,e.projectId),d=e?.qrModalOptions||void 0;return{chains:n?.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:a,events:o,optionalMethods:l,optionalEvents:c,rpcMap:u,showQrModal:!!(null!=e&&e.showQrModal),qrModalOptions:d,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let r={};return e.forEach(e=>{r[e]=this.getRpcUrl(e,t)}),r}async initialize(e){var t;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?f6(this.rpc.chains):f6(this.rpc.optionalChains),this.signer=await f$.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{let r=await fV(),{convertWCMToAppKitOptions:n}=await Promise.resolve().then(function(){return pl}),i=n(f1(f0({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!i.networks.length)throw Error("No networks found for WalletConnect\xb7");e=r(f1(f0({},i),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:(null==(t=this.rpc.qrModalOptions)?void 0:t.enableMobileFullScreen)===!0}))}catch(e){throw console.warn(e),Error("To use QR modal, please install @reown/appkit package")}if(e)try{this.modal=e}catch(e){throw this.signer.logger.error(e),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:r,rpcMap:n}=e;t&&o0(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)})),r&&o0(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(e=>this.formatChainId(e)),r.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)}))}getRpcUrl(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||`https://rpc.walletconnect.org/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(e=>this.signer.logger.warn(e))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}let f3=f8;var f4=Object.defineProperty,f9=Object.defineProperties,f7=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,pt=Object.prototype.hasOwnProperty,pr=Object.prototype.propertyIsEnumerable,pn=(e,t,r)=>t in e?f4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pi=(e,t)=>{for(var r in t||(t={}))pt.call(t,r)&&pn(e,r,t[r]);if(pe)for(var r of pe(t))pr.call(t,r)&&pn(e,r,t[r]);return e},ps=(e,t)=>f9(e,f7(t));let pa=e=>{let[t,r]=e.split(":");return po({id:r,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function po(e){return pi({formatters:void 0,fees:void 0,serializers:void 0},e)}var pl=Object.freeze({__proto__:null,convertWCMToAppKitOptions:function(e){var t,r,n,i,s,a,o;let l=null==(t=e.chains)?void 0:t.map(pa).filter(Boolean);if(0===l.length)throw Error("At least one chain must be specified");let c=l.find(t=>{var r;return t.id===(null==(r=e.defaultChain)?void 0:r.id)}),u={projectId:e.projectId,networks:l,themeMode:e.themeMode,themeVariables:function(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:c,metadata:ps(pi({},e.metadata),{name:(null==(r=e.metadata)?void 0:r.name)||"WalletConnect",description:(null==(n=e.metadata)?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:(null==(i=e.metadata)?void 0:i.url)||"https://walletconnect.org",icons:(null==(s=e.metadata)?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:"NONE"===e.explorerRecommendedWalletIds?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:"ALL"===e.explorerExcludedWalletIds?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if(null!=(a=e.mobileWallets)&&a.length||null!=(o=e.desktopWallets)&&o.length){let t=[...(e.mobileWallets||[]).map(e=>({id:e.id,name:e.name,links:e.links})),...(e.desktopWallets||[]).map(e=>({id:e.id,name:e.name,links:{native:e.links.native,universal:e.links.universal}}))],r=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],n=t.filter(e=>!r.includes(e.id));n.length&&(u.customWallets=n)}return u},defineChain:po})},97783:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(n+" is ambiguous");t[i]=r}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function a(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,a=0,o=0;for(;e[s]===n;)a++,s++;let l=(e.length-s)*i+1>>>0,c=new Uint8Array(l);for(;s<e.length;){let n=e.charCodeAt(s);if(n>255)return;let i=t[n];if(255===i)return;let a=0;for(let e=l-1;(0!==i||a<o)&&-1!==e;e--,a++)i+=r*c[e]>>>0,c[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw Error("Non-zero carry");o=a,s++}let u=l-o;for(;u!==l&&0===c[u];)u++;let d=new Uint8Array(a+(l-u)),h=a;for(;u!==l;)d[h++]=c[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,a=0,o=0,l=t.length;for(;o!==l&&0===t[o];)o++,i++;let c=(l-o)*s+1>>>0,u=new Uint8Array(c);for(;o!==l;){let e=t[o],n=0;for(let t=c-1;(0!==e||n<a)&&-1!==t;t--,n++)e+=256*u[t]>>>0,u[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");a=n,o++}let d=c-a;for(;d!==c&&0===u[d];)d++;let h=n.repeat(i);for(;d<c;++d)h+=e.charAt(u[d]);return h},decodeUnsafe:a,decode:function(e){let t=a(e);if(t)return t;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},54261:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o});let n=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,i=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,s=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function a(e,t){if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`);return}return t}function o(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!s.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(n.test(e)||i.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,a)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}},29761:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,b:()=>n});var n=r(25778);let i=n},67792:(e,t,r)=>{"use strict";let n;function i(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function s(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=i(r);return(e,r)=>n.then(n=>r(n.transaction(t,e).objectStore(t)))}function a(){return n||(n=s("keyval-store","keyval")),n}function o(e,t=a()){return t("readonly",t=>i(t.get(e)))}function l(e,t,r=a()){return r("readwrite",r=>(r.put(t,e),i(r.transaction)))}function c(e,t=a()){return t("readwrite",t=>(t.delete(e),i(t.transaction)))}function u(e=a()){return e("readwrite",e=>(e.clear(),i(e.transaction)))}function d(e=a()){return e("readonly",e=>{var t;if(e.getAllKeys)return i(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},i(e.transaction)).then(()=>r)})}r.d(t,{HP:()=>d,IU:()=>u,Jt:()=>o,hZ:()=>l,y$:()=>s,yH:()=>c})},30756:(e,t,r)=>{"use strict";r.d(t,{D0:()=>i,Rd:()=>n});let n=new TextEncoder,i=new TextDecoder},18639:(e,t,r)=>{"use strict";r.d(t,{D:()=>o,l:()=>a});var n=r(30756);let i=e=>{let t=e;"string"==typeof t&&(t=n.Rd.encode(t));let r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))},s=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},a=e=>i(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),o=e=>{let t=e;t instanceof Uint8Array&&(t=n.D0.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return s(t)}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}}},232:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var n=r(18639),i=r(30756);class s extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class a extends s{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function o(e){let t,r;if("string"!=typeof e)throw new a("JWTs must use Compact JWS serialization, JWT must be a string");let{1:s,length:o}=e.split(".");if(5===o)throw new a("Only JWTs using Compact JWS serialization can be decoded");if(3!==o)throw new a("Invalid JWT");if(!s)throw new a("JWTs must contain a payload");try{t=(0,n.D)(s)}catch(e){throw new a("Failed to base64url decode the payload")}try{r=JSON.parse(i.D0.decode(t))}catch(e){throw new a("Failed to parse the decoded payload as JSON")}if(!function(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r))throw new a("Invalid JWT Claims Set");return r}Symbol.asyncIterator},89208:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{A:()=>i});var i=function e(t,r){function i(e,i,s){if("undefined"!=typeof document){"number"==typeof(s=n({},r,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in s)s[o]&&(a+="; "+o,!0!==s[o]&&(a+="="+s[o].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+a}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var s=r[i].split("="),a=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(n[o]=t.read(a,o),e===o)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){i(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},53075:(e,t,r)=>{"use strict";function n(){let e=new Set,t=[],r=()=>(function(e){if("undefined"==typeof window)return;let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}),n=r();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),n?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),n?.(),n=r()},subscribe:(r,{emitImmediately:n}={})=>(e.add(r),n&&r(t,{added:t}),()=>e.delete(r))}}r.d(t,{y:()=>n})},5004:(e,t,r)=>{"use strict";r.d(t,{OT:()=>l});var n=r(58511);let i=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}(),s=i.fetch?(...e)=>i.fetch(...e):()=>Promise.reject(Error("[ofetch] global.fetch is not supported!")),a=i.Headers,o=i.AbortController,l=(0,n.c)({fetch:s,Headers:a,AbortController:o})},58511:(e,t,r)=>{"use strict";r.d(t,{F:()=>D,c:()=>function e(t={}){let{fetch:r=globalThis.fetch,Headers:i=globalThis.Headers,AbortController:s=globalThis.AbortController}=t;async function a(e){let t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:U(e.options.method)?0:1;let r=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(r):L.has(r))){let r="function"==typeof e.options.retryDelay?e.options.retryDelay(e):e.options.retryDelay||0;return r>0&&await new Promise(e=>setTimeout(e,r)),o(e.request,{...e.options,retry:t-1})}}let r=function(e){let t=e.error?.message||e.error?.toString()||"",r=e.request?.method||e.options?.method||"GET",n=e.request?.url||String(e.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,s=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",a=new D(`${i}: ${s}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(let t of["request","options","response"])Object.defineProperty(a,t,{get:()=>e[t]});for(let[t,r]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,t,{get:()=>e.response&&e.response[r]});return a}(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,o),r}let o=async function(e,o={}){let l;let c={request:e,options:function(e,t,r,n){let i;let s=function(e,t,r){if(!t)return new r(e);let n=new r(t);if(e)for(let[t,i]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))n.set(t,i);return n}(t?.headers??e?.headers,r?.headers,n);return(r?.query||r?.params||t?.params||t?.query)&&(i={...r?.params,...r?.query,...t?.params,...t?.query}),{...r,...t,query:i,params:i,headers:s}}(e,o,t.defaults,i),response:void 0,error:void 0};if(c.options.method&&(c.options.method=c.options.method.toUpperCase()),!c.options.onRequest||(await j(c,c.options.onRequest),c.options.headers instanceof i||(c.options.headers=new i(c.options.headers||{}))),"string"==typeof c.request&&(c.options.baseURL&&(c.request=function(e,t){if(!t||"/"===t||T(e))return e;let r=function(e="",t){return(O(e)?e.slice(0,-1):e)||"/"}(t);return e.startsWith(r)?e:function(e,...t){let r=e||"";for(let e of t.filter(e=>e&&"/"!==e))if(r){let t=e.replace(C,"");r=function(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(O(e,!0))return e||"/";let r=e,n="",i=e.indexOf("#");if(-1!==i&&(r=e.slice(0,i),n=e.slice(i),!r))return n;let[s,...a]=r.split("?");return s+"/"+(a.length>0?`?${a.join("?")}`:"")+n}(r)+t}else r=e;return r}(r,e)}(c.request,c.options.baseURL)),c.options.query&&(c.request=function(e,t){let r=function e(t="",r){let n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){let[,e,t=""]=n;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!T(t,{acceptRelative:!0}))return r?e(r+t):R(t);let[,i="",s,a=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,o="",l=""]=a.match(/([^#/?]*)(.*)?/)||[];"file:"===i&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));let{pathname:c,search:u,hash:d}=R(l);return{protocol:i.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:c,search:u,hash:d,[P]:!i}}(e),n={...function(e=""){let t=Object.create(null);for(let r of("?"===e[0]&&(e=e.slice(1)),e.split("&"))){let e=r.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;let n=E(e[1].replace(g," "));if("__proto__"===n||"constructor"===n)continue;let i=E((e[2]||"").replace(g," "));void 0===t[n]?t[n]=i:Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]}return t}(r.search),...t};return r.search=function(e){return Object.keys(e).filter(t=>void 0!==e[t]).map(t=>{var r;return(("number"==typeof(r=e[t])||"boolean"==typeof r)&&(r=String(r)),r)?Array.isArray(r)?r.map(e=>`${x(t)}=${_(e)}`).join("&"):`${x(t)}=${_(r)}`:x(t)}).filter(Boolean).join("&")}(n),function(e){let t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",n=e.hash||"",i=e.auth?e.auth+"@":"",s=e.host||"";return(e.protocol||e[P]?(e.protocol||"")+"//":"")+i+s+t+r+n}(r)}(c.request,c.options.query),delete c.options.query),"query"in c.options&&delete c.options.query,"params"in c.options&&delete c.options.params),c.options.body&&U(c.options.method)){if(function(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!(e.buffer||e instanceof FormData||e instanceof URLSearchParams)&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(c.options.body)){let e=c.options.headers.get("content-type");"string"!=typeof c.options.body&&(c.options.body="application/x-www-form-urlencoded"===e?new URLSearchParams(c.options.body).toString():JSON.stringify(c.options.body)),e||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json")}else("pipeTo"in c.options.body&&"function"==typeof c.options.body.pipeTo||"function"==typeof c.options.body.pipe)&&!("duplex"in c.options)&&(c.options.duplex="half")}if(!c.options.signal&&c.options.timeout){let e=new s;l=setTimeout(()=>{let t=Error("[TimeoutError]: The operation was aborted due to timeout");t.name="TimeoutError",t.code=23,e.abort(t)},c.options.timeout),c.options.signal=e.signal}try{c.response=await r(c.request,c.options)}catch(e){return c.error=e,c.options.onRequestError&&await j(c,c.options.onRequestError),await a(c)}finally{l&&clearTimeout(l)}if((c.response.body||c.response._bodyInit)&&!F.has(c.response.status)&&"HEAD"!==c.options.method){let e=(c.options.parseResponse?"json":c.options.responseType)||function(e=""){if(!e)return"json";let t=e.split(";").shift()||"";return B.test(t)?"json":"text/event-stream"===t?"stream":M.has(t)||t.startsWith("text/")?"text":"blob"}(c.response.headers.get("content-type")||"");switch(e){case"json":{let e=await c.response.text(),t=c.options.parseResponse||n.Ay;c.response._data=t(e);break}case"stream":c.response._data=c.response.body||c.response._bodyInit;break;default:c.response._data=await c.response[e]()}}return(c.options.onResponse&&await j(c,c.options.onResponse),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600)?(c.options.onResponseError&&await j(c,c.options.onResponseError),await a(c)):c.response},l=async function(e,t){return(await o(e,t))._data};return l.raw=o,l.native=(...e)=>r(...e),l.create=(r={},n={})=>e({...t,...n,defaults:{...t.defaults,...n.defaults,...r}}),l}});var n=r(54261);let i=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,a={overflow:"Overflow Error","not-basic":"Illegal Input","invalid-input":"Invalid Input"},o=Math.floor,l=String.fromCharCode;function c(e){throw RangeError(a[e])}let u=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},d=function(e,t,r){let n=0;for(e=r?o(e/700):e>>1,e+=o(e/t);e>455;n+=36)e=o(e/35);return o(n+36*e/(e+38))},h=/#/g,f=/&/g,p=/\//g,y=/=/g,g=/\+/g,m=/%5e/gi,b=/%60/gi,w=/%7c/gi,v=/%20/gi;function _(e){return encodeURI(""+("string"==typeof e?e:JSON.stringify(e))).replace(w,"|").replace(g,"%2B").replace(v,"+").replace(h,"%23").replace(f,"%26").replace(b,"`").replace(m,"^").replace(p,"%2F")}function x(e){return _(e).replace(y,"%3D")}function E(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}let I=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,A=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,S=/^([/\\]\s*){2,}[^/\\]/,k=/\/$|\/\?|\/#/,C=/^\.?\//;function T(e,t={}){return("boolean"==typeof t&&(t={acceptRelative:t}),t.strict)?I.test(e):A.test(e)||!!t.acceptRelative&&S.test(e)}function O(e="",t){return t?k.test(e):e.endsWith("/")}let P=Symbol.for("ufo:protocolRelative");function R(e=""){let[t="",r="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:n}}class D extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}let N=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function U(e="GET"){return N.has(e.toUpperCase())}let M=new Set(["image/svg","application/xml","application/xhtml","application/html"]),B=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;async function j(e,t){if(t){if(Array.isArray(t))for(let r of t)await r(e);else await t(e)}}let L=new Set([408,409,425,429,500,502,503,504]),F=new Set([101,204,205,304])},68943:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{A:()=>a});var i=/^\s+/,s=/\s+$/;function a(e,t){if(t=t||{},(e=e||"")instanceof a)return e;if(!(this instanceof a))return new a(e,t);var r,o,l,c,u,d,h,f,p,y,g,m,b,w,v,_,x,I,k,T,P=(o={r:0,g:0,b:0},l=1,c=null,u=null,d=null,h=!1,f=!1,"string"==typeof(r=e)&&(r=function(e){e=e.replace(i,"").replace(s,"").toLowerCase();var t,r=!1;if(E[e])e=E[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=R.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=R.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=R.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=R.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=R.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=R.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=R.hex8.exec(e))?{r:C(t[1]),g:C(t[2]),b:C(t[3]),a:C(t[4])/255,format:r?"name":"hex8"}:(t=R.hex6.exec(e))?{r:C(t[1]),g:C(t[2]),b:C(t[3]),format:r?"name":"hex"}:(t=R.hex4.exec(e))?{r:C(t[1]+""+t[1]),g:C(t[2]+""+t[2]),b:C(t[3]+""+t[3]),a:C(t[4]+""+t[4])/255,format:r?"name":"hex8"}:!!(t=R.hex3.exec(e))&&{r:C(t[1]+""+t[1]),g:C(t[2]+""+t[2]),b:C(t[3]+""+t[3]),format:r?"name":"hex"}}(r)),"object"==n(r)&&(D(r.r)&&D(r.g)&&D(r.b)?(p=r.r,y=r.g,g=r.b,o={r:255*S(p,255),g:255*S(y,255),b:255*S(g,255)},h=!0,f="%"===String(r.r).substr(-1)?"prgb":"rgb"):D(r.h)&&D(r.s)&&D(r.v)?(c=O(r.s),u=O(r.v),m=r.h,b=c,w=u,m=6*S(m,360),b=S(b,100),w=S(w,100),v=Math.floor(m),_=m-v,x=w*(1-b),I=w*(1-_*b),k=w*(1-(1-_)*b),o={r:255*[w,I,x,x,k,w][T=v%6],g:255*[k,w,w,I,x,x][T],b:255*[x,x,k,w,w,I][T]},h=!0,f="hsv"):D(r.h)&&D(r.s)&&D(r.l)&&(c=O(r.s),d=O(r.l),o=function(e,t,r){var n,i,s;function a(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=S(e,360),t=S(t,100),r=S(r,100),0===t)n=i=s=r;else{var o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;n=a(l,o,e+1/3),i=a(l,o,e),s=a(l,o,e-1/3)}return{r:255*n,g:255*i,b:255*s}}(r.h,c,d),h=!0,f="hsl"),r.hasOwnProperty("a")&&(l=r.a)),l=A(l),{ok:h,format:r.format||f,r:Math.min(255,Math.max(o.r,0)),g:Math.min(255,Math.max(o.g,0)),b:Math.min(255,Math.max(o.b,0)),a:l});this._originalInput=e,this._r=P.r,this._g=P.g,this._b=P.b,this._a=P.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||P.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=P.ok}function o(e,t,r){var n,i,s=Math.max(e=S(e,255),t=S(t,255),r=S(r,255)),a=Math.min(e,t,r),o=(s+a)/2;if(s==a)n=i=0;else{var l=s-a;switch(i=o>.5?l/(2-s-a):l/(s+a),s){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,l:o}}function l(e,t,r){var n,i,s=Math.max(e=S(e,255),t=S(t,255),r=S(r,255)),a=Math.min(e,t,r),o=s-a;if(i=0===s?0:o/s,s==a)n=0;else{switch(s){case e:n=(t-r)/o+(t<r?6:0);break;case t:n=(r-e)/o+2;break;case r:n=(e-t)/o+4}n/=6}return{h:n,s:i,v:s}}function c(e,t,r,n){var i=[T(Math.round(e).toString(16)),T(Math.round(t).toString(16)),T(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function u(e,t,r,n){return[T(P(n)),T(Math.round(e).toString(16)),T(Math.round(t).toString(16)),T(Math.round(r).toString(16))].join("")}function d(e,t){t=0===t?0:t||10;var r=a(e).toHsl();return r.s-=t/100,r.s=k(r.s),a(r)}function h(e,t){t=0===t?0:t||10;var r=a(e).toHsl();return r.s+=t/100,r.s=k(r.s),a(r)}function f(e){return a(e).desaturate(100)}function p(e,t){t=0===t?0:t||10;var r=a(e).toHsl();return r.l+=t/100,r.l=k(r.l),a(r)}function y(e,t){t=0===t?0:t||10;var r=a(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-(t/100*255)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-(t/100*255)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-(t/100*255)))),a(r)}function g(e,t){t=0===t?0:t||10;var r=a(e).toHsl();return r.l-=t/100,r.l=k(r.l),a(r)}function m(e,t){var r=a(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,a(r)}function b(e){var t=a(e).toHsl();return t.h=(t.h+180)%360,a(t)}function w(e,t){if(isNaN(t)||t<=0)throw Error("Argument to polyad must be a positive number");for(var r=a(e).toHsl(),n=[a(e)],i=360/t,s=1;s<t;s++)n.push(a({h:(r.h+s*i)%360,s:r.s,l:r.l}));return n}function v(e){var t=a(e).toHsl(),r=t.h;return[a(e),a({h:(r+72)%360,s:t.s,l:t.l}),a({h:(r+216)%360,s:t.s,l:t.l})]}function _(e,t,r){t=t||6,r=r||30;var n=a(e).toHsl(),i=360/r,s=[a(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,s.push(a(n));return s}function x(e,t){t=t||6;for(var r=a(e).toHsv(),n=r.h,i=r.s,s=r.v,o=[],l=1/t;t--;)o.push(a({h:n,s:i,v:s})),s=(s+l)%1;return o}a.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*((t=n.g/255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*((r=n.b/255)<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=A(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return c(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){var t,r,n,i,s;return t=this._r,r=this._g,n=this._b,i=this._a,s=[T(Math.round(t).toString(16)),T(Math.round(r).toString(16)),T(Math.round(n).toString(16)),T(P(i))],e&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*S(this._r,255))+"%",g:Math.round(100*S(this._g,255))+"%",b:Math.round(100*S(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*S(this._r,255))+"%, "+Math.round(100*S(this._g,255))+"%, "+Math.round(100*S(this._b,255))+"%)":"rgba("+Math.round(100*S(this._r,255))+"%, "+Math.round(100*S(this._g,255))+"%, "+Math.round(100*S(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+u(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=a(e);r="#"+u(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e)?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(f,arguments)},spin:function(){return this._applyModification(m,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(v,arguments)},triad:function(){return this._applyCombination(w,[3])},tetrad:function(){return this._applyCombination(w,[4])}},a.fromRatio=function(e,t){if("object"==n(e)){var r={};for(var i in e)e.hasOwnProperty(i)&&("a"===i?r[i]=e[i]:r[i]=O(e[i]));e=r}return a(e,t)},a.equals=function(e,t){return!!e&&!!t&&a(e).toRgbString()==a(t).toRgbString()},a.random=function(){return a.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},a.mix=function(e,t,r){r=0===r?0:r||50;var n=a(e).toRgb(),i=a(t).toRgb(),s=r/100;return a({r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a})},a.readability=function(e,t){var r=a(e),n=a(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},a.isReadable=function(e,t,r){var n,i,s,o,l,c=a.readability(e,t);switch(l=!1,(i=((n=(n=r)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),s=(n.size||"small").toLowerCase(),"AA"!==i&&"AAA"!==i&&(i="AA"),"small"!==s&&"large"!==s&&(s="small"),o={level:i,size:s}).level+o.size){case"AAsmall":case"AAAlarge":l=c>=4.5;break;case"AAlarge":l=c>=3;break;case"AAAsmall":l=c>=7}return l},a.mostReadable=function(e,t,r){var n,i,s,o,l=null,c=0;i=(r=r||{}).includeFallbackColors,s=r.level,o=r.size;for(var u=0;u<t.length;u++)(n=a.readability(e,t[u]))>c&&(c=n,l=a(t[u]));return a.isReadable(e,l,{level:s,size:o})||!i?l:(r.includeFallbackColors=!1,a.mostReadable(e,["#fff","#000"],r))};var E=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=a.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(E);function A(e){return(isNaN(e=parseFloat(e))||e<0||e>1)&&(e=1),e}function S(e,t){"string"==typeof(r=e)&&-1!=r.indexOf(".")&&1===parseFloat(r)&&(e="100%");var r,n,i="string"==typeof(n=e)&&-1!=n.indexOf("%");return(e=Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),1e-6>Math.abs(e-t))?1:e%t/parseFloat(t)}function k(e){return Math.min(1,Math.max(0,e))}function C(e){return parseInt(e,16)}function T(e){return 1==e.length?"0"+e:""+e}function O(e){return e<=1&&(e=100*e+"%"),e}function P(e){return Math.round(255*parseFloat(e)).toString(16)}var R=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:RegExp("rgb"+t),rgba:RegExp("rgba"+r),hsl:RegExp("hsl"+t),hsla:RegExp("hsla"+r),hsv:RegExp("hsv"+t),hsva:RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function D(e){return!!R.CSS_UNIT.exec(e)}},37598:(e,t,r)=>{"use strict";r.d(t,{xW:()=>w,sH:()=>eZ,dI:()=>eJ});var n={};r.r(n),r.d(n,{identity:()=>U});var i={};r.r(i),r.d(i,{base2:()=>M});var s={};r.r(s),r.d(s,{base8:()=>B});var a={};r.r(a),r.d(a,{base10:()=>j});var o={};r.r(o),r.d(o,{base16:()=>L,base16upper:()=>F});var l={};r.r(l),r.d(l,{base32:()=>$,base32hex:()=>H,base32hexpad:()=>K,base32hexpadupper:()=>G,base32hexupper:()=>V,base32pad:()=>q,base32padupper:()=>W,base32upper:()=>z,base32z:()=>Z});var c={};r.r(c),r.d(c,{base36:()=>J,base36upper:()=>Y});var u={};r.r(u),r.d(u,{base58btc:()=>Q,base58flickr:()=>X});var d={};r.r(d),r.d(d,{base64:()=>ee,base64pad:()=>et,base64url:()=>er,base64urlpad:()=>en});var h={};r.r(h),r.d(h,{base256emoji:()=>eo});var f={};r.r(f),r.d(f,{sha256:()=>ew,sha512:()=>ev});var p={};r.r(p),r.d(p,{identity:()=>e_});var y={};r.r(y),r.d(y,{code:()=>eE,decode:()=>eA,encode:()=>eI,name:()=>ex});var g={};function m(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function b(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?m(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function w(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=b(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return m(r)}r.r(g),r.d(g,{code:()=>eT,decode:()=>eP,encode:()=>eO,name:()=>eC});let v=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==r[a])throw TypeError(s+" is ambiguous");r[a]=i}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var s=(e.length-t)*c+1>>>0,a=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=o*a[h]>>>0,a[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===a[f];)f++;for(var p=new Uint8Array(n+(s-f)),y=n;f!==s;)p[y++]=a[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var a=(s-i)*u+1>>>0,c=new Uint8Array(a);i!==s;){for(var d=t[i],h=0,f=a-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%o>>>0,d=d/o>>>0;if(0!==d)throw Error("Non-zero carry");n=h,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var y=l.repeat(r);p<a;++p)y+=e.charAt(c[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let _=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},x=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},E=e=>new TextEncoder().encode(e),I=e=>new TextDecoder().decode(e);class A{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class S{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return C(this,e)}}class k{constructor(e){this.decoders=e}or(e){return C(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let C=(e,t)=>new k({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class T{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new A(e,t,r),this.decoder=new S(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let O=({name:e,prefix:t,encode:r,decode:n})=>new T(e,t,r,n),P=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=v(r,t);return O({prefix:e,name:t,encode:n,decode:e=>x(i(e))})},R=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),o=0,l=0,c=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);l=l<<r|s,(o+=r)>=8&&(o-=8,a[c++]=255&l>>o)}if(o>=r||255&l<<8-o)throw SyntaxError("Unexpected end of data");return a},D=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},N=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>O({prefix:t,name:e,encode:e=>D(e,n,r),decode:t=>R(t,n,r,e)}),U=O({prefix:"\0",name:"identity",encode:e=>I(e),decode:e=>E(e)}),M=N({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),B=N({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),j=P({prefix:"9",name:"base10",alphabet:"0123456789"}),L=N({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),F=N({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),$=N({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),z=N({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),q=N({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),W=N({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H=N({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),V=N({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),K=N({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),G=N({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Z=N({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),J=P({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y=P({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Q=P({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),X=P({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ee=N({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),et=N({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),er=N({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),en=N({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ei=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),es=ei.reduce((e,t,r)=>(e[r]=t,e),[]),ea=ei.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),eo=O({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=es[t],"")},decode:function(e){let t=[];for(let r of e){let e=ea[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),el={encode:function e(t,r,n){r=r||[];for(var i=n=n||0;t>=0x80000000;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},decode:function e(t,r){var n,i=0,r=r||0,s=0,a=r,o=t.length;do{if(a>=o)throw e.bytes=0,RangeError("Could not decode varint");n=t[a++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=a-r,i},encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}},ec=(e,t=0)=>[el.decode(e,t),el.decode.bytes],eu=(e,t,r=0)=>(el.encode(e,t,r),t),ed=e=>el.encodingLength(e),eh=(e,t)=>{let r=t.byteLength,n=ed(e),i=n+ed(r),s=new Uint8Array(i+r);return eu(e,s,0),eu(r,s,n),s.set(t,i),new ey(e,r,t,s)},ef=e=>{let t=x(e),[r,n]=ec(t),[i,s]=ec(t.subarray(n)),a=t.subarray(n+s);if(a.byteLength!==i)throw Error("Incorrect length");return new ey(r,i,a,t)},ep=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&_(e.bytes,t.bytes);class ey{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let eg=({name:e,code:t,encode:r})=>new em(e,t,r);class em{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?eh(this.code,t):t.then(e=>eh(this.code,e))}throw Error("Unknown type, must be binary type")}}let eb=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ew=eg({name:"sha2-256",code:18,encode:eb("SHA-256")}),ev=eg({name:"sha2-512",code:19,encode:eb("SHA-512")}),e_={code:0,name:"identity",encode:x,digest:e=>eh(0,x(e))},ex="raw",eE=85,eI=e=>x(e),eA=e=>x(e),eS=new TextEncoder,ek=new TextDecoder,eC="json",eT=512,eO=e=>eS.encode(JSON.stringify(e)),eP=e=>JSON.parse(ek.decode(e));class eR{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:e$,byteLength:e$,code:eF,version:eF,multihash:eF,bytes:eF,_baseCache:e$,asCID:e$})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eM)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eB)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return eR.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=eh(e,t);return eR.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ep(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?eN(t,n,e||Q.encoder):eU(t,n,e||$.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return ez(/^0\.0/,eq),!!(e&&(e[eL]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof eR)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new eR(t,r,n,i||ej(t,r,n.bytes))}if(null==e||!0!==e[eL])return null;{let{version:t,multihash:r,code:n}=e,i=ef(r);return eR.create(t,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eM)return new eR(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eM}) block encoding`);case 1:{let n=ej(e,t,r.bytes);return new eR(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return eR.create(0,eM,e)}static createV1(e,t){return eR.create(1,e,t)}static decode(e){let[t,r]=eR.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=eR.inspectBytes(e),r=t.size-t.multihashSize,n=x(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),s=new ey(t.multihashCode,t.digestSize,i,n);return[0===t.version?eR.createV0(s):eR.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=ec(e.subarray(t));return t+=n,r},n=r(),i=eM;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let s=t,a=r(),o=r(),l=t+o;return{version:n,codec:i,multihashCode:a,digestSize:o,multihashSize:l-s,size:l}}static parse(e,t){let[r,n]=eD(e,t),i=eR.decode(n);return i._baseCache.set(r,e),i}}let eD=(e,t)=>{switch(e[0]){case"Q":{let r=t||Q;return[Q.prefix,r.decode(`${Q.prefix}${e}`)]}case Q.prefix:{let r=t||Q;return[Q.prefix,r.decode(e)]}case $.prefix:{let r=t||$;return[$.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eN=(e,t,r)=>{let{prefix:n}=r;if(n!==Q.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},eU=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},eM=112,eB=18,ej=(e,t,r)=>{let n=ed(e),i=n+ed(t),s=new Uint8Array(i+r.byteLength);return eu(e,s,0),eu(t,s,n),s.set(r,i),s},eL=Symbol.for("@ipld/js-cid/CID"),eF={writable:!1,configurable:!1,enumerable:!0},e$={writable:!1,enumerable:!1,configurable:!1},ez=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},eq=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,eW={...n,...i,...s,...a,...o,...l,...c,...u,...d,...h};function eH(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...f,...p});let eV=eH("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),eK=eH("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=b((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),eG={utf8:eV,"utf-8":eV,hex:eW.base16,latin1:eK,ascii:eK,binary:eK,...eW};function eZ(e,t="utf8"){let r=eG[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?m(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function eJ(e,t="utf8"){let r=eG[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}},98722:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{J:()=>n})},87895:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(40814),i=r(55207);function s(e){let t=(0,i.S)(`0x${e.substring(4)}`).substring(26);return(0,n.o)(`0x${t}`)}},39836:(e,t,r)=>{"use strict";r.d(t,{T:()=>x});var n=r(43845),i=r(79408),s=r(98722),a=r(38472),o=r(33726),l=r(80477),c=r(89780),u=r(88085),d=r(59719),h=r(62937),f=r(74046),p=r(40874),y=r(98979),g=r(14303),m=r(24058),b=r(53864),w=r(40304),v=r(52368),_=r(41953);async function x(e,t){let{account:a=e.account,authorizationList:d,batch:f=!!e.batch?.multicall,blockNumber:p,blockTag:w=e.experimental_blockTag??"latest",accessList:x,blobs:A,blockOverrides:S,code:k,data:C,factory:T,factoryData:O,gas:P,gasPrice:R,maxFeePerBlobGas:D,maxFeePerGas:N,maxPriorityFeePerGas:U,nonce:M,to:B,value:j,stateOverride:L,...F}=t,$=a?(0,s.J)(a):void 0;if(k&&(T||O))throw new l.C("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(k&&B)throw new l.C("Cannot provide both `code` & `to` as parameters.");let z=k&&C,q=T&&O&&B&&C,W=z||q,H=z?I({code:k,data:C}):q?function(e){let{data:t,factory:r,factoryData:i,to:s}=e;return(0,h.m)({abi:(0,n.U)(["constructor(address, bytes, address, bytes)"]),bytecode:o.WN,args:[s,t,r,i]})}({data:C,factory:T,factoryData:O,to:B}):C;try{(0,_.c)(t);let r=("bigint"==typeof p?(0,y.cK)(p):void 0)||w,n=S?i.J(S):void 0,s=(0,v.yH)(L),a=e.chain?.formatters?.transactionRequest?.format,o=(a||b.Bv)({...(0,m.o)(F,{format:a}),accessList:x,account:$,authorizationList:d,blobs:A,data:H,gas:P,gasPrice:R,maxFeePerBlobGas:D,maxFeePerGas:N,maxPriorityFeePerGas:U,nonce:M,to:W?void 0:B,value:j},"call");if(f&&function({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith("0x82ad56cb"))&&!!r&&!(Object.values(n).filter(e=>void 0!==e).length>0)}({request:o})&&!s&&!n)try{return await E(e,{...o,blockNumber:p,blockTag:w})}catch(e){if(!(e instanceof c.YE)&&!(e instanceof c.rj))throw e}let l=(()=>{let e=[o,r];return s&&n?[...e,s,n]:s?[...e,s]:n?[...e,{},n]:e})(),u=await e.request({method:"eth_call",params:l});if("0x"===u)return{data:void 0};return{data:u}}catch(a){let n=function(e){if(!(e instanceof l.C))return;let t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(a),{offchainLookup:i,offchainLookupSignature:s}=await r.e(4496).then(r.bind(r,54496));if(!1!==e.ccipRead&&n?.slice(0,10)===s&&B)return{data:await i(e,{data:n,to:B})};if(W&&n?.slice(0,10)==="0x101bb98d")throw new u.Po({factory:T});throw(0,g.d)(a,{...t,account:$,chain:e.chain})}}async function E(e,t){let{batchSize:r=1024,deployless:n=!1,wait:i=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:s,blockTag:l=e.experimental_blockTag??"latest",data:h,to:g}=t,m=(()=>{if(n)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return(0,p.M)({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new c.YE})(),b=("bigint"==typeof s?(0,y.cK)(s):void 0)||l,{schedule:v}=(0,w.u)({id:`${e.uid}.${b}`,wait:i,shouldSplitBatch:e=>e.reduce((e,{data:t})=>e+(t.length-2),0)>2*r,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,f.p)({abi:a.v2,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{...null===m?{data:I({code:o.Ez,data:n})}:{to:m,data:n}},b]});return(0,d.e)({abi:a.v2,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:_,success:x}]=await v({data:h,to:g});if(!x)throw new u.$S({data:_});return"0x"===_?{data:void 0}:{data:_}}function I(e){let{code:t,data:r}=e;return(0,h.m)({abi:(0,n.U)(["constructor(bytes, bytes)"]),bytecode:o.LX,args:[t,r]})}},60710:(e,t,r)=>{"use strict";r.d(t,{O:()=>c,_:()=>l});var n=r(62333),i=r(72447),s=r(50801),a=r(84208),o=r(8269);async function l(e,t){return c(e,t)}async function c(e,t){let{block:r,chain:l=e.chain,request:c,type:u="eip1559"}=t||{},d=await (async()=>"function"==typeof l?.fees?.baseFeeMultiplier?l.fees.baseFeeMultiplier({block:r,client:e,request:c}):l?.fees?.baseFeeMultiplier??1.2)();if(d<1)throw new n.sM;let h=d.toString().split(".")[1]?.length??0,f=10**h,p=e=>e*BigInt(Math.ceil(d*f))/BigInt(f),y=r||await (0,i.T)(e,a.g,"getBlock")({});if("function"==typeof l?.fees?.estimateFeesPerGas){let t=await l.fees.estimateFeesPerGas({block:r,client:e,multiply:p,request:c,type:u});if(null!==t)return t}if("eip1559"===u){if("bigint"!=typeof y.baseFeePerGas)throw new n.pw;let t="bigint"==typeof c?.maxPriorityFeePerGas?c.maxPriorityFeePerGas:await (0,s.N)(e,{block:y,chain:l,request:c}),r=p(y.baseFeePerGas);return{maxFeePerGas:c?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:c?.gasPrice??p(await (0,i.T)(e,o.L,"getGasPrice")({}))}}},35679:(e,t,r)=>{"use strict";r.d(t,{Q:()=>b});var n=r(98722),i=r(80477),s=r(20012),a=r(98979),o=r(69595),l=r(18773),c=r(45757);class u extends i.C{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:s,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:f,value:p}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,c.aO)({from:t?.address,to:f,value:void 0!==p&&`${(0,o.c)(p)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:void 0!==a&&`${(0,l.Q)(a)} gwei`,maxFeePerGas:void 0!==u&&`${(0,l.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,l.Q)(d)} gwei`,nonce:h})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var d=r(87939),h=r(90563),f=r(24058),p=r(53864),y=r(52368),g=r(41953),m=r(23721);async function b(e,t){let{account:r=e.account,prepare:o=!0}=t,l=r?(0,n.J)(r):void 0,c=Array.isArray(o)?o:l?.type!=="local"?["blobVersionedHashes"]:void 0;try{let r=await (async()=>t.to?t.to:t.authorizationList&&t.authorizationList.length>0?await (0,s.g)({authorization:t.authorizationList[0]}).catch(()=>{throw new i.C("`to` is required. Could not infer from `authorizationList`")}):void 0)(),{accessList:n,authorizationList:u,blobs:d,blobVersionedHashes:h,blockNumber:b,blockTag:w,data:v,gas:_,gasPrice:x,maxFeePerBlobGas:E,maxFeePerGas:I,maxPriorityFeePerGas:A,nonce:S,value:k,stateOverride:C,...T}=o?await (0,m.ft)(e,{...t,parameters:c,to:r}):t;if(_&&t.gas!==_)return _;let O=("bigint"==typeof b?(0,a.cK)(b):void 0)||w,P=(0,y.yH)(C);(0,g.c)(t);let R=e.chain?.formatters?.transactionRequest?.format,D=(R||p.Bv)({...(0,f.o)(T,{format:R}),account:l,accessList:n,authorizationList:u,blobs:d,blobVersionedHashes:h,data:v,gasPrice:x,maxFeePerBlobGas:E,maxFeePerGas:I,maxPriorityFeePerGas:A,nonce:S,to:r,value:k},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:P?[D,O??e.experimental_blockTag??"latest",P]:O?[D,O]:[D]}))}catch(r){throw function(e,{docsPath:t,...r}){return new u((()=>{let t=(0,h.l)(e,r);return t instanceof d.RM?e:t})(),{docsPath:t,...r})}(r,{...t,account:l,chain:e.chain})}}},50801:(e,t,r)=>{"use strict";r.d(t,{N:()=>c,b:()=>l});var n=r(62333),i=r(45732),s=r(72447),a=r(84208),o=r(8269);async function l(e,t){return c(e,t)}async function c(e,t){let{block:r,chain:l=e.chain,request:c}=t||{};try{let t=l?.fees?.maxPriorityFeePerGas??l?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await (0,s.T)(e,a.g,"getBlock")({}),i=await t({block:n,client:e,request:c});if(null===i)throw Error();return i}if(void 0!==t)return t;let n=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,i.uU)(n)}catch{let[t,i]=await Promise.all([r?Promise.resolve(r):(0,s.T)(e,a.g,"getBlock")({}),(0,s.T)(e,o.L,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new n.pw;let l=i-t.baseFeePerGas;if(l<0n)return 0n;return l}}},22124:(e,t,r)=>{"use strict";r.d(t,{a:()=>f});var n=r(98722),i=r(62333),s=r(49585),a=r(24058),o=r(6035),l=r(53864),c=r(72447),u=r(41953),d=r(84208),h=r(30733);async function f(e,t){let{account:r=e.account,accessList:f,authorizationList:p,chain:y=e.chain,blobVersionedHashes:g,blobs:m,data:b,gas:w,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:E,nonce:I,nonceManager:A,to:S,type:k,value:C,...T}=t,O=await (async()=>{if(!r||!A||void 0!==I)return I;let t=(0,n.J)(r),i=y?y.id:await (0,c.T)(e,h.T,"getChainId")({});return await A.consume({address:t.address,chainId:i,client:e})})();(0,u.c)(t);let P=y?.formatters?.transactionRequest?.format,R=(P||l.Bv)({...(0,a.o)(T,{format:P}),account:r?(0,n.J)(r):void 0,accessList:f,authorizationList:p,blobs:m,blobVersionedHashes:g,data:b,gas:w,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:x,maxPriorityFeePerGas:E,nonce:O,to:S,type:k,value:C},"fillTransaction");try{let r=await e.request({method:"eth_fillTransaction",params:[R]}),n=(y?.formatters?.transaction?.format||o.uP)(r.tx);delete n.blockHash,delete n.blockNumber,delete n.r,delete n.s,delete n.transactionIndex,delete n.v,delete n.yParity,n.data=n.input,n.gas&&(n.gas=t.gas??n.gas),n.gasPrice&&(n.gasPrice=t.gasPrice??n.gasPrice),n.maxFeePerBlobGas&&(n.maxFeePerBlobGas=t.maxFeePerBlobGas??n.maxFeePerBlobGas),n.maxFeePerGas&&(n.maxFeePerGas=t.maxFeePerGas??n.maxFeePerGas),n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=t.maxPriorityFeePerGas??n.maxPriorityFeePerGas),n.nonce&&(n.nonce=t.nonce??n.nonce);let s=await (async()=>{if("function"==typeof y?.fees?.baseFeeMultiplier){let r=await (0,c.T)(e,d.g,"getBlock")({});return y.fees.baseFeeMultiplier({block:r,client:e,request:t})}return y?.fees?.baseFeeMultiplier??1.2})();if(s<1)throw new i.sM;let a=s.toString().split(".")[1]?.length??0,l=10**a,u=e=>e*BigInt(Math.ceil(s*l))/BigInt(l);return n.maxFeePerGas&&!t.maxFeePerGas&&(n.maxFeePerGas=u(n.maxFeePerGas)),n.gasPrice&&!t.gasPrice&&(n.gasPrice=u(n.gasPrice)),{raw:r.raw,transaction:{from:R.from,...n}}}catch(r){throw(0,s.p)(r,{...t,chain:e.chain})}}},84208:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n=r(62496),i=r(98979),s=r(55878);async function a(e,{blockHash:t,blockNumber:r,blockTag:o=e.experimental_blockTag??"latest",includeTransactions:l}={}){let c=l??!1,u=void 0!==r?(0,i.cK)(r):void 0,d=null;if(!(d=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[u||o,c]},{dedupe:!!u})))throw new n.l({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||s.$)(d,"getBlock")}},60398:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});let n=new Map,i=new Map;async function s(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){let s=function(e){let t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}),r=t(e,n),s=t(e,i);return{clear:()=>{r.clear(),s.clear()},promise:r,response:s}}(t),a=s.response.get();if(a&&r>0&&Date.now()-a.created.getTime()<r)return a.data;let o=s.promise.get();o||(o=e(),s.promise.set(o));try{let e=await o;return s.response.set({created:new Date,data:e}),e}finally{s.promise.clear()}}let a=e=>`blockNumber.${e}`;async function o(e,{cacheTime:t=e.cacheTime}={}){return BigInt(await s(()=>e.request({method:"eth_blockNumber"}),{cacheKey:a(e.uid),cacheTime:t}))}},30733:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(45732);async function i(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,n.ME)(t)}},25478:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i});var n=r(98979);async function i(e,{address:t,blockNumber:r,blockTag:i="latest"}){let s=void 0!==r?(0,n.cK)(r):void 0,a=await e.request({method:"eth_getCode",params:[t,s||i]},{dedupe:!!s});if("0x"!==a)return a}},8269:(e,t,r)=>{"use strict";async function n(e){return BigInt(await e.request({method:"eth_gasPrice"}))}r.d(t,{L:()=>n})},71885:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(45757),i=r(98979),s=r(6035);async function a(e,{blockHash:t,blockNumber:r,blockTag:a,hash:o,index:l,sender:c,nonce:u}){let d=a||"latest",h=void 0!==r?(0,i.cK)(r):void 0,f=null;if(o?f=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,i.cK)(l)]},{dedupe:!0}):(h||d)&&"number"==typeof l?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[h||d,(0,i.cK)(l)]},{dedupe:!!h}):c&&"number"==typeof u&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[c,(0,i.cK)(u)]},{dedupe:!0})),!f)throw new n.Kz({blockHash:t,blockNumber:r,blockTag:d,hash:o,index:l});return(e.chain?.formatters?.transaction?.format||s.uP)(f,"getTransaction")}},77184:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var n=r(45732),i=r(98979);async function s(e,{address:t,blockTag:r="latest",blockNumber:s}){let a=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof s?(0,i.cK)(s):r]},{dedupe:!!s});return(0,n.ME)(a)}},78587:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var n=r(45757),i=r(68613);async function s(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new n.Kc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||i.uL)(r,"getTransactionReceipt")}},88215:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(59719),i=r(74046),s=r(80305),a=r(72447),o=r(39836);async function l(e,t){let{abi:r,address:l,args:c,functionName:u,...d}=t,h=(0,i.p)({abi:r,args:c,functionName:u});try{let{data:t}=await (0,a.T)(e,o.T,"call")({...d,data:h,to:l});return(0,n.e)({abi:r,args:c,functionName:u,data:t||"0x"})}catch(e){throw(0,s.j)(e,{abi:r,address:l,args:c,docsPath:"/docs/contract/readContract",functionName:u})}}},48071:(e,t,r)=>{"use strict";r.d(t,{n:()=>p});var n=r(62496),i=r(45757),s=r(72447),a=r(88429),o=r(30400),l=r(9869),c=r(66692),u=r(84208),d=r(71885),h=r(78587),f=r(65724);async function p(e,t){let r,p,y,g,m;let{checkReplacement:b=!0,confirmations:w=1,hash:v,onReplaced:_,retryCount:x=6,retryDelay:E=({count:e})=>200*~~(1<<e),timeout:I=18e4}=t,A=(0,c.A)(["waitForTransactionReceipt",e.uid,v]),S=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,k=!1,{promise:C,resolve:T,reject:O}=(0,o.Y)(),P=I?setTimeout(()=>{m?.(),g?.(),O(new i.WA({hash:v}))},I):void 0;return g=(0,a.lB)(A,{onReplaced:_,resolve:T,reject:O},async t=>{if((y=await (0,s.T)(e,h.h,"getTransactionReceipt")({hash:v}).catch(()=>void 0))&&w<=1){clearTimeout(P),t.resolve(y),g?.();return}m=(0,s.T)(e,f.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:S,async onBlockNumber(a){let o=e=>{clearTimeout(P),m?.(),e(),g?.()},c=a;if(!k)try{if(y){if(w>1&&(!y.blockNumber||c-y.blockNumber+1n<w))return;o(()=>t.resolve(y));return}if(b&&!r&&(k=!0,await (0,l.b)(async()=>{(r=await (0,s.T)(e,d.x,"getTransaction")({hash:v})).blockNumber&&(c=r.blockNumber)},{delay:E,retryCount:x}),k=!1),y=await (0,s.T)(e,h.h,"getTransactionReceipt")({hash:v}),w>1&&(!y.blockNumber||c-y.blockNumber+1n<w))return;o(()=>t.resolve(y))}catch(a){if(a instanceof i.Kz||a instanceof i.Kc){if(!r){k=!1;return}try{p=r,k=!0;let i=await (0,l.b)(()=>(0,s.T)(e,u.g,"getBlock")({blockNumber:c,includeTransactions:!0}),{delay:E,retryCount:x,shouldRetry:({error:e})=>e instanceof n.l});k=!1;let a=i.transactions.find(({from:e,nonce:t})=>e===p.from&&t===p.nonce);if(!a||(y=await (0,s.T)(e,h.h,"getTransactionReceipt")({hash:a.hash}),w>1&&(!y.blockNumber||c-y.blockNumber+1n<w)))return;let d="replaced";a.to===p.to&&a.value===p.value&&a.input===p.input?d="repriced":a.from===a.to&&0n===a.value&&(d="cancelled"),o(()=>{t.onReplaced?.({reason:d,replacedTransaction:p,transaction:a,transactionReceipt:y}),t.resolve(y)})}catch(e){o(()=>t.reject(e))}}else o(()=>t.reject(a))}}})}),C}},65724:(e,t,r)=>{"use strict";r.d(t,{q:()=>c});var n=r(45732),i=r(72447),s=r(88429),a=r(92342),o=r(66692),l=r(60398);function c(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:c,onError:u,poll:d,pollingInterval:h=e.pollingInterval}){let f;return(void 0!==d?d:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{let n=(0,o.A)(["watchBlockNumber",e.uid,t,r,h]);return(0,s.lB)(n,{onBlockNumber:c,onError:u},n=>(0,a.w)(async()=>{try{let t=await (0,i.T)(e,l.G,"getBlockNumber")({cacheTime:0});if(void 0!==f){if(t===f)return;if(t-f>1&&r)for(let e=f+1n;e<t;e++)n.onBlockNumber(e,f),f=e}(void 0===f||t>f)&&(n.onBlockNumber(t,f),f=t)}catch(e){n.onError?.(e)}},{emitOnBegin:t,interval:h}))})():(()=>{let i=(0,o.A)(["watchBlockNumber",e.uid,t,r]);return(0,s.lB)(i,{onBlockNumber:c,onError:u},t=>{let r=!0,i=()=>r=!1;return(async()=>{try{let s=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await s.subscribe({params:["newHeads"],onData(e){if(!r)return;let i=(0,n.uU)(e.result?.number);t.onBlockNumber(i,f),f=i},onError(e){t.onError?.(e)}});i=a,r||i()}catch(e){u?.(e)}})(),()=>i()})})()}},54050:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var n=r(22162),i=r(67368),s=r(45732),a=r(68613),o=r(46212);async function l(e,t){async function r(t){if(t.endsWith(o.vB.slice(2))){let r=(0,i.B)((0,n.iN)(t,-64,-32)),a=(0,n.iN)(t,0,-64).slice(2).match(/.{1,64}/g),l=await Promise.all(a.map(t=>o.BH.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),c=l.some(e=>null===e)?100:l.every(e=>e?.status==="0x1")?200:l.every(e=>e?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,s.ME)(r),receipts:l.filter(Boolean),status:c,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}let{atomic:l=!1,chainId:c,receipts:u,version:d="2.0.0",...h}=await r(t.id),[f,p]=(()=>{let e=h.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...h,atomic:l,chainId:c?(0,s.ME)(c):void 0,receipts:u?.map(e=>({...e,blockNumber:s.uU(e.blockNumber),gasUsed:s.uU(e.gasUsed),status:a.Lj[e.status]}))??[],statusCode:p,status:f,version:d}}},40049:(e,t,r)=>{"use strict";r.d(t,{h:()=>c});var n=r(98722),i=r(66734),s=r(81770),a=r(72447),o=r(30733),l=r(77184);async function c(e,t){let{account:r=e.account,chainId:c,nonce:u}=t;if(!r)throw new i.T({docsPath:"/docs/eip7702/prepareAuthorization"});let d=(0,n.J)(r),h=(()=>{if(t.executor)return"self"===t.executor?t.executor:(0,n.J)(t.executor)})(),f={address:t.contractAddress??t.address,chainId:c,nonce:u};return void 0===f.chainId&&(f.chainId=e.chain?.id??await (0,a.T)(e,o.T,"getChainId")({})),void 0===f.nonce&&(f.nonce=await (0,a.T)(e,l.y,"getTransactionCount")({address:d.address,blockTag:"pending"}),("self"===h||h?.address&&(0,s.h)(h.address,d.address))&&(f.nonce+=1)),f}},23721:(e,t,r)=>{"use strict";r.d(t,{MM:()=>w,ft:()=>x});var n=r(98722),i=r(60710),s=r(35679),a=r(84208),o=r(77184),l=r(62333),c=r(73492),u=r(94949),d=r(53502),h=r(43279),f=r(72447),p=r(46140),y=r(41953),g=r(75086),m=r(22124),b=r(30733);let w=["blobVersionedHashes","chainId","fees","gas","nonce","type"],v=new Map,_=new p.A(128);async function x(e,t){let r,p,x=t,{account:E=e.account,chain:I=e.chain,nonceManager:A,parameters:S=w}=x,k="function"==typeof I?.prepareTransactionRequest?{fn:I.prepareTransactionRequest,runAt:["beforeFillTransaction"]}:Array.isArray(I?.prepareTransactionRequest)?{fn:I.prepareTransactionRequest[0],runAt:I.prepareTransactionRequest[1].runAt}:void 0;async function C(){return r||(void 0!==x.chainId?x.chainId:I?I.id:r=await (0,f.T)(e,b.T,"getChainId")({}))}let T=E?(0,n.J)(E):E,O=x.nonce;if(S.includes("nonce")&&void 0===O&&T&&A){let t=await C();O=await A.consume({address:T.address,chainId:t,client:e})}k?.fn&&k.runAt?.includes("beforeFillTransaction")&&(x=await k.fn(x,{phase:"beforeFillTransaction"}),O??=x.nonce);let P=(!(S.includes("blobVersionedHashes")||S.includes("sidecars"))||!x.kzg||!x.blobs)&&!1!==_.get(e.uid)&&["fees","gas"].some(e=>S.includes(e))&&(S.includes("chainId")&&"number"!=typeof x.chainId||S.includes("nonce")&&"number"!=typeof O||S.includes("fees")&&"bigint"!=typeof x.gasPrice&&("bigint"!=typeof x.maxFeePerGas||"bigint"!=typeof x.maxPriorityFeePerGas)||S.includes("gas")&&"bigint"!=typeof x.gas)?await (0,f.T)(e,m.a,"fillTransaction")({...x,nonce:O}).then(t=>{let{chainId:r,from:n,gas:i,gasPrice:s,nonce:a,maxFeePerBlobGas:o,maxFeePerGas:l,maxPriorityFeePerGas:c,type:u,...d}=t.transaction;return _.set(e.uid,!0),{...x,...n?{from:n}:{},...u?{type:u}:{},...void 0!==r?{chainId:r}:{},...void 0!==i?{gas:i}:{},...void 0!==s?{gasPrice:s}:{},...void 0!==a?{nonce:a}:{},...void 0!==o?{maxFeePerBlobGas:o}:{},...void 0!==l?{maxFeePerGas:l}:{},...void 0!==c?{maxPriorityFeePerGas:c}:{},..."nonceKey"in d&&void 0!==d.nonceKey?{nonceKey:d.nonceKey}:{}}}).catch(t=>(t.walk?.(e=>"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)&&_.set(e.uid,!1),x)):x;O??=P.nonce;let{blobs:R,gas:D,kzg:N,type:U}=x={...P,...T?{from:T?.address}:{},...O?{nonce:O}:{}};async function M(){return p||(p=await (0,f.T)(e,a.g,"getBlock")({blockTag:"latest"}))}if(k?.fn&&k.runAt?.includes("beforeFillParameters")&&(x=await k.fn(x,{phase:"beforeFillParameters"})),S.includes("nonce")&&void 0===O&&T&&!A&&(x.nonce=await (0,f.T)(e,o.y,"getTransactionCount")({address:T.address,blockTag:"pending"})),(S.includes("blobVersionedHashes")||S.includes("sidecars"))&&R&&N){let e=(0,c.S)({blobs:R,kzg:N});if(S.includes("blobVersionedHashes")){let t=(0,d.d)({commitments:e,to:"hex"});x.blobVersionedHashes=t}if(S.includes("sidecars")){let t=(0,u.t)({blobs:R,commitments:e,kzg:N}),r=(0,h.T)({blobs:R,commitments:e,proofs:t,to:"hex"});x.sidecars=r}}if(S.includes("chainId")&&(x.chainId=await C()),(S.includes("fees")||S.includes("type"))&&void 0===U)try{x.type=(0,g.L)(x)}catch{let t=v.get(e.uid);if(void 0===t){let r=await M();t="bigint"==typeof r?.baseFeePerGas,v.set(e.uid,t)}x.type=t?"eip1559":"legacy"}if(S.includes("fees")){if("legacy"!==x.type&&"eip2930"!==x.type){if(void 0===x.maxFeePerGas||void 0===x.maxPriorityFeePerGas){let t=await M(),{maxFeePerGas:r,maxPriorityFeePerGas:n}=await (0,i.O)(e,{block:t,chain:I,request:x});if(void 0===x.maxPriorityFeePerGas&&x.maxFeePerGas&&x.maxFeePerGas<n)throw new l.RR({maxPriorityFeePerGas:n});x.maxPriorityFeePerGas=n,x.maxFeePerGas=r}}else{if(void 0!==x.maxFeePerGas||void 0!==x.maxPriorityFeePerGas)throw new l.pw;if(void 0===x.gasPrice){let t=await M(),{gasPrice:r}=await (0,i.O)(e,{block:t,chain:I,request:x,type:"legacy"});x.gasPrice=r}}}return S.includes("gas")&&void 0===D&&(x.gas=await (0,f.T)(e,s.Q,"estimateGas")({...x,account:T,prepare:T?.type==="local"?[]:["blobVersionedHashes"]})),k?.fn&&k.runAt?.includes("afterFillParameters")&&(x=await k.fn(x,{phase:"afterFillParameters"})),(0,y.c)(x),delete x.parameters,x}},46212:(e,t,r)=>{"use strict";r.d(t,{BH:()=>f,vB:()=>h,yM:()=>p});var n=r(98722),i=r(80477),s=r(76790),a=r(74046),o=r(16704),l=r(45732),c=r(98979),u=r(49585),d=r(20445);let h="0x5792579257925792579257925792579257925792579257925792579257925792",f=(0,c.cK)(0,{size:32});async function p(e,t){let{account:r=e.account,capabilities:p,chain:y=e.chain,experimental_fallback:g,experimental_fallbackDelay:m=32,forceAtomic:b=!1,id:w,version:v="2.0.0"}=t,_=r?(0,n.J)(r):null,x=t.calls.map(e=>{let t=e.abi?(0,a.p)({abi:e.abi,functionName:e.functionName,args:e.args}):e.data;return{data:e.dataSuffix&&t?(0,o.xW)([t,e.dataSuffix]):t,to:e.to,value:e.value?(0,c.cK)(e.value):void 0}});try{let t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:b,calls:x,capabilities:p,chainId:(0,c.cK)(y.id),from:_?.address,id:w,version:v}]},{retryCount:0});if("string"==typeof t)return{id:t};return t}catch(r){if(g&&("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name||"UnknownRpcError"===r.name||r.details.toLowerCase().includes("does not exist / is not available")||r.details.toLowerCase().includes("missing or invalid. request()")||r.details.toLowerCase().includes("did not match any variant of untagged enum")||r.details.toLowerCase().includes("account upgraded to unsupported contract")||r.details.toLowerCase().includes("eip-7702 not supported")||r.details.toLowerCase().includes("unsupported wc_ method")||r.details.toLowerCase().includes("feature toggled misconfigured")||r.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(p&&Object.values(p).some(e=>!e.optional)){let e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new s.L5(new i.C(e,{details:e}))}if(b&&x.length>1){let e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new s.jz(new i.C(e,{details:e}))}let t=[];for(let r of x){let n=(0,d.v)(e,{account:_,chain:y,data:r.data,to:r.to,value:r.value?(0,l.uU)(r.value):void 0});t.push(n),m>0&&await new Promise(e=>setTimeout(e,m))}let r=await Promise.allSettled(t);if(r.every(e=>"rejected"===e.status))throw r[0].reason;let n=r.map(e=>"fulfilled"===e.status?e.value:f);return{id:(0,o.xW)([...n,(0,c.cK)(y.id,{size:32}),h])}}throw(0,u.p)(r,{...t,account:_,chain:t.chain})}}},29665:(e,t,r)=>{"use strict";async function n(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}r.d(t,{L:()=>n})},46802:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var n=r(45757),i=r(68613),s=r(98979);async function a(e,{serializedTransaction:t,throwOnReceiptRevert:r,timeout:a}){let o=await e.request({method:"eth_sendRawTransactionSync",params:a?[t,(0,s.cK)(a)]:[t]},{retryCount:0}),l=(e.chain?.formatters?.transactionReceipt?.format||i.uL)(o);if("reverted"===l.status&&r)throw new n.Sq({receipt:l});return l}},20445:(e,t,r)=>{"use strict";r.d(t,{v:()=>b});var n=r(98722),i=r(66734),s=r(80477),a=r(20012),o=r(57325),l=r(49585),c=r(24058),u=r(53864),d=r(72447),h=r(46140),f=r(41953),p=r(30733),y=r(23721),g=r(29665);let m=new h.A(128);async function b(e,t){let{account:r=e.account,chain:h=e.chain,accessList:b,authorizationList:w,blobs:v,data:_,gas:x,gasPrice:E,maxFeePerBlobGas:I,maxFeePerGas:A,maxPriorityFeePerGas:S,nonce:k,type:C,value:T,...O}=t;if(void 0===r)throw new i.T({docsPath:"/docs/actions/wallet/sendTransaction"});let P=r?(0,n.J)(r):null;try{(0,f.c)(t);let r=await (async()=>t.to?t.to:null!==t.to&&w&&w.length>0?await (0,a.g)({authorization:w[0]}).catch(()=>{throw new s.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(P?.type==="json-rpc"||null===P){let t;null!==h&&(t=await (0,d.T)(e,p.T,"getChainId")({}),(0,o.v)({currentChainId:t,chain:h}));let n=e.chain?.formatters?.transactionRequest?.format,i=(n||u.Bv)({...(0,c.o)(O,{format:n}),accessList:b,account:P,authorizationList:w,blobs:v,chainId:t,data:_,gas:x,gasPrice:E,maxFeePerBlobGas:I,maxFeePerGas:A,maxPriorityFeePerGas:S,nonce:k,to:r,type:C,value:T},"sendTransaction"),s=m.get(e.uid);try{return await e.request({method:s?"wallet_sendTransaction":"eth_sendTransaction",params:[i]},{retryCount:0})}catch(t){if(!1===s)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[i]},{retryCount:0}).then(t=>(m.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw m.set(e.uid,!1),t;throw r});throw t}}if(P?.type==="local"){let t=await (0,d.T)(e,y.ft,"prepareTransactionRequest")({account:P,accessList:b,authorizationList:w,blobs:v,chain:h,data:_,gas:x,gasPrice:E,maxFeePerBlobGas:I,maxFeePerGas:A,maxPriorityFeePerGas:S,nonce:k,nonceManager:P.nonceManager,parameters:[...y.MM,"sidecars"],type:C,value:T,...O,to:r}),n=h?.serializers?.transaction,i=await P.signTransaction(t,{serializer:n});return await (0,d.T)(e,g.L,"sendRawTransaction")({serializedTransaction:i})}if(P?.type==="smart")throw new i.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new i.Z({docsPath:"/docs/actions/wallet/sendTransaction",type:P?.type})}catch(e){if(e instanceof i.Z)throw e;throw(0,l.p)(e,{...t,account:P,chain:t.chain||void 0})}}},87027:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});var n=r(98722),i=r(66734),s=r(98979);async function a(e,{account:t=e.account,message:r}){if(!t)throw new i.T({docsPath:"/docs/actions/wallet/signMessage"});let a=(0,n.J)(t);if(a.signMessage)return a.signMessage({message:r});let o="string"==typeof r?(0,s.i3)(r):r.raw instanceof Uint8Array?(0,s.nj)(r.raw):r.raw;return e.request({method:"personal_sign",params:[o,a.address]},{retryCount:0})}},27480:(e,t,r)=>{"use strict";r.d(t,{W:()=>d});var n=r(98722),i=r(66734),s=r(57325),a=r(98979),o=r(53864),l=r(72447),c=r(41953),u=r(30733);async function d(e,t){let{account:r=e.account,chain:d=e.chain,...h}=t;if(!r)throw new i.T({docsPath:"/docs/actions/wallet/signTransaction"});let f=(0,n.J)(r);(0,c.c)({account:f,...t});let p=await (0,l.T)(e,u.T,"getChainId")({});null!==d&&(0,s.v)({currentChainId:p,chain:d});let y=d?.formatters||e.chain?.formatters,g=y?.transactionRequest?.format||o.Bv;return f.signTransaction?f.signTransaction({...h,chainId:p},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...g({...h,account:f},"signTransaction"),chainId:(0,a.cK)(p),from:f.address}]},{retryCount:0})}},40164:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var n=r(98722),i=r(66734),s=r(37939);async function a(e,t){let{account:r=e.account,domain:a,message:o,primaryType:l}=t;if(!r)throw new i.T({docsPath:"/docs/actions/wallet/signTypedData"});let c=(0,n.J)(r),u={EIP712Domain:(0,s.H4)({domain:a}),...t.types};if((0,s.$$)({domain:a,message:o,primaryType:l,types:u}),c.signTypedData)return c.signTypedData({domain:a,message:o,primaryType:l,types:u});let d=(0,s.v8)({domain:a,message:o,primaryType:l,types:u});return e.request({method:"eth_signTypedData_v4",params:[c.address,d]},{retryCount:0})}},81428:(e,t,r)=>{"use strict";r.d(t,{c:()=>h});var n=r(80477);class i extends n.C{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}var s=r(72447),a=r(88429),o=r(92342),l=r(30400),c=r(9869),u=r(66692),d=r(54050);async function h(e,t){let r;let{id:n,pollingInterval:h=e.pollingInterval,status:p=({statusCode:e})=>200===e||e>=300,retryCount:y=4,retryDelay:g=({count:e})=>200*~~(1<<e),timeout:m=6e4,throwOnFailure:b=!1}=t,w=(0,u.A)(["waitForCallsStatus",e.uid,n]),{promise:v,resolve:_,reject:x}=(0,l.Y)(),E=(0,a.lB)(w,{resolve:_,reject:x},t=>{let a=(0,o.w)(async()=>{let o=e=>{clearTimeout(r),a(),e(),E()};try{let r=await (0,c.b)(async()=>{let t=await (0,s.T)(e,d.k,"getCallsStatus")({id:n});if(b&&"failure"===t.status)throw new i(t);return t},{retryCount:y,delay:g});if(!p(r))return;o(()=>t.resolve(r))}catch(e){o(()=>t.reject(e))}},{interval:h,emitOnBegin:!0});return a});return r=m?setTimeout(()=>{E(),clearTimeout(r),x(new f({id:n}))},m):void 0,await v}class f extends n.C{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}},43926:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var n=r(98722),i=r(66734),s=r(74046),a=r(80305),o=r(72447),l=r(20445);async function c(e,t){return c.internal(e,l.v,"sendTransaction",t)}!function(e){async function t(e,t,r,l){let{abi:c,account:u=e.account,address:d,args:h,dataSuffix:f,functionName:p,...y}=l;if(void 0===u)throw new i.T({docsPath:"/docs/contract/writeContract"});let g=u?(0,n.J)(u):null,m=(0,s.p)({abi:c,args:h,functionName:p});try{return await (0,o.T)(e,t,r)({data:`${m}${f?f.replace("0x",""):""}`,to:d,account:g,...y})}catch(e){throw(0,a.j)(e,{abi:c,address:d,args:h,docsPath:"/docs/contract/writeContract",functionName:p,sender:g?.address})}}e.internal=t}(c||(c={}))},44711:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(98722),i=r(43071);function s(e){let{batch:t,chain:r,ccipRead:s,key:a="base",name:o="Base Client",type:l="base"}=e,c=e.experimental_blockTag??("number"==typeof r?.experimental_preconfirmationTime?"pending":void 0),u=Math.min(Math.max(Math.floor((r?.blockTime??12e3)/2),500),4e3),d=e.pollingInterval??u,h=e.cacheTime??d,f=e.account?(0,n.J)(e.account):void 0,{config:p,request:y,value:g}=e.transport({account:f,chain:r,pollingInterval:d}),m={account:f,batch:t,cacheTime:h,ccipRead:s,chain:r,key:a,name:o,pollingInterval:d,request:y,transport:{...p,...g},type:l,uid:(0,i.L)(),...c?{experimental_blockTag:c}:{}};return Object.assign(m,{extend:function e(t){return r=>{let n=r(t);for(let e in m)delete n[e];let i={...t,...n};return Object.assign(i,{extend:e(i)})}}(m)})}},11326:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(44711),i=r(80205);function s(e){let{key:t="public",name:r="Public Client"}=e;return(0,n.U)({...e,key:t,name:r,type:"publicClient"}).extend(i.$)}},94895:(e,t,r)=>{"use strict";r.d(t,{F:()=>Z});var n=r(44711),i=r(22124),s=r(30733),a=r(98979);async function o(e,{chain:t}){let{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,a.cK)(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}var l=r(62937),c=r(20445),u=r(40814);async function d(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,u.o)(e))}var h=r(54050),f=r(98722);async function p(e,t={}){let{account:r=e.account,chainId:n}=t,i=r?(0,f.J)(r):void 0,s=n?[i?.address,[(0,a.cK)(n)]]:[i?.address],o=await e.request({method:"wallet_getCapabilities",params:s}),l={};for(let[e,t]of Object.entries(o))for(let[r,n]of(l[Number(e)]={},Object.entries(t)))"addSubAccount"===r&&(r="unstable_addSubAccount"),l[Number(e)][r]=n;return"number"==typeof n?l[n]:l}async function y(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}var g=r(40049),m=r(23721);async function b(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,u.b)(e))}async function w(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}var v=r(46212),_=r(81428);async function x(e,t){let{chain:r=e.chain}=t,n=t.timeout??Math.max((r?.blockTime??0)*3,5e3),i=await (0,v.yM)(e,t);return await (0,_.c)(e,{...t,id:i.id,timeout:n})}var E=r(29665),I=r(46802),A=r(66734),S=r(80477),k=r(45757),C=r(20012),T=r(57325),O=r(49585),P=r(24058),R=r(53864),D=r(72447),N=r(46140),U=r(41953),M=r(48071);let B=new N.A(128);async function j(e,t){let{account:r=e.account,chain:n=e.chain,accessList:i,authorizationList:a,blobs:o,data:l,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:y,pollingInterval:g,throwOnReceiptRevert:b,type:w,value:v,..._}=t,x=t.timeout??Math.max((n?.blockTime??0)*3,5e3);if(void 0===r)throw new A.T({docsPath:"/docs/actions/wallet/sendTransactionSync"});let E=r?(0,f.J)(r):null;try{(0,U.c)(t);let r=await (async()=>t.to?t.to:null!==t.to&&a&&a.length>0?await (0,C.g)({authorization:a[0]}).catch(()=>{throw new S.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(E?.type==="json-rpc"||null===E){let t;null!==n&&(t=await (0,D.T)(e,s.T,"getChainId")({}),(0,T.v)({currentChainId:t,chain:n}));let f=e.chain?.formatters?.transactionRequest?.format,m=(f||R.Bv)({...(0,P.o)(_,{format:f}),accessList:i,account:E,authorizationList:a,blobs:o,chainId:t,data:l,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:y,to:r,type:w,value:v},"sendTransaction"),I=B.get(e.uid),A=I?"wallet_sendTransaction":"eth_sendTransaction",S=await (async()=>{try{return await e.request({method:A,params:[m]},{retryCount:0})}catch(t){if(!1===I)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[m]},{retryCount:0}).then(t=>(B.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw B.set(e.uid,!1),t;throw r});throw t}})(),C=await (0,D.T)(e,M.n,"waitForTransactionReceipt")({checkReplacement:!1,hash:S,pollingInterval:g,timeout:x});if(b&&"reverted"===C.status)throw new k.Sq({receipt:C});return C}if(E?.type==="local"){let t=await (0,D.T)(e,m.ft,"prepareTransactionRequest")({account:E,accessList:i,authorizationList:a,blobs:o,chain:n,data:l,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:y,nonceManager:E.nonceManager,parameters:[...m.MM,"sidecars"],type:w,value:v,..._,to:r}),s=n?.serializers?.transaction,f=await E.signTransaction(t,{serializer:s});return await (0,D.T)(e,I.s,"sendRawTransactionSync")({serializedTransaction:f,throwOnReceiptRevert:b})}if(E?.type==="smart")throw new A.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new A.Z({docsPath:"/docs/actions/wallet/sendTransactionSync",type:E?.type})}catch(e){if(e instanceof A.Z)throw e;throw(0,O.p)(e,{...t,account:E,chain:t.chain||void 0})}}async function L(e,t){let{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}async function F(e,t){let{account:r=e.account}=t;if(!r)throw new A.T({docsPath:"/docs/eip7702/signAuthorization"});let n=(0,f.J)(r);if(!n.signAuthorization)throw new A.Z({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let i=await (0,g.h)(e,t);return n.signAuthorization(i)}var $=r(87027),z=r(27480),q=r(40164);async function W(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,a.cK)(t)}]},{retryCount:0})}async function H(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}var V=r(43926);async function K(e,t){return V.E.internal(e,j,"sendTransactionSync",t)}function G(e){return{addChain:t=>o(e,t),deployContract:t=>(function(e,t){let{abi:r,args:n,bytecode:i,...s}=t,a=(0,l.m)({abi:r,args:n,bytecode:i});return(0,c.v)(e,{...s,...s.authorizationList?{to:null}:{},data:a})})(e,t),fillTransaction:t=>(0,i.a)(e,t),getAddresses:()=>d(e),getCallsStatus:t=>(0,h.k)(e,t),getCapabilities:t=>p(e,t),getChainId:()=>(0,s.T)(e),getPermissions:()=>y(e),prepareAuthorization:t=>(0,g.h)(e,t),prepareTransactionRequest:t=>(0,m.ft)(e,t),requestAddresses:()=>b(e),requestPermissions:t=>w(e,t),sendCalls:t=>(0,v.yM)(e,t),sendCallsSync:t=>x(e,t),sendRawTransaction:t=>(0,E.L)(e,t),sendRawTransactionSync:t=>(0,I.s)(e,t),sendTransaction:t=>(0,c.v)(e,t),sendTransactionSync:t=>j(e,t),showCallsStatus:t=>L(e,t),signAuthorization:t=>F(e,t),signMessage:t=>(0,$.l)(e,t),signTransaction:t=>(0,z.W)(e,t),signTypedData:t=>(0,q.C)(e,t),switchChain:t=>W(e,t),waitForCallsStatus:t=>(0,_.c)(e,t),watchAsset:t=>H(e,t),writeContract:t=>(0,V.E)(e,t),writeContractSync:t=>K(e,t)}}function Z(e){let{key:t="wallet",name:r="Wallet Client",transport:i}=e;return(0,n.U)({...e,key:t,name:r,transport:i,type:"walletClient"}).extend(G)}},80205:(e,t,r)=>{"use strict";r.d(t,{$:()=>rM});var n=r(38472),i=r(59719),s=r(74046),a=r(40874),o=r(67368),l=r(98979),c=r(80477),u=r(88085);function d(e){if(!(e instanceof c.C))return!1;let t=e.walk(e=>e instanceof u.M);return t instanceof u.M&&(t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile")}var h=r(31064),f=r(16704),p=r(76397),y=r(55207),g=r(11601);function m(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t=`0x${e.slice(1,65)}`;return(0,g.q)(t)?t:null}function b(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,l.My)(t);let r=e.split(".");for(let e=r.length-1;e>=0;e-=1){let n=m(r[e]),i=n?(0,p.ZJ)(n):(0,y.S)((0,p.Af)(r[e]),"bytes");t=(0,y.S)((0,f.xW)([t,i]),"bytes")}return(0,l.My)(t)}function w(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let r=new Uint8Array((0,p.Af)(t).byteLength+2),n=0,i=t.split(".");for(let e=0;e<i.length;e++){let t=(0,p.Af)(i[e]);if(t.byteLength>255){var s;t=(0,p.Af)((s=function(e){let t=new Uint8Array(32).fill(0);return e?m(e)||(0,y.S)((0,p.Af)(e)):(0,l.My)(t)}(i[e]),`[${s.slice(2)}]`))}r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}var v=r(72447),_=r(88215);async function x(e,t){let{blockNumber:r,blockTag:c,coinType:u,name:f,gatewayUrls:p,strict:y}=t,{chain:g}=e,m=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!g)throw Error("client chain not configured. universalResolverAddress is required.");return(0,a.M)({blockNumber:r,chain:g,contract:"ensUniversalResolver"})})(),x=g?.ensTlds;if(x&&!x.some(e=>f.endsWith(e)))return null;let E=null!=u?[b(f),BigInt(u)]:[b(f)];try{let t=(0,s.p)({abi:n.Rm,functionName:"addr",args:E}),a={address:m,abi:n.Ag,functionName:"resolveWithGateways",args:[(0,l.nj)(w(f)),t,p??[h.J]],blockNumber:r,blockTag:c},u=(0,v.T)(e,_.J,"readContract"),d=await u(a);if("0x"===d[0])return null;let y=(0,i.e)({abi:n.Rm,args:E,functionName:"addr",data:d[0]});if("0x"===y||"0x00"===(0,o.B)(y))return null;return y}catch(e){if(y)throw e;if(d(e))return null;throw e}}class E extends c.C{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class I extends c.C{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class A extends c.C{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class S extends c.C{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}let k=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,C=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,T=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,O=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function P(e){try{let t=await fetch(e,{method:"HEAD"});if(200===t.status){let e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){if("object"==typeof t&&void 0!==t.response||!Object.hasOwn(globalThis,"Image"))return!1;return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e})}}function R(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function D({uri:e,gatewayUrls:t}){let r=T.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=R(t?.ipfs,"https://ipfs.io"),i=R(t?.arweave,"https://arweave.net"),s=e.match(k),{protocol:a,subpath:o,target:l,subtarget:c=""}=s?.groups||{},u="ipns:/"===a||"ipns/"===o,d="ipfs:/"===a||"ipfs/"===o||C.test(e);if(e.startsWith("http")&&!u&&!d){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((u||d)&&l)return{uri:`${n}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if("ar:/"===a&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(O,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new A({uri:e})}function N(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new E({data:e});return e.image||e.image_url||e.image_data}async function U({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(e=>e.json());return await M({gatewayUrls:e,uri:N(r)})}catch{throw new A({uri:t})}}async function M({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=D({uri:t,gatewayUrls:e});if(n||await P(r))return r;throw new A({uri:t})}async function B(e,{nft:t}){if("erc721"===t.namespace)return(0,_.J)(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return(0,_.J)(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new S({namespace:t.namespace})}async function j(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?L(e,{gatewayUrls:t,record:r}):M({uri:r,gatewayUrls:t})}async function L(e,{gatewayUrls:t,record:r}){let n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,i]=t.split("/"),[s,a]=r.split(":"),[o,l]=n.split(":");if(!s||"eip155"!==s.toLowerCase())throw new I({reason:"Only EIP-155 supported"});if(!a)throw new I({reason:"Chain ID not found"});if(!l)throw new I({reason:"Contract address not found"});if(!i)throw new I({reason:"Token ID not found"});if(!o)throw new I({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:o.toLowerCase(),contractAddress:l,tokenID:i}}(r),{uri:i,isOnChain:s,isEncoded:a}=D({uri:await B(e,{nft:n}),gatewayUrls:t});if(s&&(i.includes("data:application/json;base64,")||i.startsWith("{")))return M({uri:N(JSON.parse(a?atob(i.replace("data:application/json;base64,","")):i)),gatewayUrls:t});let o=n.tokenID;return"erc1155"===n.namespace&&(o=o.replace("0x","").padStart(64,"0")),U({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,o)})}async function F(e,t){let{blockNumber:r,blockTag:o,key:c,name:u,gatewayUrls:f,strict:p}=t,{chain:y}=e,g=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!y)throw Error("client chain not configured. universalResolverAddress is required.");return(0,a.M)({blockNumber:r,chain:y,contract:"ensUniversalResolver"})})(),m=y?.ensTlds;if(m&&!m.some(e=>u.endsWith(e)))return null;try{let t={address:g,abi:n.Ag,args:[(0,l.nj)(w(u)),(0,s.p)({abi:n.SJ,functionName:"text",args:[b(u),c]}),f??[h.J]],functionName:"resolveWithGateways",blockNumber:r,blockTag:o},a=(0,v.T)(e,_.J,"readContract"),d=await a(t);if("0x"===d[0])return null;let p=(0,i.e)({abi:n.SJ,functionName:"text",data:d[0]});return""===p?null:p}catch(e){if(p)throw e;if(d(e))return null;throw e}}async function $(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:a,universalResolverAddress:o}){let l=await (0,v.T)(e,F,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:o,gatewayUrls:s,strict:a});if(!l)return null;try{return await j(e,{record:l,gatewayUrls:n})}catch{return null}}async function z(e,t){let{address:r,blockNumber:i,blockTag:s,coinType:o=60n,gatewayUrls:l,strict:c}=t,{chain:u}=e,f=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw Error("client chain not configured. universalResolverAddress is required.");return(0,a.M)({blockNumber:i,chain:u,contract:"ensUniversalResolver"})})();try{let t={address:f,abi:n.oX,args:[r,o,l??[h.J]],functionName:"reverseWithGateways",blockNumber:i,blockTag:s},a=(0,v.T)(e,_.J,"readContract"),[c]=await a(t);return c||null}catch(e){if(c)throw e;if(d(e))return null;throw e}}async function q(e,t){let{blockNumber:r,blockTag:n,name:i}=t,{chain:s}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!s)throw Error("client chain not configured. universalResolverAddress is required.");return(0,a.M)({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),c=s?.ensTlds;if(c&&!c.some(e=>i.endsWith(e)))throw Error(`${i} is not a valid ENS TLD (${c?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);let[u]=await (0,v.T)(e,_.J,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,l.nj)(w(i))],blockNumber:r,blockTag:n});return u}var W=r(39836),H=r(98722),V=r(14303),K=r(24058),G=r(53864),Z=r(41953);async function J(e,t){let{account:r=e.account,blockNumber:n,blockTag:i="latest",blobs:s,data:a,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p,...y}=t,g=r?(0,H.J)(r):void 0;try{(0,Z.c)(t);let r="bigint"==typeof n?(0,l.cK)(n):void 0,m=e.chain?.formatters?.transactionRequest?.format,b=(m||G.Bv)({...(0,K.o)(y,{format:m}),account:g,blobs:s,data:a,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),w=await e.request({method:"eth_createAccessList",params:[b,r||i]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(r){throw(0,V.d)(r,{...t,account:g,chain:e.chain})}}function Y(e,{method:t}){let r={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:n,status:i,transport:s})=>{"success"===i&&t===e&&(r[n]=s.request)}),t=>r[t]||e.request}async function Q(e){let t=Y(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}var X=r(36991);class ee extends c.C{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var et=r(94490),er=r(46304),en=r(57880),ei=r(4617);let es="/docs/contract/encodeEventTopics";function ea(e){let{abi:t,eventName:r,args:n}=e,i=t[0];if(r){let e=(0,ei.iY)({abi:t,name:r});if(!e)throw new X.M_(r,{docsPath:es});i=e}if("event"!==i.type)throw new X.M_(void 0,{docsPath:es});let s=(0,en.B)(i),a=(0,et.h)(s),o=[];if(n&&"inputs"in i){let e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map(e=>n[e.name])??[]:[];t.length>0&&(o=e?.map((e,r)=>Array.isArray(t[r])?t[r].map((n,i)=>eo({param:e,value:t[r][i]})):void 0!==t[r]&&null!==t[r]?eo({param:e,value:t[r]}):null)??[])}return[a,...o]}function eo({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,y.S)((0,p.ZJ)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ee(e.type);return(0,er.h)([e],[t])}async function el(e,t){let{address:r,abi:n,args:i,eventName:s,fromBlock:a,strict:o,toBlock:c}=t,u=Y(e,{method:"eth_newFilter"}),d=s?ea({abi:n,args:i,eventName:s}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof a?(0,l.cK)(a):a,toBlock:"bigint"==typeof c?(0,l.cK)(c):c,topics:d}]});return{abi:n,args:i,eventName:s,id:h,request:u(h),strict:!!o,type:"event"}}async function ec(e,{address:t,args:r,event:n,events:i,fromBlock:s,strict:a,toBlock:o}={}){let c=i??(n?[n]:void 0),u=Y(e,{method:"eth_newFilter"}),d=[];c&&(d=[c.flatMap(e=>ea({abi:[e],eventName:e.name,args:r}))],n&&(d=d[0]));let h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof s?(0,l.cK)(s):s,toBlock:"bigint"==typeof o?(0,l.cK)(o):o,...d.length?{topics:d}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:s,id:h,request:u(h),strict:!!a,toBlock:o,type:"event"}}async function eu(e){let t=Y(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var ed=r(80305),eh=r(35679);async function ef(e,t){let{abi:r,address:n,args:i,functionName:a,dataSuffix:o,...l}=t,c=(0,s.p)({abi:r,args:i,functionName:a});try{return await (0,v.T)(e,eh.Q,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:n,...l})}catch(t){let e=l.account?(0,H.J)(l.account):void 0;throw(0,ed.j)(t,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:e?.address})}}var ep=r(60710),ey=r(50801),eg=r(22124);async function em(e,{address:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest"}){let i="bigint"==typeof r?(0,l.cK)(r):void 0;return BigInt(await e.request({method:"eth_getBalance",params:[t,i||n]}))}async function eb(e){return BigInt(await e.request({method:"eth_blobBaseFee"}))}var ew=r(84208),ev=r(60398),e_=r(45732);async function ex(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let i;let s=void 0!==r?(0,l.cK)(r):void 0;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]},{dedupe:!!s}),(0,e_.ME)(i)}var eE=r(30733),eI=r(25478),eA=r(81770),eS=r(17848);function ek(e){let{abi:t,args:r,logs:n,strict:i=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map(e=>{try{let n=t.find(t=>"event"===t.type&&e.topics[0]===(0,et.h)(t));if(!n)return null;let a=(0,eS.j)({...e,abi:[n],strict:i});if(s&&!s.includes(a.eventName)||!function(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function i(e,t,r){try{if("address"===e.type)return(0,eA.h)(t,r);if("string"===e.type||"bytes"===e.type)return(0,y.S)((0,p.ZJ)(t))===r;return t===r}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((e,n)=>{if(null==e)return!0;let s=r[n];return!!s&&(Array.isArray(e)?e:[e]).some(e=>i(s,e,t[n]))}):!("object"!=typeof t||Array.isArray(t)||"object"!=typeof n||Array.isArray(n))&&Object.entries(n).every(([e,n])=>{if(null==n)return!0;let s=r.find(t=>t.name===e);return!!s&&(Array.isArray(n)?n:[n]).some(r=>i(s,r,t[e]))})}({args:a.args,inputs:n.inputs,matchArgs:r}))return null;return{...a,...e}}catch(n){let t,r;if(n instanceof X.kE)return null;if(n instanceof X.fo||n instanceof X.l3){if(i)return null;t=n.abiItem.name,r=n.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:t}}}).filter(Boolean)}var eC=r(58981);async function eT(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:s,events:a,args:o,strict:c}={}){let u=a??(s?[s]:void 0),d=[];u&&(d=[u.flatMap(e=>ea({abi:[e],eventName:e.name,args:a?void 0:o}))],s&&(d=d[0]));let h=(r?await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:"bigint"==typeof n?(0,l.cK)(n):n,toBlock:"bigint"==typeof i?(0,l.cK)(i):i}]})).map(e=>(0,eC.e)(e));return u?ek({abi:u,args:o,logs:h,strict:c??!1}):h}async function eO(e,t){let{abi:r,address:n,args:i,blockHash:s,eventName:a,fromBlock:o,toBlock:l,strict:c}=t,u=a?(0,ei.iY)({abi:r,name:a}):void 0,d=u?void 0:r.filter(e=>"event"===e.type);return(0,v.T)(e,eT,"getLogs")({address:n,args:i,blockHash:s,event:u,events:d,fromBlock:o,toBlock:l,strict:c})}class eP extends c.C{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function eR(e,t){let{address:r,factory:n,factoryData:i}=t;try{let[t,s,a,o,l,c,u]=await (0,v.T)(e,_.J,"readContract")({abi:eD,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:s,version:a,chainId:Number(o),verifyingContract:l,salt:c},extensions:u,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new eP({address:r});throw e}}let eD=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function eN(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){var s;let a="bigint"==typeof r?(0,l.cK)(r):void 0;return{baseFeePerGas:(s=await e.request({method:"eth_feeHistory",params:[(0,l.cK)(t),a||n,i]},{dedupe:!!a})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:s.gasUsedRatio,oldestBlock:BigInt(s.oldestBlock),reward:s.reward?.map(e=>e.map(e=>BigInt(e)))}}async function eU(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;let i=n.map(e=>(0,eC.e)(e));return"abi"in t&&t.abi?ek({abi:t.abi,logs:i,strict:r}):i}async function eM(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>(0,eC.e)(e));return t.abi?ek({abi:t.abi,logs:n,strict:r}):n}var eB=r(8269);async function ej(e,{address:t,blockNumber:r,blockTag:n,storageKeys:i}){var s;let a=void 0!==r?(0,l.cK)(r):void 0;return{...s=await e.request({method:"eth_getProof",params:[t,i,a||(n??"latest")]}),balance:s.balance?BigInt(s.balance):void 0,nonce:s.nonce?(0,e_.ME)(s.nonce):void 0,storageProof:s.storageProof?s.storageProof.map(e=>({...e,value:BigInt(e.value)})):void 0}}async function eL(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){let s=void 0!==r?(0,l.cK)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||n]})}var eF=r(71885);async function e$(e,{hash:t,transactionReceipt:r}){let[n,i]=await Promise.all([(0,v.T)(e,ev.G,"getBlockNumber")({}),t?(0,v.T)(e,eF.x,"getTransaction")({hash:t}):void 0]),s=r?.blockNumber||i?.blockNumber;return s?n-s+1n:0n}var ez=r(77184),eq=r(78587),eW=r(33726);async function eH(e,t){let{account:r,authorizationList:o,allowFailure:l=!0,blockNumber:d,blockOverrides:h,blockTag:f,stateOverride:p}=t,y=t.contracts,{batchSize:g=t.batchSize??1024,deployless:m=t.deployless??!1}="object"==typeof e.batch?.multicall?e.batch.multicall:{},b=(()=>{if(t.multicallAddress)return t.multicallAddress;if(m)return null;if(e.chain)return(0,a.M)({blockNumber:d,chain:e.chain,contract:"multicall3"});throw Error("client chain not configured. multicallAddress is required.")})(),w=[[]],x=0,E=0;for(let e=0;e<y.length;e++){let{abi:t,address:n,args:i,functionName:a}=y[e];try{let e=(0,s.p)({abi:t,args:i,functionName:a});E+=(e.length-2)/2,g>0&&E>g&&w[x].length>0&&(x++,E=(e.length-2)/2,w[x]=[]),w[x]=[...w[x],{allowFailure:!0,callData:e,target:n}]}catch(s){let e=(0,ed.j)(s,{abi:t,address:n,args:i,docsPath:"/docs/contract/multicall",functionName:a,sender:r});if(!l)throw e;w[x]=[...w[x],{allowFailure:!0,callData:"0x",target:n}]}}let I=await Promise.allSettled(w.map(t=>(0,v.T)(e,_.J,"readContract")({...null===b?{code:eW.Ez}:{address:b},abi:n.v2,account:r,args:[t],authorizationList:o,blockNumber:d,blockOverrides:h,blockTag:f,functionName:"aggregate3",stateOverride:p}))),A=[];for(let e=0;e<I.length;e++){let t=I[e];if("rejected"===t.status){if(!l)throw t.reason;for(let r=0;r<w[e].length;r++)A.push({status:"failure",error:t.reason,result:void 0});continue}let r=t.value;for(let t=0;t<r.length;t++){let{returnData:n,success:s}=r[t],{callData:a}=w[e][t],{abi:o,address:c,functionName:d,args:h}=y[A.length];try{if("0x"===a)throw new X.O;if(!s)throw new u.$S({data:n});let e=(0,i.e)({abi:o,args:h,data:n,functionName:d});A.push(l?{result:e,status:"success"}:e)}catch(t){let e=(0,ed.j)(t,{abi:o,address:c,args:h,docsPath:"/docs/contract/multicall",functionName:d});if(!l)throw e;A.push({error:e,result:void 0,status:"failure"})}}}if(A.length!==y.length)throw new c.C("multicall results mismatch");return A}var eV=r(79408),eK=r(87939),eG=r(90563),eZ=r(55878),eJ=r(52368);async function eY(e,t){let{blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",blocks:a,returnFullTransactions:o,traceTransfers:c,validation:d}=t;try{let t=[];for(let e of a){let r=e.blockOverrides?eV.J(e.blockOverrides):void 0,n=e.calls.map(e=>{let t=e.account?(0,H.J)(e.account):void 0,r=e.abi?(0,s.p)(e):e.data,n={...e,account:t,data:e.dataSuffix?(0,f.xW)([r||"0x",e.dataSuffix]):r,from:e.from??t?.address};return(0,Z.c)(n),(0,G.Bv)(n)}),i=e.stateOverrides?(0,eJ.yH)(e.stateOverrides):void 0;t.push({blockOverrides:r,calls:n,stateOverrides:i})}let h="bigint"==typeof r?(0,l.cK)(r):void 0;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:o,traceTransfers:c,validation:d},h||n]})).map((e,t)=>({...(0,eZ.$)(e),calls:e.calls.map((e,r)=>{let{abi:n,args:s,functionName:o,to:l}=a[t].calls[r],c=e.error?.data??e.returnData,d=BigInt(e.gasUsed),h=e.logs?.map(e=>eC.e(e)),f="0x1"===e.status?"success":"failure",p=n&&"success"===f&&"0x"!==c?(0,i.e)({abi:n,data:c,functionName:o}):null,y=(()=>{let t;if("success"!==f&&(e.error?.data==="0x"?t=new X.O:e.error&&(t=new u.$S(e.error)),t))return(0,ed.j)(t,{abi:n??[],address:l??"0x",args:s,functionName:o??"<unknown>"})})();return{data:c,gasUsed:d,logs:h,status:f,..."success"===f?{result:p}:{error:y}}})}))}catch(t){let e=(0,eG.l)(t,{});if(e instanceof eK.RM)throw t;throw e}}var eQ=r(84531),eX=r(55524),e0=r(59894),e1=r(75762),e2=r(59066),e6=r(71261),e5=r(34758),e8=r(80219);function e3(e,t){if(ts(e)>t)throw new tc({givenSize:ts(e),maxSize:t})}let e4={zero:48,nine:57,A:65,F:70,a:97,f:102};function e9(e){return e>=e4.zero&&e<=e4.nine?e-e4.zero:e>=e4.A&&e<=e4.F?e-(e4.A-10):e>=e4.a&&e<=e4.f?e-(e4.a-10):void 0}function e7(e,t={}){let{dir:r="left"}=t,n=0;for(let t=0;t<e.length-1&&"0"===e["left"===r?t:e.length-t-1].toString();t++)n++;return"left"===r?e.slice(n):e.slice(0,e.length-n)}var te=r(33453),tt=r(52080);let tr=new TextDecoder,tn=new TextEncoder;function ti(e,t={}){let{size:r}=t,n=e;r&&(te.Sl(e,r),n=e8.M7(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);let s=i.length/2,a=new Uint8Array(s);for(let e=0,t=0;e<s;e++){let r=e9(i.charCodeAt(t++)),n=e9(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new e6.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);a[e]=16*r+n}return a}function ts(e){return e.length}function ta(e,t={}){let{size:r}=t;void 0!==r&&e3(e,r);let n=e8.uK(e,t);return e8.Ro(n,t)}function to(e){return e7(e,{dir:"left"})}class tl extends e6.C{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}e6.C;class tc extends e6.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class tu extends e6.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class td extends e6.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function th(e,t={}){let{as:r="string"==typeof e?"Hex":"Bytes"}=t,n=(0,e5.lY)(e instanceof Uint8Array?e:"string"==typeof e?ti(e):e instanceof Uint8Array?e:new Uint8Array(e));return"Bytes"===r?n:e8.uK(n)}class tf extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let tp={checksum:new tf(8192)}.checksum,ty=/^0x[a-fA-F0-9]{40}$/;function tg(e,t={}){let{strict:r=!0}=t;if(!ty.test(e))throw new tw({address:e,cause:new tv});if(r){if(e.toLowerCase()===e)return;if(tm(e)!==e)throw new tw({address:e,cause:new t_})}}function tm(e){if(tp.has(e))return tp.get(e);tg(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=th(function(e,t={}){let{size:r}=t,n=tn.encode(e);return"number"==typeof r?(e3(n,r),function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new td({size:e.length,targetSize:n,type:"Bytes"});let i=new Uint8Array(n);for(let t=0;t<n;t++){let s="right"===r;i[s?t:n-t-1]=e[s?t:e.length-t-1]}return i}(n,{dir:"right",size:r})):n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let i=`0x${n.join("")}`;return tp.set(e,i),i}function tb(e,t={}){let{strict:r=!0}=t??{};try{return tg(e,{strict:r}),!0}catch{return!1}}class tw extends e6.C{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class tv extends e6.C{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class t_ extends e6.C{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function tx(e){let t=!0,r="",n=0,i="",s=!1;for(let a=0;a<e.length;a++){let o=e[a];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function","error",""].includes(i))i="";else if(i+=o,")"===o){s=!0;break}continue}if(" "===o){","!==e[a-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=o,r+=o}}if(!s)throw new e6.C("Unable to normalize signature.");return i}function tE(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=(0,e1.uT)(e);else{let r=(0,e0.e)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!(0,eX.WL)(n)){t=(0,e1.uT)(n,r);break}}}if(!t)throw new eQ.xo({signature:e});return t}(e):e;return{...n,...r?{hash:tS(n)}:{}}}function tI(e,t,r){let n;let{args:i=[],prepare:s=!0}=r??{},a=e8.tf(t,{strict:!1}),o=e.filter(e=>a?"function"===e.type||"error"===e.type?tA(e)===e8.di(t,0,4):"event"===e.type&&tS(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new tC({name:t});if(1===o.length)return{...o[0],...s?{hash:tS(o[0])}:{}};for(let e of o)if("inputs"in e){if(!i||0===i.length){if(!e.inputs||0===e.inputs.length)return{...e,...s?{hash:tS(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===i.length&&i.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return tb(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(n&&"inputs"in n&&n.inputs){let t=function e(t,r,n){for(let i in t){let s=t[i],a=r[i];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return e(s.components,a.components,n[i]);let o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes"))&&tb(n[i],{strict:!1}))return o}}(e.inputs,n.inputs,i);if(t)throw new tk({abiItem:e,type:t[0]},{abiItem:n,type:t[1]})}n=e}}let l=(()=>{if(n)return n;let[e,...t]=o;return{...e,overloads:t}})();if(!l)throw new tC({name:t});return{...l,...s?{hash:tS(l)}:{}}}function tA(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return tI(t,r)}return e[0]})();return e8.di(tS(t),0,4)}function tS(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return tI(t,r)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:th(e8.sH(function(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return tI(t,r)}return e[0]})();return tx("string"==typeof t?t:e2.B(t))}(t)))}class tk extends e6.C{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${tx(e2.B(e.abiItem))}\`, and`,`\`${t.type}\` in \`${tx(e2.B(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class tC extends e6.C{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}var tT=r(33527),tO=r(69838);let tP=/^(.*)\[([0-9]*)\]$/,tR=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tD=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tN=2n**256n-1n;function tU(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=e8.Ej(i)}let r=[],n=[],i=0;for(let s=0;s<e.length;s++){let{dynamic:a,encoded:o}=e[s];a?(r.push(e8.oB(t+i,{size:32})),n.push(o),i+=e8.Ej(o)):r.push(o)}return e8.xW(...r,...n)}function tM(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function tB(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(tB);let r=tM(e.type);return!!(r&&tB({...e,type:r[1]}))}let tj={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new t$({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new tF({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new tL({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new tL({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class tL extends e6.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class tF extends e6.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class t$ extends e6.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function tz(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new tZ({expectedLength:e.length,givenLength:t.length});let i=tU(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let i=0;i<t.length;i++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let i=tM(r.type);if(i){let[s,a]=i;return function(t,r){let{checksumAddress:n,length:i,parameter:s}=r,a=null===i;if(!Array.isArray(t))throw new tJ(t);if(!a&&t.length!==i)throw new tK({expectedLength:i,givenLength:t.length,type:`${s.type}[${i}]`});let o=!1,l=[];for(let r=0;r<t.length;r++){let i=e({checksumAddress:n,parameter:s,value:t[r]});i.dynamic&&(o=!0),l.push(i)}if(a||o){let e=tU(l);if(a){let t=e8.oB(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?e8.xW(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:e8.xW(...l.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:s,parameter:{...r,type:a}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:n,parameter:i}=r,s=!1,a=[];for(let r=0;r<i.components.length;r++){let o=i.components[r],l=Array.isArray(t)?r:o.name,c=e({checksumAddress:n,parameter:o,value:t[l]});a.push(c),c.dynamic&&(s=!0)}return{dynamic:s,encoded:s?tU(a):e8.xW(...a.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type)return function(e,t){let{checksum:r=!1}=t;return tg(e,{strict:r}),{dynamic:!1,encoded:e8.Ho(e.toLowerCase())}}(n,{checksum:t});if("bool"===r.type)return function(e){if("boolean"!=typeof e)throw new e6.C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:e8.Ho(e8.xb(e))}}(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=tD.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new e8.Ty({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:e8.oB(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),n=e8.Ej(e);if(!r){let t=e;return n%32!=0&&(t=e8.M7(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:e8.xW(e8.Ho(e8.oB(n,{size:32})),t)}}if(n!==Number.parseInt(r,10))throw new tG({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:e8.M7(e)}}(n,{type:r.type});if("string"===r.type)return function(e){let t=e8.sH(e),r=Math.ceil(e8.Ej(t)/32),n=[];for(let e=0;e<r;e++)n.push(e8.M7(e8.di(t,32*e,(e+1)*32)));return{dynamic:!0,encoded:e8.xW(e8.M7(e8.oB(e8.Ej(t),{size:32})),...n)}}(n);throw new tY(r.type)}({checksumAddress:e,parameter:t[i],value:r[i]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===i.length?"0x":i}function tq(e,t){if(e.length!==t.length)throw new tZ({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t[n];r.push(tq.encode(i,s))}return e8.xW(...r)}function tW(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?function(e){let t=[];if("string"==typeof e){let r=(0,e1.NV)(e),n=r.length;for(let e=0;e<n;e++)t.push((0,e1.Pj)(r[e],{modifiers:eX.Dv}))}else{let r=(0,e0.e)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if((0,eX.WL)(n))continue;let s=(0,e1.NV)(n),a=s.length;for(let e=0;e<a;e++)t.push((0,e1.Pj)(s[e],{modifiers:eX.Dv,structs:r}))}}if(0===t.length)throw new tT.A9({params:e});return t}(e):e}(tq||(tq={})).encode=function e(t,r,n=!1){if("address"===t)return tg(r),e8.Ho(r.toLowerCase(),n?32:0);if("string"===t)return e8.sH(r);if("bytes"===t)return r;if("bool"===t)return e8.Ho(e8.xb(r),n?32:1);let i=t.match(tD);if(i){let[e,t,s="256"]=i,a=Number.parseInt(s,10)/8;return e8.oB(r,{size:n?32:a,signed:"int"===t})}let s=t.match(tR);if(s){let[e,t]=s;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new tG({expectedSize:Number.parseInt(t,10),value:r});return e8.M7(r,n?32:0)}let a=t.match(tP);if(a&&Array.isArray(r)){let[t,n]=a,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":e8.xW(...i)}throw new tY(t)};class tH extends e6.C{constructor({data:e,parameters:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${tO.Q(t)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class tV extends e6.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class tK extends e6.C{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class tG extends e6.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${e8.Ej(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class tZ extends e6.C{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class tJ extends e6.C{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class tY extends e6.C{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function tQ(e,t={}){return tE(e,t)}function tX(e,t,r){let n=tI(e,t,r);if("function"!==n.type)throw new tC({name:t,type:"function"});return n}var t0=r(40297);async function t1(e,t){let{blockNumber:r,blockTag:n,calls:i,stateOverrides:a,traceAssetChanges:o,traceTransfers:l,validation:u}=t,d=t.account?(0,H.J)(t.account):void 0;if(o&&!d)throw new c.C("`account` is required when `traceAssetChanges` is true");let h=d?function(...e){let[t,r]=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return[function(e){let t=e.find(e=>"constructor"===e.type);if(!t)throw new tC({name:"constructor"});return t}(t),r]}return e})(),{bytecode:n,args:i}=r;return e8.xW(n,t.inputs?.length&&i?.length?tz(t.inputs,i):"0x")}(tE("constructor(bytes, bytes)"),{bytecode:eW.LX,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(...e){let[t,r=[]]=(()=>{if(Array.isArray(e[0])){let[t,r,n]=e;return[tX(t,r,{args:n}),n]}let[t,r]=e;return[t,r]})(),{overloads:n}=t,i=n?tX([t,...n],t.name,{args:r}):t,s=tA(i),a=r.length>0?tz(i.inputs,r):void 0;return a?e8.xW(s,a):s}(tQ("function getBalance(address)"),[d.address])]}):void 0,f=o?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;let{accessList:r}=await J(e,{account:d.address,...t,data:t.abi?(0,s.p)(t):t.data});return r.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],p=await eY(e,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:h}],stateOverrides:a},{calls:f.map((e,t)=>({abi:[tQ("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:e,from:t0.Xd,nonce:t})),stateOverrides:[{address:t0.Xd,nonce:0}]}]:[],{calls:[...i,{}].map(e=>({...e,from:d?.address})),stateOverrides:a},...o?[{calls:[{data:h}]},{calls:f.map((e,t)=>({abi:[tQ("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:e,from:t0.Xd,nonce:t})),stateOverrides:[{address:t0.Xd,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[tQ("function decimals() returns (uint256)")],functionName:"decimals",from:t0.Xd,nonce:t})),stateOverrides:[{address:t0.Xd,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[tQ("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:t0.Xd,nonce:t})),stateOverrides:[{address:t0.Xd,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[tQ("function symbol() returns (string)")],functionName:"symbol",from:t0.Xd,nonce:t})),stateOverrides:[{address:t0.Xd,nonce:0}]}]:[]],traceTransfers:l,validation:u}),y=o?p[2]:p[0],[g,m,,b,w,v,_,x]=o?p:[],{calls:E,...I}=y,A=E.slice(0,-1)??[],S=[...g?.calls??[],...m?.calls??[]].map(e=>"success"===e.status?(0,e_.uU)(e.data):null),k=[...b?.calls??[],...w?.calls??[]].map(e=>"success"===e.status?(0,e_.uU)(e.data):null),C=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),T=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),O=(_?.calls??[]).map(e=>"success"===e.status?e.result:null),P=[];for(let[e,t]of k.entries()){let r=S[e];if("bigint"!=typeof t||"bigint"!=typeof r)continue;let n=C[e-1],i=T[e-1],s=O[e-1],a=0===e?{address:t0.m8,decimals:18,symbol:"ETH"}:{address:f[e-1],decimals:s||n?Number(n??1):void 0,symbol:i??void 0};P.some(e=>e.token.address===a.address)||P.push({token:a,value:{pre:r,post:t,diff:t-r}})}return{assetChanges:P,block:I,results:A}}async function t2(e,t){let{abi:r,address:n,args:a,dataSuffix:o,functionName:l,...c}=t,u=c.account?(0,H.J)(c.account):e.account,d=(0,s.p)({abi:r,args:a,functionName:l});try{let{data:s}=await (0,v.T)(e,W.T,"call")({batch:!1,data:`${d}${o?o.replace("0x",""):""}`,to:n,...c,account:u}),h=(0,i.e)({abi:r,args:a,functionName:l,data:s||"0x"}),f=r.filter(e=>"name"in e&&e.name===t.functionName);return{result:h,request:{abi:f,address:n,args:a,dataSuffix:o,functionName:l,...c,account:u}}}catch(e){throw(0,ed.j)(e,{abi:r,address:n,args:a,docsPath:"/docs/contract/simulateContract",functionName:l,sender:u?.address})}}async function t6(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}let t5="0x6492649264926492649264926492649264926492649264926492649264926492";class t8 extends e6.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function t3(e,t={}){let{recovered:r}=t;if(void 0===e.r||void 0===e.s||r&&void 0===e.yParity)throw new re({signature:e});if(e.r<0n||e.r>tN)throw new rt({value:e.r});if(e.s<0n||e.s>tN)throw new rr({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new rn({value:e.yParity})}function t4(e){if(130!==e.length&&132!==e.length)throw new t7({signature:e});let t=BigInt(e8.di(e,0,32)),r=BigInt(e8.di(e,32,64)),n=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return t9(t)}catch{throw new rn({value:t})}})();return void 0===n?{r:t,s:r}:{r:t,s:r,yParity:n}}function t9(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new ri({value:e})}class t7 extends e6.C{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${e8.Ej(e8.HT(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class re extends e6.C{constructor({signature:e}){super(`Signature \`${tt.A(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class rt extends e6.C{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class rr extends e6.C{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class rn extends e6.C{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class ri extends e6.C{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}let rs=tW("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function ra(e){if("string"==typeof e){if("0x8010801080108010801080108010801080108010801080108010801080108010"!==e8.di(e,-32))throw new ro(e)}else t3(e.authorization)}class ro extends e6.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}var rl=r(62937),rc=r(40814),ru=r(20012);async function rd({address:e,authorization:t,signature:r}){return(0,eA.h)((0,rc.b)(e),await (0,ru.g)({authorization:t,signature:r}))}var rh=r(4632),rf=r(3176);async function rp(e,t){let{address:r,hash:n,erc6492VerifierAddress:i=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:s=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,a=(()=>{let e=t.signature;return(0,g.q)(e)?e:"object"==typeof e&&"r"in e&&"s"in e?(0,rf.h)(e):(0,l.My)(e)})();try{if(function(e){try{return ra(e),!0}catch{return!1}}(a))return await ry(e,{...t,multicallAddress:s,signature:a});return await rg(e,{...t,verifierAddress:i,signature:a})}catch(e){try{if((0,eA.h)((0,rc.b)(r),await (0,rh.x)({hash:n,signature:a})))return!0}catch{}if(e instanceof rb)return!1;throw e}}async function ry(e,t){let{address:r,blockNumber:i,blockTag:a,hash:o,multicallAddress:c}=t,{authorization:u,data:d,signature:h,to:p}=function(e){ra(e);let t=e8.Ro(e8.di(e,-64,-32)),r=e8.di(e,-t-64,-64),n=e8.di(e,0,-t-64),[i,s,a]=function(e,t,r={}){let{as:n="Array",checksumAddress:i=!1}=r,s="string"==typeof t?ti(t):t,a=function(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(tj);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}(s);if(0===ts(s)&&e.length>0)throw new tV;if(ts(s)&&32>ts(s))throw new tH({data:"string"==typeof t?t:e8.uK(t),parameters:e,size:ts(s)});let o=0,l="Array"===n?[]:{};for(let t=0;t<e.length;++t){let r=e[t];a.setPosition(o);let[s,c]=function e(t,r,n){let{checksumAddress:i,staticPosition:s}=n,a=tM(r.type);if(a){let[n,o]=a;return function(t,r,n){let{checksumAddress:i,length:s,staticPosition:a}=n;if(!s){let n=a+ta(t.readBytes(32)),s=n+32;t.setPosition(n);let o=ta(t.readBytes(32)),l=tB(r),c=0,u=[];for(let n=0;n<o;++n){t.setPosition(s+(l?32*n:c));let[a,o]=e(t,r,{checksumAddress:i,staticPosition:s});c+=o,u.push(a)}return t.setPosition(a+32),[u,32]}if(tB(r)){let n=a+ta(t.readBytes(32)),o=[];for(let a=0;a<s;++a){t.setPosition(n+32*a);let[s]=e(t,r,{checksumAddress:i,staticPosition:n});o.push(s)}return t.setPosition(a+32),[o,32]}let o=0,l=[];for(let n=0;n<s;++n){let[n,s]=e(t,r,{checksumAddress:i,staticPosition:a+o});o+=s,l.push(n)}return[l,o]}(t,{...r,type:o},{checksumAddress:i,length:n,staticPosition:s})}if("tuple"===r.type)return function(t,r,n){let{checksumAddress:i,staticPosition:s}=n,a=0===r.components.length||r.components.some(({name:e})=>!e),o=a?[]:{},l=0;if(tB(r)){let n=s+ta(t.readBytes(32));for(let s=0;s<r.components.length;++s){let c=r.components[s];t.setPosition(n+l);let[u,d]=e(t,c,{checksumAddress:i,staticPosition:n});l+=d,o[a?s:c?.name]=u}return t.setPosition(s+32),[o,32]}for(let n=0;n<r.components.length;++n){let c=r.components[n],[u,d]=e(t,c,{checksumAddress:i,staticPosition:s});o[a?n:c?.name]=u,l+=d}return[o,l]}(t,r,{checksumAddress:i,staticPosition:s});if("address"===r.type)return function(e,t={}){let r;let{checksum:n=!1}=t,i=e.readBytes(32);return[(r=e8.uK(function(e,t,r,n={}){var i,s;let{strict:a}=n;i=0,s=0;let o=e.slice(-20,void 0);return a&&function(e,t,r){if("number"==typeof r&&ts(e)!==r-t)throw new tu({offset:r,position:"end",size:ts(e)})}(o,-20,void 0),o}(i,0)),n?tm(r):r),32]}(t,{checksum:i});if("bool"===r.type)return[function(e,t={}){let{size:r}=t,n=e;if(void 0!==r&&(e3(n,r),n=to(n)),n.length>1||n[0]>1)throw new tl(n);return!!n[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=ta(e.readBytes(32));e.setPosition(r+t);let n=ta(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[e8.uK(i),32]}return[e8.uK(e.readBytes(Number.parseInt(i,10),32)),32]}(t,r,{staticPosition:s});if(r.type.startsWith("uint")||r.type.startsWith("int"))return function(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[n>48?function(e,t={}){let{size:r}=t;void 0!==r&&e3(e,r);let n=e8.uK(e,t);return e8.Dg(n,t)}(i,{signed:r}):ta(i,{signed:r}),32]}(t,r);if("string"===r.type)return function(e,{staticPosition:t}){let r=ta(e.readBytes(32));e.setPosition(t+r);let n=ta(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=function(e,t={}){let{size:r}=t,n=e;return void 0!==r&&(e3(n,r),n=e7(n,{dir:"right"})),tr.decode(n)}(to(e.readBytes(n,32)));return e.setPosition(t+32),[i,32]}(t,{staticPosition:s});throw new tY(r.type)}(a,r,{checksumAddress:i,staticPosition:0});o+=c,"Array"===n?l.push(s):l[r.name??t]=s}return l}(rs,r);return{authorization:function(e,t={}){return"string"==typeof e.chainId?function(e){let{address:t,chainId:r,nonce:n}=e,i=function(e){if(void 0!==e.r&&void 0!==e.s)return function(e){let t=(()=>"string"==typeof e?t4(e):e instanceof Uint8Array?t4(e8.uK(e)):"string"==typeof e.r?function(e){let t=(()=>{let t=e.v?Number(e.v):void 0,r=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof r&&(r=t9(t)),"number"!=typeof r)throw new rn({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}(e):e.v?{r:e.r,s:e.s,yParity:t9(e.v)}:{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}})();return t3(t),t}(e)}(e);return{address:t,chainId:Number(r),nonce:BigInt(n),...i}}(e):{...e,...t.signature}}({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...a&&"0x"!==a?{data:a,to:s}:{}}}(t.signature);if(await (0,eI.Q)(e,{address:r,blockNumber:i,blockTag:a})===(0,f.aP)(["0xef0100",u.address]))return await rm(e,{address:r,blockNumber:i,blockTag:a,hash:o,signature:h});let y={address:u.address,chainId:Number(u.chainId),nonce:Number(u.nonce),r:(0,l.cK)(u.r,{size:32}),s:(0,l.cK)(u.s,{size:32}),yParity:u.yParity};if(!await rd({address:r,authorization:y}))throw new rb;let g=await (0,v.T)(e,_.J,"readContract")({...c?{address:c}:{code:eW.Ez},authorizationList:[y],abi:n.v2,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...d?[{allowFailure:!0,target:p??r,callData:d}]:[],{allowFailure:!0,target:r,callData:(0,s.p)({abi:n.UW,functionName:"isValidSignature",args:[o,h]})}]]}),m=g[g.length-1]?.returnData;if(m?.startsWith("0x1626ba7e"))return!0;throw new rb}async function rg(e,t){let{address:r,factory:i,factoryData:a,hash:o,signature:l,verifierAddress:c,...d}=t,h=await (async()=>!i&&!a||function(e){try{return function(e){if(e8.di(e,-32)!==t5)throw new t8(e)}(e),!0}catch{return!1}}(l)?l:function(e){let{data:t,signature:r,to:n}=e;return e8.xW(tz(tW("address, bytes, bytes"),[n,t,r]),t5)}({data:a,signature:l,to:i}))(),f=c?{to:c,data:(0,s.p)({abi:n.E5,functionName:"isValidSig",args:[r,o,h]}),...d}:{data:(0,rl.m)({abi:n.E5,args:[r,o,h],bytecode:eW.fT}),...d},{data:p}=await (0,v.T)(e,W.T,"call")(f).catch(e=>{if(e instanceof u.zX)throw new rb;throw e});if((0,e_.Nx)(p??"0x0"))return!0;throw new rb}async function rm(e,t){let{address:r,blockNumber:i,blockTag:s,hash:a,signature:o}=t;if((await (0,v.T)(e,_.J,"readContract")({address:r,abi:n.UW,args:[a,o],blockNumber:i,blockTag:s,functionName:"isValidSignature"}).catch(e=>{if(e instanceof u.bG)throw new rb;throw e})).startsWith("0x1626ba7e"))return!0;throw new rb}class rb extends Error{}var rw=r(34540);async function rv(e,{address:t,message:r,factory:n,factoryData:i,signature:s,...a}){let o=(0,rw.A)(r);return(0,v.T)(e,rp,"verifyHash")({address:t,factory:n,factoryData:i,hash:o,signature:s,...a})}var r_=r(41132);async function rx(e,t){let{address:r,factory:n,factoryData:i,signature:s,message:a,primaryType:o,types:l,domain:c,...u}=t,d=(0,r_.Zh)({message:a,primaryType:o,types:l,domain:c});return(0,v.T)(e,rp,"verifyHash")({address:r,factory:n,factoryData:i,hash:d,signature:s,...u})}var rE=r(48071),rI=r(65724),rA=r(88429),rS=r(92342),rk=r(66692),rC=r(76790);let rT=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,rO=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;var rP=r(34354);async function rR(e,t){let{address:r,domain:n,message:i,nonce:s,scheme:a,signature:o,time:l=new Date,...c}=t,u=function(e){let{scheme:t,statement:r,...n}=e.match(rT)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:o,requestId:l,...c}=e.match(rO)?.groups??{},u=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(i);if(!u.address||!function(e){let{address:t,domain:r,message:n,nonce:i,scheme:s,time:a=new Date}=e;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&a>=n.expirationTime||n.notBefore&&a<n.notBefore)return!1;try{if(!n.address||!(0,rP.P)(n.address,{strict:!1})||t&&!(0,eA.h)(n.address,t))return!1}catch{return!1}return!0}({address:r,domain:n,message:u,nonce:s,scheme:a,time:l}))return!1;let d=(0,rw.A)(i);return rp(e,{address:u.address,hash:d,signature:o,...c})}var rD=r(23721),rN=r(29665),rU=r(46802);function rM(e){return{call:t=>(0,W.T)(e,t),createAccessList:t=>J(e,t),createBlockFilter:()=>Q(e),createContractEventFilter:t=>el(e,t),createEventFilter:t=>ec(e,t),createPendingTransactionFilter:()=>eu(e),estimateContractGas:t=>ef(e,t),estimateGas:t=>(0,eh.Q)(e,t),getBalance:t=>em(e,t),getBlobBaseFee:()=>eb(e),getBlock:t=>(0,ew.g)(e,t),getBlockNumber:t=>(0,ev.G)(e,t),getBlockTransactionCount:t=>ex(e,t),getBytecode:t=>(0,eI.Q)(e,t),getChainId:()=>(0,eE.T)(e),getCode:t=>(0,eI.Q)(e,t),getContractEvents:t=>eO(e,t),getEip712Domain:t=>eR(e,t),getEnsAddress:t=>x(e,t),getEnsAvatar:t=>$(e,t),getEnsName:t=>z(e,t),getEnsResolver:t=>q(e,t),getEnsText:t=>F(e,t),getFeeHistory:t=>eN(e,t),estimateFeesPerGas:t=>(0,ep._)(e,t),getFilterChanges:t=>eU(e,t),getFilterLogs:t=>eM(e,t),getGasPrice:()=>(0,eB.L)(e),getLogs:t=>eT(e,t),getProof:t=>ej(e,t),estimateMaxPriorityFeePerGas:t=>(0,ey.b)(e,t),fillTransaction:t=>(0,eg.a)(e,t),getStorageAt:t=>eL(e,t),getTransaction:t=>(0,eF.x)(e,t),getTransactionConfirmations:t=>e$(e,t),getTransactionCount:t=>(0,ez.y)(e,t),getTransactionReceipt:t=>(0,eq.h)(e,t),multicall:t=>eH(e,t),prepareTransactionRequest:t=>(0,rD.ft)(e,t),readContract:t=>(0,_.J)(e,t),sendRawTransaction:t=>(0,rN.L)(e,t),sendRawTransactionSync:t=>(0,rU.s)(e,t),simulate:t=>eY(e,t),simulateBlocks:t=>eY(e,t),simulateCalls:t=>t1(e,t),simulateContract:t=>t2(e,t),verifyHash:t=>rp(e,t),verifyMessage:t=>rv(e,t),verifySiweMessage:t=>rR(e,t),verifyTypedData:t=>rx(e,t),uninstallFilter:t=>t6(e,t),waitForTransactionReceipt:t=>(0,rE.n)(e,t),watchBlocks:t=>(function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:a,poll:o,pollingInterval:l=e.pollingInterval}){let c,u,d,h;let f=void 0!==o?o:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),p=a??!1;return f?(()=>{let a=(0,rk.A)(["watchBlocks",e.uid,t,r,n,p,l]);return(0,rA.lB)(a,{onBlock:i,onError:s},i=>(0,rS.w)(async()=>{try{let n=await (0,v.T)(e,ew.g,"getBlock")({blockTag:t,includeTransactions:p});if(null!==n.number&&c?.number!=null){if(n.number===c.number)return;if(n.number-c.number>1&&r)for(let t=c?.number+1n;t<n.number;t++){let r=await (0,v.T)(e,ew.g,"getBlock")({blockNumber:t,includeTransactions:p});i.onBlock(r,c),c=r}}(c?.number==null||"pending"===t&&n?.number==null||null!==n.number&&n.number>c.number)&&(i.onBlock(n,c),c=n)}catch(e){i.onError?.(e)}},{emitOnBegin:n,interval:l}))})():(u=!0,d=!0,h=()=>u=!1,(async()=>{try{n&&(0,v.T)(e,ew.g,"getBlock")({blockTag:t,includeTransactions:p}).then(e=>{u&&d&&(i(e,void 0),d=!1)}).catch(s);let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await r.subscribe({params:["newHeads"],async onData(t){if(!u)return;let r=await (0,v.T)(e,ew.g,"getBlock")({blockNumber:t.result?.number,includeTransactions:p}).catch(()=>{});u&&(i(r,c),d=!1,c=r)},onError(e){s?.(e)}});h=a,u||h()}catch(e){s?.(e)}})(),()=>h())})(e,t),watchBlockNumber:t=>(0,rI.q)(e,t),watchContractEvent:t=>(function(e,t){let{abi:r,address:n,args:i,batch:s=!0,eventName:a,fromBlock:o,onError:l,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:h}=t;return(void 0!==u?u:"bigint"==typeof o||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{let t=h??!1,u=(0,rk.A)(["watchContractEvent",n,i,s,e.uid,a,d,t,o]);return(0,rA.lB)(u,{onLogs:c,onError:l},l=>{let c,u;void 0!==o&&(c=o-1n);let h=!1,f=(0,rS.w)(async()=>{if(!h){try{u=await (0,v.T)(e,el,"createContractEventFilter")({abi:r,address:n,args:i,eventName:a,strict:t,fromBlock:o})}catch{}h=!0;return}try{let o;if(u)o=await (0,v.T)(e,eU,"getFilterChanges")({filter:u});else{let s=await (0,v.T)(e,ev.G,"getBlockNumber")({});o=c&&c<s?await (0,v.T)(e,eO,"getContractEvents")({abi:r,address:n,args:i,eventName:a,fromBlock:c+1n,toBlock:s,strict:t}):[],c=s}if(0===o.length)return;if(s)l.onLogs(o);else for(let e of o)l.onLogs([e])}catch(e){u&&e instanceof rC.Di&&(h=!1),l.onError?.(e)}},{emitOnBegin:!0,interval:d});return async()=>{u&&await (0,v.T)(e,t6,"uninstallFilter")({filter:u}),f()}})})():(()=>{let t=(0,rk.A)(["watchContractEvent",n,i,s,e.uid,a,d,h??!1]),o=!0,u=()=>o=!1;return(0,rA.lB)(t,{onLogs:c,onError:l},t=>((async()=>{try{let s=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),l=a?ea({abi:r,eventName:a,args:i}):[],{unsubscribe:c}=await s.subscribe({params:["logs",{address:n,topics:l}],onData(e){if(!o)return;let n=e.result;try{let{eventName:e,args:i}=(0,eS.j)({abi:r,data:n.data,topics:n.topics,strict:h}),s=(0,eC.e)(n,{args:i,eventName:e});t.onLogs([s])}catch(s){let e,r;if(s instanceof X.fo||s instanceof X.l3){if(h)return;e=s.abiItem.name,r=s.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let i=(0,eC.e)(n,{args:r?[]:{},eventName:e});t.onLogs([i])}},onError(e){t.onError?.(e)}});u=c,o||u()}catch(e){l?.(e)}})(),()=>u()))})()})(e,t),watchEvent:t=>(function(e,{address:t,args:r,batch:n=!0,event:i,events:s,fromBlock:a,onError:o,onLogs:l,poll:c,pollingInterval:u=e.pollingInterval,strict:d}){let h,f;let p=void 0!==c?c:"bigint"==typeof a||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),y=d??!1;return p?(()=>{let c=(0,rk.A)(["watchEvent",t,r,n,e.uid,i,u,a]);return(0,rA.lB)(c,{onLogs:l,onError:o},o=>{let l,c;void 0!==a&&(l=a-1n);let d=!1,h=(0,rS.w)(async()=>{if(!d){try{c=await (0,v.T)(e,ec,"createEventFilter")({address:t,args:r,event:i,events:s,strict:y,fromBlock:a})}catch{}d=!0;return}try{let a;if(c)a=await (0,v.T)(e,eU,"getFilterChanges")({filter:c});else{let n=await (0,v.T)(e,ev.G,"getBlockNumber")({});a=l&&l!==n?await (0,v.T)(e,eT,"getLogs")({address:t,args:r,event:i,events:s,fromBlock:l+1n,toBlock:n}):[],l=n}if(0===a.length)return;if(n)o.onLogs(a);else for(let e of a)o.onLogs([e])}catch(e){c&&e instanceof rC.Di&&(d=!1),o.onError?.(e)}},{emitOnBegin:!0,interval:u});return async()=>{c&&await (0,v.T)(e,t6,"uninstallFilter")({filter:c}),h()}})})():(h=!0,f=()=>h=!1,(async()=>{try{let n=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),a=s??(i?[i]:void 0),c=[];a&&(c=[a.flatMap(e=>ea({abi:[e],eventName:e.name,args:r}))],i&&(c=c[0]));let{unsubscribe:u}=await n.subscribe({params:["logs",{address:t,topics:c}],onData(e){if(!h)return;let t=e.result;try{let{eventName:e,args:r}=(0,eS.j)({abi:a??[],data:t.data,topics:t.topics,strict:y}),n=(0,eC.e)(t,{args:r,eventName:e});l([n])}catch(i){let e,r;if(i instanceof X.fo||i instanceof X.l3){if(d)return;e=i.abiItem.name,r=i.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let n=(0,eC.e)(t,{args:r?[]:{},eventName:e});l([n])}},onError(e){o?.(e)}});f=u,h||f()}catch(e){o?.(e)}})(),()=>f())})(e,t),watchPendingTransactions:t=>(function(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=e.pollingInterval}){let a,o;return(void 0!==i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?(()=>{let i=(0,rk.A)(["watchPendingTransactions",e.uid,t,s]);return(0,rA.lB)(i,{onTransactions:n,onError:r},r=>{let n;let i=(0,rS.w)(async()=>{try{if(!n)try{n=await (0,v.T)(e,eu,"createPendingTransactionFilter")({});return}catch(e){throw i(),e}let s=await (0,v.T)(e,eU,"getFilterChanges")({filter:n});if(0===s.length)return;if(t)r.onTransactions(s);else for(let e of s)r.onTransactions([e])}catch(e){r.onError?.(e)}},{emitOnBegin:!0,interval:s});return async()=>{n&&await (0,v.T)(e,t6,"uninstallFilter")({filter:n}),i()}})})():(a=!0,o=()=>a=!1,(async()=>{try{let{unsubscribe:t}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!a)return;let t=e.result;n([t])},onError(e){r?.(e)}});o=t,a||o()}catch(e){r?.(e)}})(),()=>o())})(e,t)}}},67128:(e,t,r)=>{"use strict";r.d(t,{o:()=>d});var n=r(80477),i=r(40928),s=r(76790),a=r(98979);let o=new(r(46140)).A(8192);var l=r(9869),c=r(66692),u=r(43071);function d({key:e,methods:t,name:r,request:d,retryCount:h=3,retryDelay:f=150,timeout:p,type:y},g){return{config:{key:e,methods:t,name:r,request:d,retryCount:h,retryDelay:f,timeout:p,type:y},request:function(e,t={}){return async(r,u={})=>{let{dedupe:d=!1,methods:h,retryDelay:f=150,retryCount:p=3,uid:y}={...t,...u},{method:g}=r;if(h?.exclude?.includes(g)||h?.include&&!h.include.includes(g))throw new s.ab(Error("method not supported"),{method:g});let m=d?(0,a.i3)(`${y}.${(0,c.A)(r)}`):void 0;return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(o.get(r))return o.get(r);let n=e().finally(()=>o.delete(r));return o.set(r,n),n}(()=>(0,l.b)(async()=>{try{return await e(r)}catch(e){switch(e.code){case s.XU.code:throw new s.XU(e);case s.CL.code:throw new s.CL(e);case s.Gi.code:throw new s.Gi(e,{method:r.method});case s.D5.code:throw new s.D5(e);case s.bq.code:throw new s.bq(e);case s.Di.code:throw new s.Di(e);case s.hA.code:throw new s.hA(e);case s.qZ.code:throw new s.qZ(e);case s.YW.code:throw new s.YW(e);case s.ab.code:throw new s.ab(e,{method:r.method});case s.s0.code:throw new s.s0(e);case s.xQ.code:throw new s.xQ(e);case s.vx.code:throw new s.vx(e);case s.sV.code:throw new s.sV(e);case s.Sf.code:throw new s.Sf(e);case s.RV.code:throw new s.RV(e);case s.xq.code:throw new s.xq(e);case s.ch.code:throw new s.ch(e);case s.L5.code:throw new s.L5(e);case s.WT.code:throw new s.WT(e);case s.hl.code:throw new s.hl(e);case s.cg.code:throw new s.cg(e);case s.uL.code:throw new s.uL(e);case s.G1.code:throw new s.G1(e);case s.jz.code:throw new s.jz(e);case 5e3:throw new s.vx(e);default:if(e instanceof n.C)throw e;throw new s.MI(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof i.Ci){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return~~(1<<e)*f},retryCount:p,shouldRetry:({error:e})=>"code"in e&&"number"==typeof e.code?-1===e.code||e.code===s.s0.code||e.code===s.bq.code:!(e instanceof i.Ci)||!e.status||403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status}),{enabled:d,id:m})}}(d,{methods:t,retryCount:h,retryDelay:f,uid:(0,u.L)()}),value:g}}},45125:(e,t,r)=>{"use strict";r.d(t,{Np:()=>o});var n=r(87939),i=r(76790),s=r(23646),a=r(67128);function o(e,t={}){let{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:c=l,retryCount:u,retryDelay:d}=t;return({chain:t,pollingInterval:o=4e3,timeout:l,...h})=>{let f=e,p=()=>{},y=(0,a.o)({key:r,name:n,async request({method:e,params:r}){let n;let i=async(s=0)=>{let a=f[s]({...h,chain:t,retryCount:0,timeout:l});try{let t=await a.request({method:e,params:r});return p({method:e,params:r,response:t,transport:a,status:"success"}),t}catch(o){if(p({error:o,method:e,params:r,transport:a,status:"error"}),c(o)||s===f.length-1||!(n??=f.slice(s+1).some(r=>{let{include:n,exclude:i}=r({chain:t}).config.methods||{};return n?n.includes(e):!i||!i.includes(e)})))throw o;return i(s+1)}};return i()},retryCount:u,retryDelay:d,type:"fallback"},{onResponse:e=>p=e,transports:f.map(e=>e({chain:t,retryCount:0}))});if(i){let e="object"==typeof i?i:{};!function({chain:e,interval:t=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:a=1e3,transports:o,weights:l={}}){let{stability:c=.7,latency:u=.3}=l,d=[],h=async()=>{let l=await Promise.all(o.map(async t=>{let r,i;let s=t({chain:e,retryCount:0,timeout:a}),o=Date.now();try{await (n?n({transport:s}):s.request({method:"net_listening"})),i=1}catch{i=0}finally{r=Date.now()}return{latency:r-o,success:i}}));d.push(l),d.length>i&&d.shift();let f=Math.max(...d.map(e=>Math.max(...e.map(({latency:e})=>e))));r(o.map((e,t)=>{let r=d.map(e=>e[t].latency),n=r.reduce((e,t)=>e+t,0)/r.length,i=d.map(e=>e[t].success),s=i.reduce((e,t)=>e+t,0)/i.length;return 0===s?[0,t]:[u*(1-n/f)+c*s,t]}).sort((e,t)=>t[0]-e[0]).map(([,e])=>o[e])),await (0,s.u)(t),h()};h()}({chain:t,interval:e.interval??o,onTransports:e=>f=e,ping:e.ping,sampleCount:e.sampleCount,timeout:e.timeout,transports:f,weights:e.weights})}return y}}function l(e){return!!("code"in e&&"number"==typeof e.code&&(e.code===i.YW.code||e.code===i.vx.code||n.A7.nodeMessage.test(e.message)||5e3===e.code))}},96355:(e,t,r)=>{"use strict";r.d(t,{L:()=>l});var n=r(40928),i=r(89296),s=r(40304),a=r(68219),o=r(67128);function l(e,t={}){let{batch:r,fetchFn:c,fetchOptions:u,key:d="http",methods:h,name:f="HTTP JSON-RPC",onFetchRequest:p,onFetchResponse:y,retryDelay:g,raw:m}=t;return({chain:l,retryCount:b,timeout:w})=>{let{batchSize:v=1e3,wait:_=0}="object"==typeof r?r:{},x=t.retryCount??b,E=w??t.timeout??1e4,I=e||l?.rpcUrls.default.http[0];if(!I)throw new i.b;let A=(0,a.d)(I,{fetchFn:c,fetchOptions:u,onRequest:p,onResponse:y,timeout:E});return(0,o.o)({key:d,methods:h,name:f,async request({method:e,params:t}){let i={method:e,params:t},{schedule:a}=(0,s.u)({id:I,wait:_,shouldSplitBatch:e=>e.length>v,fn:e=>A.request({body:e}),sort:(e,t)=>e.id-t.id}),o=async e=>r?a(e):[await A.request({body:e})],[{error:l,result:c}]=await o(i);if(m)return{error:l,result:c};if(l)throw new n.J8({body:i,error:l,url:I});return c},retryCount:x,retryDelay:g,timeout:E,type:"http"},{fetchOptions:u,url:I})}}},92188:(e,t,r)=>{"use strict";r.d(t,{K:()=>f});var n=r(40928),i=r(89296);r(68219);var s=r(40304),a=r(40772),o=r(64602);let l=new Map;async function c(e){let{getSocket:t,keepAlive:r=!0,key:i="socket",reconnect:c=!0,url:u}=e,{interval:d=3e4}="object"==typeof r?r:{},{attempts:h=5,delay:f=2e3}="object"==typeof c?c:{},p=JSON.stringify({keepAlive:r,key:i,url:u,reconnect:c}),y=l.get(p);if(y)return y;let g=0,{schedule:m}=(0,s.u)({id:p,fn:async()=>{let e,i,s;let m=new Map,b=new Map,w=!1;function v(){c&&g<h?w||(w=!0,g++,i?.close(),setTimeout(async()=>{await _().catch(console.error),w=!1},f)):(m.clear(),b.clear())}async function _(){let a=await t({onClose(){for(let e of m.values())e.onError?.(new n.Oz({url:u}));for(let e of b.values())e.onError?.(new n.Oz({url:u}));v()},onError(t){for(let r of(e=t,m.values()))r.onError?.(e);for(let t of b.values())t.onError?.(e);v()},onOpen(){e=void 0,g=0},onResponse(e){let t="eth_subscription"===e.method,r=t?e.params.subscription:e.id,n=t?b:m,i=n.get(r);i&&i.onResponse(e),t||n.delete(r)}});if(i=a,r&&(s&&clearInterval(s),s=setInterval(()=>i.ping?.(),d)),c&&b.size>0)for(let[e,{onResponse:t,body:r,onError:n}]of b.entries())r&&(b.delete(e),y?.request({body:r,onResponse:t,onError:n}));return a}return await _(),e=void 0,y={close(){s&&clearInterval(s),i.close(),l.delete(p)},get socket(){return i},request({body:t,onError:r,onResponse:n}){e&&r&&r(e);let s=t.id??o.q.take(),a=e=>{("number"!=typeof e.id||s===e.id)&&("eth_subscribe"===t.method&&"string"==typeof e.result&&b.set(e.result,{onResponse:a,onError:r,body:t}),"eth_unsubscribe"===t.method&&b.delete(t.params?.[0]),n(e))};m.set(s,{onResponse:a,onError:r});try{i.request({body:{jsonrpc:"2.0",id:s,...t}})}catch(e){r?.(e)}},requestAsync({body:e,timeout:t=1e4}){return(0,a.w)(()=>new Promise((t,r)=>this.request({body:e,onError:r,onResponse:t})),{errorInstance:new n.MU({body:e,url:u}),timeout:t})},requests:m,subscriptions:b,url:u},l.set(p,y),[y]}}),[b,[w]]=await m();return w}async function u(e,t={}){let{keepAlive:i,reconnect:s}=t;return c({async getSocket({onClose:t,onError:i,onOpen:s,onResponse:a}){let o=await r.e(8065).then(r.bind(r,98065)).then(e=>e.WebSocket),l=new o(e);function c(){l.removeEventListener("close",c),l.removeEventListener("message",u),l.removeEventListener("error",i),l.removeEventListener("open",s),t()}function u({data:e}){if("string"!=typeof e||0!==e.trim().length)try{let t=JSON.parse(e);a(t)}catch(e){i(e)}}l.addEventListener("close",c),l.addEventListener("message",u),l.addEventListener("error",i),l.addEventListener("open",s),l.readyState===o.CONNECTING&&await new Promise((e,t)=>{l&&(l.onopen=e,l.onerror=t)});let{close:d}=l;return Object.assign(l,{close(){d.bind(l)(),c()},ping(){try{if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new n.Pr({url:l.url,cause:new n.Oz({url:l.url})});l.send(JSON.stringify({jsonrpc:"2.0",id:null,method:"net_version",params:[]}))}catch(e){i(e)}},request({body:e}){if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new n.Pr({body:e,url:l.url,cause:new n.Oz({url:l.url})});return l.send(JSON.stringify(e))}})},keepAlive:i,reconnect:s,url:e})}async function d(e){let t=await u(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}var h=r(67128);function f(e,t={}){let{keepAlive:r,key:s="webSocket",methods:a,name:o="WebSocket JSON-RPC",reconnect:l,retryDelay:c}=t;return({chain:f,retryCount:p,timeout:y})=>{let g=t.retryCount??p,m=y??t.timeout??1e4,b=e||f?.rpcUrls.default.webSocket?.[0],w={keepAlive:r,reconnect:l};if(!b)throw new i.b;return(0,h.o)({key:s,methods:a,name:o,async request({method:e,params:t}){let r={method:e,params:t},i=await u(b,w),{error:s,result:a}=await i.requestAsync({body:r,timeout:m});if(s)throw new n.J8({body:r,error:s,url:b});return a},retryCount:g,retryDelay:c,timeout:m,type:"webSocket"},{getSocket:()=>d(b),getRpcClient:()=>u(b,w),async subscribe({params:e,onData:t,onError:r}){let n=await u(b,w),{result:i}=await new Promise((i,s)=>n.request({body:{method:"eth_subscribe",params:e},onError(e){s(e),r?.(e)},onResponse(e){if(e.error){s(e.error),r?.(e.error);return}if("number"==typeof e.id){i(e);return}"eth_subscription"===e.method&&t(e.params)}}));return{subscriptionId:i,unsubscribe:async()=>new Promise(e=>n.request({body:{method:"eth_unsubscribe",params:[i]},onResponse:e}))}}})}}},38472:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>a,E5:()=>d,Rm:()=>c,SJ:()=>l,UW:()=>u,b2:()=>i,oX:()=>o,v2:()=>n,xw:()=>h});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],s=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],a=[...s,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],o=[...s,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],l=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],c=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],u=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],d=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],h=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}]},40297:(e,t,r)=>{"use strict";r.d(t,{Xd:()=>i,m8:()=>n});let n="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",i="0x0000000000000000000000000000000000000000"},53850:(e,t,r)=>{"use strict";r.d(t,{I:()=>n,t:()=>i});let n="0x6492649264926492649264926492649264926492649264926492649264926492",i="0x0000000000000000000000000000000000000000000000000000000000000000"},33726:(e,t,r)=>{"use strict";r.d(t,{Ez:()=>a,LX:()=>n,WN:()=>i,fT:()=>s});let n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",s="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",a="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"},6999:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});let n=1},26542:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>i,Au:()=>n});let n=2n**16n-1n,i=2n**256n-1n},4382:(e,t,r)=>{"use strict";r.d(t,{J9:()=>s,Mc:()=>i,fD:()=>n});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},s={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},57317:(e,t,r)=>{"use strict";r.d(t,{eL:()=>n,sz:()=>i});let n={gwei:9,wei:18},i={ether:-9,wei:9}},36991:(e,t,r)=>{"use strict";r.d(t,{BI:()=>E,EB:()=>_,Iy:()=>l,Iz:()=>w,MR:()=>v,M_:()=>b,Nc:()=>u,O:()=>c,Wl:()=>O,Wq:()=>y,YE:()=>h,YF:()=>o,YW:()=>a,ZP:()=>f,_z:()=>g,d_:()=>T,dm:()=>C,fo:()=>I,gH:()=>d,j:()=>k,kE:()=>m,l3:()=>A,nK:()=>S,nM:()=>x,yy:()=>p});var n=r(57880),i=r(91149),s=r(80477);class a extends s.C{constructor({docsPath:e}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:e,name:"AbiConstructorNotFoundError"})}}class o extends s.C{constructor({docsPath:e}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class l extends s.C{constructor({data:e,params:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${(0,n.A)(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class c extends s.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class u extends s.C{constructor({expectedLength:e,givenLength:t,type:r}){super(`ABI encoding array length mismatch for type ${r}.
Expected length: ${e}
Given length: ${t}`,{name:"AbiEncodingArrayLengthMismatchError"})}}class d extends s.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.E)(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class h extends s.C{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${e}
Given length (values): ${t}`,{name:"AbiEncodingLengthMismatchError"})}}class f extends s.C{constructor(e,{docsPath:t}){super(`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).
Cannot encode error result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the inputs exist on it.`,{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class p extends s.C{constructor(e,{docsPath:t}={}){super(`Error ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.`,{docsPath:t,name:"AbiErrorNotFoundError"})}}class y extends s.C{constructor(e,{docsPath:t}){super(`Encoded error signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.
You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class g extends s.C{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class m extends s.C{constructor(e,{docsPath:t}){super(`Encoded event signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class b extends s.C{constructor(e,{docsPath:t}={}){super(`Event ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.`,{docsPath:t,name:"AbiEventNotFoundError"})}}class w extends s.C{constructor(e,{docsPath:t}={}){super(`Function ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionNotFoundError"})}}class v extends s.C{constructor(e,{docsPath:t}){super(`Function "${e}" does not contain any \`outputs\` on ABI.
Cannot decode function result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class _ extends s.C{constructor(e,{docsPath:t}){super(`Encoded function signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class x extends s.C{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,n.B)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,n.B)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class E extends s.C{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}}class I extends s.C{constructor({abiItem:e,data:t,params:r,size:i}){super(`Data size of ${i} bytes is too small for non-indexed event parameters.`,{metaMessages:[`Params: (${(0,n.A)(r,{includeName:!0})})`,`Data:   ${t} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=i}}class A extends s.C{constructor({abiItem:e,param:t}){super(`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,n.B)(e,{includeName:!0})}".`,{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class S extends s.C{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiEncodingType"})}}class k extends s.C{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid decoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiDecodingType"})}}class C extends s.C{constructor(e){super(`Value "${e}" is not a valid array.`,{name:"InvalidArrayError"})}}class T extends s.C{constructor(e){super(`"${e}" is not a valid definition type.
Valid types: "function", "event", "error"`,{name:"InvalidDefinitionTypeError"})}}class O extends s.C{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}},66734:(e,t,r)=>{"use strict";r.d(t,{T:()=>i,Z:()=>s});var n=r(80477);class i extends n.C{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class s extends n.C{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}},61117:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(80477);class i extends n.C{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},80477:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});let n="2.41.2",i={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${n}`};class s extends Error{constructor(e,t={}){let r=t.cause instanceof s?t.cause.details:t.cause?.message?t.cause.message:t.details,a=t.cause instanceof s&&t.cause.docsPath||t.docsPath,o=i.getDocsUrl?.({...t,docsPath:a});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...i.version?[`Version: ${i.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=a,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=n}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}},20624:(e,t,r)=>{"use strict";r.d(t,{PK:()=>l,iq:()=>s,uP:()=>o,zF:()=>a});var n=r(6999),i=r(80477);class s extends i.C{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class a extends i.C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class o extends i.C{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class l extends i.C{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${n.E}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}},62496:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(80477);class i extends n.C{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}},89780:(e,t,r)=>{"use strict";r.d(t,{EH:()=>s,YE:()=>o,jF:()=>a,qD:()=>l,rj:()=>i});var n=r(80477);class i extends n.C{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class s extends n.C{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class a extends n.C{constructor(){super("No chain was provided to the request.\nPlease provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient.",{name:"ChainNotFoundError"})}}class o extends n.C{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class l extends n.C{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}},88085:(e,t,r)=>{"use strict";r.d(t,{zX:()=>m,bG:()=>b,M:()=>w,rR:()=>v,Po:()=>_,$S:()=>x});var n=r(98722),i=r(4382),s=r(17169),a=r(57880),o=r(66692);function l({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,o.A)(t[r]):t[r]}`).join(", ")})`}var c=r(4617),u=r(69595),d=r(18773),h=r(36991),f=r(80477),p=r(56044),y=r(45757),g=r(9740);class m extends f.C{constructor(e,{account:t,docsPath:r,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:h,to:f,value:g,stateOverride:m}){let b=t?(0,n.J)(t):void 0,w=(0,y.aO)({from:b?.address,to:f,value:void 0!==g&&`${(0,u.c)(g)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${(0,d.Q)(o)} gwei`,maxFeePerGas:void 0!==l&&`${(0,d.Q)(l)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${(0,d.Q)(c)} gwei`,nonce:h});m&&(w+=`
${(0,p.uj)(m)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class b extends f.C{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o}){let u=(0,c.iY)({abi:t,args:r,name:s}),d=u?l({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=u?(0,a.B)(u,{includeName:!0}):void 0,f=(0,y.aO)({address:n&&(0,g.R)(n),function:h,args:d&&"()"!==d&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=s,this.sender=o}}class w extends f.C{constructor({abi:e,data:t,functionName:r,message:n}){let o,c,u,d,f;if(t&&"0x"!==t)try{let{abiItem:r,errorName:n,args:o}=c=(0,s.W)({abi:e,data:t});if("Error"===n)d=o[0];else if("Panic"===n){let[e]=o;d=i.fD[e]}else{let e=r?(0,a.B)(r,{includeName:!0}):void 0,t=r&&o?l({abiItem:r,args:o,includeFunctionName:!1,includeName:!1}):void 0;u=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){o=e}else n&&(d=n);o instanceof h.Wq&&(f=o.signature,u=[`Unable to decode signature "${f}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${f}.`]),super(d&&"execution reverted"!==d||f?[`The contract function "${r}" reverted with the following ${f?"signature":"reason"}:`,d||f].join("\n"):`The contract function "${r}" reverted.`,{cause:o,metaMessages:u,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.raw=t,this.reason=d,this.signature=f}}class v extends f.C{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class _ extends f.C{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class x extends f.C{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},90305:(e,t,r)=>{"use strict";r.d(t,{B4:()=>i,SK:()=>s,hX:()=>a});var n=r(80477);class i extends n.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class s extends n.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class a extends n.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}},57643:(e,t,r)=>{"use strict";r.d(t,{Fl:()=>s,NV:()=>a,ii:()=>i});var n=r(80477);class i extends n.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class s extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class a extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}},93970:(e,t,r)=>{"use strict";r.d(t,{H2:()=>a,Ty:()=>i,u:()=>o,xO:()=>s});var n=r(80477);class i extends n.C{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class s extends n.C{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class a extends n.C{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class o extends n.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}},62333:(e,t,r)=>{"use strict";r.d(t,{RR:()=>o,pw:()=>a,sM:()=>s});var n=r(18773),i=r(80477);class s extends i.C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class a extends i.C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class o extends i.C{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,n.Q)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},87939:(e,t,r)=>{"use strict";r.d(t,{A7:()=>s,BG:()=>a,Fo:()=>f,K0:()=>l,Oh:()=>c,RM:()=>g,jj:()=>o,k5:()=>d,lN:()=>y,lY:()=>h,uC:()=>p,vW:()=>u});var n=r(18773),i=r(80477);class s extends i.C{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(s,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class a extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.Q)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class o extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.Q)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class l extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class c extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.C{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class h extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class f extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends i.C{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class y extends i.C{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,n.Q)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.Q)(r)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(y,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class g extends i.C{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}},40928:(e,t,r)=>{"use strict";r.d(t,{Ci:()=>a,J8:()=>l,MU:()=>u,Oz:()=>c,Pr:()=>o});var n=r(66692),i=r(80477),s=r(9740);class a extends i.C{constructor({body:e,cause:t,details:r,headers:i,status:a,url:o}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${(0,s.I)(o)}`,e&&`Request body: ${(0,n.A)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=a,this.url=o}}class o extends i.C{constructor({body:e,cause:t,details:r,url:i}){super("WebSocket request failed.",{cause:t,details:r,metaMessages:[`URL: ${(0,s.I)(i)}`,e&&`Request body: ${(0,n.A)(e)}`].filter(Boolean),name:"WebSocketRequestError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=i}}class l extends i.C{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,s.I)(r)}`,`Request body: ${(0,n.A)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data,this.url=r}}class c extends i.C{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${(0,s.I)(e)}`].filter(Boolean),name:"SocketClosedError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=e}}class u extends i.C{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,s.I)(t)}`,`Request body: ${(0,n.A)(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=t}}},76790:(e,t,r)=>{"use strict";r.d(t,{Bh:()=>a,CL:()=>l,D5:()=>u,Di:()=>h,G1:()=>O,Gi:()=>c,L5:()=>A,MI:()=>R,RV:()=>x,Sf:()=>_,WT:()=>S,XU:()=>o,YW:()=>y,ab:()=>g,bq:()=>d,cg:()=>C,ch:()=>I,hA:()=>f,hl:()=>k,jz:()=>P,qZ:()=>p,s0:()=>m,sV:()=>v,uL:()=>T,vx:()=>w,xQ:()=>b,xq:()=>E});var n=r(80477),i=r(40928);class s extends n.C{constructor(e,{code:t,docsPath:r,metaMessages:n,name:s,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof i.J8?e.code:t??-1}}class a extends s{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class o extends s{constructor(e){super(e,{code:o.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class l extends s{constructor(e){super(e,{code:l.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class c extends s{constructor(e,{method:t}={}){super(e,{code:c.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class u extends s{constructor(e){super(e,{code:u.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends s{constructor(e){super(e,{code:d.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class h extends s{constructor(e){super(e,{code:h.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class f extends s{constructor(e){super(e,{code:f.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends s{constructor(e){super(e,{code:p.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class y extends s{constructor(e){super(e,{code:y.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class g extends s{constructor(e,{method:t}={}){super(e,{code:g.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class m extends s{constructor(e){super(e,{code:m.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends s{constructor(e){super(e,{code:b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class w extends a{constructor(e){super(e,{code:w.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class v extends a{constructor(e){super(e,{code:v.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class _ extends a{constructor(e,{method:t}={}){super(e,{code:_.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class x extends a{constructor(e){super(e,{code:x.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class E extends a{constructor(e){super(e,{code:E.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class I extends a{constructor(e){super(e,{code:I.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class A extends a{constructor(e){super(e,{code:A.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class S extends a{constructor(e){super(e,{code:S.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class k extends a{constructor(e){super(e,{code:k.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class C extends a{constructor(e){super(e,{code:C.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class T extends a{constructor(e){super(e,{code:T.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class O extends a{constructor(e){super(e,{code:O.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class P extends a{constructor(e){super(e,{code:P.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class R extends s{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},56044:(e,t,r)=>{"use strict";r.d(t,{Hi:()=>i,ft:()=>s,uj:()=>o});var n=r(80477);class i extends n.C{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class s extends n.C{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function a(e){return e.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function o(e){return e.reduce((e,{address:t,...r})=>{let n=`${e}    ${t}:
`;return r.nonce&&(n+=`      nonce: ${r.nonce}
`),r.balance&&(n+=`      balance: ${r.balance}
`),r.code&&(n+=`      code: ${r.code}
`),r.state&&(n+="      state:\n",n+=a(r.state)),r.stateDiff&&(n+="      stateDiff:\n",n+=a(r.stateDiff)),n},"  State Override:\n").slice(0,-1)}},45757:(e,t,r)=>{"use strict";r.d(t,{$s:()=>u,Kc:()=>h,Kz:()=>d,Sq:()=>f,Vg:()=>l,WA:()=>p,aO:()=>a,fZ:()=>c,zW:()=>o});var n=r(69595),i=r(18773),s=r(80477);function a(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}class o extends s.C{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class l extends s.C{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",a(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class c extends s.C{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class u extends s.C{constructor(e,{account:t,docsPath:r,chain:s,data:o,gas:l,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:f,value:p}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",a({chain:s&&`${s?.name} (id: ${s?.id})`,from:t?.address,to:f,value:void 0!==p&&`${(0,n.c)(p)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:l,gasPrice:void 0!==c&&`${(0,i.Q)(c)} gwei`,maxFeePerGas:void 0!==u&&`${(0,i.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,i.Q)(d)} gwei`,nonce:h})].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class d extends s.C{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:n,index:i}){let s="Transaction";r&&void 0!==i&&(s=`Transaction at block time "${r}" at index "${i}"`),e&&void 0!==i&&(s=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(s=`Transaction at block number "${t}" at index "${i}"`),n&&(s=`Transaction with hash "${n}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class h extends s.C{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class f extends s.C{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class p extends s.C{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}},89296:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(80477);class i extends n.C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}},9740:(e,t,r)=>{"use strict";r.d(t,{I:()=>i,R:()=>n});let n=e=>e,i=e=>e},68424:(e,t,r)=>{"use strict";r.d(t,{n:()=>y});var n=r(36991),i=r(40814),s=r(95389),a=r(91149),o=r(22162),l=r(67368),c=r(93970),u=r(45732),d=r(98979);function h(e,t={}){void 0!==t.size&&(0,u.Sl)(e,{size:t.size});let r=(0,d.My)(e,t);return(0,u.ME)(r,t)}var f=r(76397),p=r(46304);function y(e,t){let r="string"==typeof t?(0,f.aT)(t):t,y=(0,s.l)(r);if(0===(0,a.E)(r)&&e.length>0)throw new n.O;if((0,a.E)(t)&&32>(0,a.E)(t))throw new n.Iy({data:"string"==typeof t?t:(0,d.My)(t),params:e,size:(0,a.E)(t)});let m=0,b=[];for(let t=0;t<e.length;++t){let r=e[t];y.setPosition(m);let[s,a]=function e(t,r,{staticPosition:s}){let a=(0,p.k)(r.type);if(a){let[n,i]=a;return function(t,r,{length:n,staticPosition:i}){if(!n){let n=i+h(t.readBytes(32)),s=n+32;t.setPosition(n);let a=h(t.readBytes(32)),o=g(r),l=0,c=[];for(let n=0;n<a;++n){t.setPosition(s+(o?32*n:l));let[i,a]=e(t,r,{staticPosition:s});l+=a,c.push(i)}return t.setPosition(i+32),[c,32]}if(g(r)){let s=i+h(t.readBytes(32)),a=[];for(let i=0;i<n;++i){t.setPosition(s+32*i);let[n]=e(t,r,{staticPosition:s});a.push(n)}return t.setPosition(i+32),[a,32]}let s=0,a=[];for(let o=0;o<n;++o){let[n,o]=e(t,r,{staticPosition:i+s});s+=o,a.push(n)}return[a,s]}(t,{...r,type:i},{length:n,staticPosition:s})}if("tuple"===r.type)return function(t,r,{staticPosition:n}){let i=0===r.components.length||r.components.some(({name:e})=>!e),s=i?[]:{},a=0;if(g(r)){let o=n+h(t.readBytes(32));for(let n=0;n<r.components.length;++n){let l=r.components[n];t.setPosition(o+a);let[c,u]=e(t,l,{staticPosition:o});a+=u,s[i?n:l?.name]=c}return t.setPosition(n+32),[s,32]}for(let o=0;o<r.components.length;++o){let l=r.components[o],[c,u]=e(t,l,{staticPosition:n});s[i?o:l?.name]=c,a+=u}return[s,a]}(t,r,{staticPosition:s});if("address"===r.type)return function(e){let t=e.readBytes(32);return[(0,i.o)((0,d.My)((0,o.A1)(t,-20))),32]}(t);if("bool"===r.type)return[function(e,t={}){let r=e;if(void 0!==t.size&&((0,u.Sl)(r,{size:t.size}),r=(0,l.B)(r)),r.length>1||r[0]>1)throw new c.xO(r);return!!r[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=h(e.readBytes(32));e.setPosition(r+t);let n=h(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[(0,d.My)(i),32]}return[(0,d.My)(e.readBytes(Number.parseInt(i,10),32)),32]}(t,r,{staticPosition:s});if(r.type.startsWith("uint")||r.type.startsWith("int"))return function(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[n>48?function(e,t={}){void 0!==t.size&&(0,u.Sl)(e,{size:t.size});let r=(0,d.My)(e,t);return(0,u.uU)(r,t)}(i,{signed:r}):h(i,{signed:r}),32]}(t,r);if("string"===r.type)return function(e,{staticPosition:t}){let r=h(e.readBytes(32));e.setPosition(t+r);let n=h(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=e.readBytes(n,32),s=function(e,t={}){let r=e;return void 0!==t.size&&((0,u.Sl)(r,{size:t.size}),r=(0,l.B)(r,{dir:"right"})),new TextDecoder().decode(r)}((0,l.B)(i));return e.setPosition(t+32),[s,32]}(t,{staticPosition:s});throw new n.j(r.type,{docsPath:"/docs/contract/decodeAbiParameters"})}(y,r,{staticPosition:0});m+=a,b.push(s)}return b}function g(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(g);let r=(0,p.k)(e.type);return!!(r&&g({...e,type:r[1]}))}},17169:(e,t,r)=>{"use strict";r.d(t,{W:()=>c});var n=r(4382),i=r(36991),s=r(22162),a=r(44720),o=r(68424),l=r(57880);function c(e){let{abi:t,data:r}=e,c=(0,s.di)(r,0,4);if("0x"===c)throw new i.O;let u=[...t||[],n.Mc,n.J9].find(e=>"error"===e.type&&c===(0,a.V)((0,l.B)(e)));if(!u)throw new i.Wq(c,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,o.n)(u.inputs,(0,s.di)(r,4)):void 0,errorName:u.name}}},17848:(e,t,r)=>{"use strict";r.d(t,{j:()=>u});var n=r(36991),i=r(90305),s=r(91149),a=r(94490),o=r(68424),l=r(57880);let c="/docs/contract/decodeEventLog";function u(e){let{abi:t,data:r,strict:u,topics:d}=e,h=u??!0,[f,...p]=d;if(!f)throw new n._z({docsPath:c});let y=t.find(e=>"event"===e.type&&f===(0,a.h)((0,l.B)(e)));if(!(y&&"name"in y)||"event"!==y.type)throw new n.kE(f,{docsPath:c});let{name:g,inputs:m}=y,b=m?.some(e=>!("name"in e&&e.name)),w=b?[]:{},v=m.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<v.length;e++){let[t,r]=v[e],i=p[e];if(!i)throw new n.l3({abiItem:y,param:t});w[b?r:t.name||r]=function({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,o.n)([e],t)||[])[0]}({param:t,value:i})}let _=m.filter(e=>!("indexed"in e&&e.indexed));if(_.length>0){if(r&&"0x"!==r)try{let e=(0,o.n)(_,r);if(e){if(b)for(let t=0;t<m.length;t++)w[t]=w[t]??e.shift();else for(let t=0;t<_.length;t++)w[_[t].name]=e[t]}}catch(e){if(h){if(e instanceof n.Iy||e instanceof i.SK)throw new n.fo({abiItem:y,data:r,params:_,size:(0,s.E)(r)});throw e}}else if(h)throw new n.fo({abiItem:y,data:"0x",params:_,size:0})}return{eventName:g,args:Object.values(w).length>0?w:void 0}}},75642:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var n=r(36991),i=r(22162),s=r(44720),a=r(68424),o=r(57880);function l(e){let{abi:t,data:r}=e,l=(0,i.di)(r,0,4),c=t.find(e=>"function"===e.type&&l===(0,s.V)((0,o.B)(e)));if(!c)throw new n.EB(l,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:c.name,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,a.n)(c.inputs,(0,i.di)(r,4)):void 0}}},59719:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var n=r(36991),i=r(68424),s=r(4617);let a="/docs/contract/decodeFunctionResult";function o(e){let{abi:t,args:r,functionName:o,data:l}=e,c=t[0];if(o){let e=(0,s.iY)({abi:t,args:r,name:o});if(!e)throw new n.Iz(o,{docsPath:a});c=e}if("function"!==c.type)throw new n.Iz(void 0,{docsPath:a});if(!c.outputs)throw new n.MR(c.name,{docsPath:a});let u=(0,i.n)(c.outputs,l);return u&&u.length>1?u:u&&1===u.length?u[0]:void 0}},46304:(e,t,r)=>{"use strict";r.d(t,{h:()=>p,k:()=>g});var n=r(36991),i=r(61117),s=r(80477),a=r(93970),o=r(34354),l=r(16704),c=r(33085),u=r(91149),d=r(22162),h=r(98979),f=r(7702);function p(e,t){if(e.length!==t.length)throw new n.YE({expectedLength:e.length,givenLength:t.length});let r=y(function({params:e,values:t}){let r=[];for(let p=0;p<e.length;p++)r.push(function e({param:t,value:r}){let p=g(t.type);if(p){let[i,s]=p;return function(t,{length:r,param:i}){let s=null===r;if(!Array.isArray(t))throw new n.dm(t);if(!s&&t.length!==r)throw new n.Nc({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let a=!1,o=[];for(let r=0;r<t.length;r++){let n=e({param:i,value:t[r]});n.dynamic&&(a=!0),o.push(n)}if(s||a){let e=y(o);if(s){let t=(0,h.cK)(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?(0,l.xW)([t,e]):t}}if(a)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,l.xW)(o.map(({encoded:e})=>e))}}(r,{length:i,param:{...t,type:s}})}if("tuple"===t.type)return function(t,{param:r}){let n=!1,i=[];for(let s=0;s<r.components.length;s++){let a=r.components[s],o=Array.isArray(t)?s:a.name,l=e({param:a,value:t[o]});i.push(l),l.dynamic&&(n=!0)}return{dynamic:n,encoded:n?y(i):(0,l.xW)(i.map(({encoded:e})=>e))}}(r,{param:t});if("address"===t.type)return function(e){if(!(0,o.P)(e))throw new i.M({address:e});return{dynamic:!1,encoded:(0,c.db)(e.toLowerCase())}}(r);if("bool"===t.type)return function(e){if("boolean"!=typeof e)throw new s.C(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,c.db)((0,h.$P)(e))}}(r);if(t.type.startsWith("uint")||t.type.startsWith("int")){let e=t.type.startsWith("int"),[,,n="256"]=f.Ge.exec(t.type)??[];return function(e,{signed:t,size:r=256}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new a.Ty({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:(0,h.cK)(e,{size:32,signed:t})}}(r,{signed:e,size:Number(n)})}if(t.type.startsWith("bytes"))return function(e,{param:t}){let[,r]=t.type.split("bytes"),i=(0,u.E)(e);if(!r){let t=e;return i%32!=0&&(t=(0,c.db)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,l.xW)([(0,c.db)((0,h.cK)(i,{size:32})),t])}}if(i!==Number.parseInt(r,10))throw new n.gH({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:(0,c.db)(e,{dir:"right"})}}(r,{param:t});if("string"===t.type)return function(e){let t=(0,h.i3)(e),r=Math.ceil((0,u.E)(t)/32),n=[];for(let e=0;e<r;e++)n.push((0,c.db)((0,d.di)(t,32*e,(e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,l.xW)([(0,c.db)((0,h.cK)((0,u.E)(t),{size:32})),...n])}}(r);throw new n.nK(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:e[p],value:t[p]}));return r}({params:e,values:t}));return 0===r.length?"0x":r}function y(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,u.E)(i)}let r=[],n=[],i=0;for(let s=0;s<e.length;s++){let{dynamic:a,encoded:o}=e[s];a?(r.push((0,h.cK)(t+i,{size:32})),n.push(o),i+=(0,u.E)(o)):r.push(o)}return(0,l.xW)([...r,...n])}function g(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},62937:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(36991),i=r(16704),s=r(46304);let a="/docs/contract/encodeDeployData";function o(e){let{abi:t,args:r,bytecode:o}=e;if(!r||0===r.length)return o;let l=t.find(e=>"type"in e&&"constructor"===e.type);if(!l)throw new n.YW({docsPath:a});if(!("inputs"in l)||!l.inputs||0===l.inputs.length)throw new n.YF({docsPath:a});let c=(0,s.h)(l.inputs,r);return(0,i.aP)([o,c])}},74046:(e,t,r)=>{"use strict";r.d(t,{p:()=>u});var n=r(16704),i=r(46304),s=r(36991),a=r(44720),o=r(57880),l=r(4617);let c="/docs/contract/encodeFunctionData";function u(e){let{args:t}=e,{abi:r,functionName:u}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){let{abi:t,args:r,functionName:n}=e,i=t[0];if(n){let e=(0,l.iY)({abi:t,args:r,name:n});if(!e)throw new s.Iz(n,{docsPath:c});i=e}if("function"!==i.type)throw new s.Iz(void 0,{docsPath:c});return{abi:[i],functionName:(0,a.V)((0,o.B)(i))}}(e),d=r[0],h="inputs"in d&&d.inputs?(0,i.h)(d.inputs,t??[]):void 0;return(0,n.aP)([u,h??"0x"])}},57880:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,B:()=>i});var n=r(36991);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.d_(e.type);return`${e.name}(${s(e.inputs,{includeName:t})})`}function s(e,{includeName:t=!1}={}){return e?e.map(e=>(function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${s(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")})(e,{includeName:t})).join(t?", ":","):""}},4617:(e,t,r)=>{"use strict";r.d(t,{iY:()=>l});var n=r(36991),i=r(11601),s=r(34354),a=r(94490),o=r(44720);function l(e){let t;let{abi:r,args:l=[],name:c}=e,u=(0,i.q)(c,{strict:!1}),d=r.filter(e=>u?"function"===e.type?(0,o.V)(e)===c:"event"===e.type&&(0,a.h)(e)===c:"name"in e&&e.name===c);if(0!==d.length){if(1===d.length)return d[0];for(let e of d)if("inputs"in e){if(!l||0===l.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===l.length&&l.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return(0,s.P)(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=function e(t,r,n){for(let i in t){let a=t[i],o=r[i];if("tuple"===a.type&&"tuple"===o.type&&"components"in a&&"components"in o)return e(a.components,o.components,n[i]);let l=[a.type,o.type];if(l.includes("address")&&l.includes("bytes20")||(l.includes("address")&&l.includes("string")||l.includes("address")&&l.includes("bytes"))&&(0,s.P)(n[i],{strict:!1}))return l}}(e.inputs,t.inputs,l);if(r)throw new n.nM({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}return t||d[0]}}},40814:(e,t,r)=>{"use strict";r.d(t,{b:()=>u,o:()=>c});var n=r(61117),i=r(76397),s=r(55207),a=r(46140),o=r(34354);let l=new a.A(8192);function c(e,t){if(l.has(`${e}.${t}`))return l.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=(0,s.S)((0,i.Af)(r),"bytes"),a=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&n[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());let o=`0x${a.join("")}`;return l.set(`${e}.${t}`,o),o}function u(e,t){if(!(0,o.P)(e,{strict:!1}))throw new n.M({address:e});return c(e,t)}},34354:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(46140),i=r(40814);let s=/^0x[a-fA-F0-9]{40}$/,a=new n.A(8192);function o(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(a.has(n))return a.get(n);let o=!!s.test(e)&&(e.toLowerCase()===e||!r||(0,i.o)(e)===e);return a.set(n,o),o}},81770:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var n=r(61117),i=r(34354);function s(e,t){if(!(0,i.P)(e,{strict:!1}))throw new n.M({address:e});if(!(0,i.P)(t,{strict:!1}))throw new n.M({address:t});return e.toLowerCase()===t.toLowerCase()}},41258:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(16704),i=r(76397),s=r(98979),a=r(15456),o=r(55207);function l(e){let{chainId:t,nonce:r,to:l}=e,c=e.contractAddress??e.address,u=(0,o.S)((0,n.aP)(["0x05",(0,a.EQ)([t?(0,s.cK)(t):"0x",c,r?(0,s.cK)(r):"0x"])]));return"bytes"===l?(0,i.aT)(u):u}},20012:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});var n=r(4632),i=r(41258);async function s(e){let{authorization:t,signature:r}=e;return(0,n.x)({hash:(0,i.C)(t),signature:r??t})}},73492:(e,t,r)=>{"use strict";r.d(t,{S:()=>s});var n=r(76397),i=r(98979);function s(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),s="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,n.aT)(e)):e.blobs,a=[];for(let e of s)a.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?a:a.map(e=>(0,i.My)(e))}},94949:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(76397),i=r(98979);function s(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),s="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,n.aT)(e)):e.blobs,a="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,n.aT)(e)):e.commitments,o=[];for(let e=0;e<s.length;e++){let r=s[e],n=a[e];o.push(Uint8Array.from(t.computeBlobKzgProof(r,n)))}return"bytes"===r?o:o.map(e=>(0,i.My)(e))}},53502:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var n=r(98979),i=r(73598);function s(e){let{commitments:t,version:r}=e,s=e.to??("string"==typeof t[0]?"hex":"bytes"),a=[];for(let e of t)a.push(function(e){let{commitment:t,version:r=1}=e,s=e.to??("string"==typeof t?"hex":"bytes"),a=(0,i.s)(t,"bytes");return a.set([r],0),"bytes"===s?a:(0,n.My)(a)}({commitment:e,to:s,version:r}));return a}},43279:(e,t,r)=>{"use strict";r.d(t,{T:()=>u});var n=r(73492),i=r(94949),s=r(20624),a=r(95389),o=r(91149),l=r(76397),c=r(98979);function u(e){let{data:t,kzg:r,to:u}=e,d=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,l.aT)(e.data):e.data,n=(0,o.E)(r);if(!n)throw new s.zF;if(n>761855)throw new s.iq({maxSize:761855,size:n});let i=[],u=!0,d=0;for(;u;){let e=(0,a.l)(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(d,d+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),u=!1;break}t++,d+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>(0,c.My)(e.bytes))}({data:t,to:u}),h=e.commitments??(0,n.S)({blobs:d,kzg:r,to:u}),f=e.proofs??(0,i.t)({blobs:d,commitments:h,kzg:r,to:u}),p=[];for(let e=0;e<d.length;e++)p.push({blob:d[e],commitment:h[e],proof:f[e]});return p}},57325:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var n=r(89780);function i({chain:e,currentChainId:t}){if(!e)throw new n.jF;if(t!==e.id)throw new n.EH({chain:e,currentChainId:t})}},68275:(e,t,r)=>{"use strict";function n(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}r.d(t,{x:()=>n})},40874:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(89780);function i({blockNumber:e,chain:t,contract:r}){let i=t?.contracts?.[r];if(!i)throw new n.rj({chain:t,contract:{name:r}});if(e&&i.blockCreated&&i.blockCreated>e)throw new n.rj({blockNumber:e,chain:t,contract:{name:r,blockCreated:i.blockCreated}});return i.address}},95389:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(90305);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.hX({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.SK({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.B4({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.B4({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function s(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},16704:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(e)}function i(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}r.d(t,{aP:()=>i,xW:()=>n})},11601:(e,t,r)=>{"use strict";function n(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{q:()=>n})},33085:(e,t,r)=>{"use strict";r.d(t,{db:()=>s,eV:()=>i});var n=r(57643);function i(e,{dir:t,size:r=32}={}){return"string"==typeof e?s(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new n.Fl({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let s="right"===t;i[s?n:r-n-1]=e[s?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function s(e,{dir:t,size:r=32}={}){if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.Fl({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}},91149:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(11601);function i(e){return(0,n.q)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},22162:(e,t,r)=>{"use strict";r.d(t,{A1:()=>c,di:()=>a,iN:()=>u});var n=r(57643),i=r(11601),s=r(91149);function a(e,t,r,{strict:n}={}){return(0,i.q)(e,{strict:!1})?u(e,t,r,{strict:n}):c(e,t,r,{strict:n})}function o(e,t){if("number"==typeof t&&t>0&&t>(0,s.E)(e)-1)throw new n.ii({offset:t,position:"start",size:(0,s.E)(e)})}function l(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,s.E)(e)!==r-t)throw new n.ii({offset:r,position:"end",size:(0,s.E)(e)})}function c(e,t,r,{strict:n}={}){o(e,t);let i=e.slice(t,r);return n&&l(i,t,r),i}function u(e,t,r,{strict:n}={}){o(e,t);let i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&l(i,t,r),i}},67368:(e,t,r)=>{"use strict";function n(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,i=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)i++;return(r="left"===t?r.slice(i):r.slice(0,r.length-i),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{B:()=>n})},45732:(e,t,r)=>{"use strict";r.d(t,{IQ:()=>h,ME:()=>d,Nx:()=>u,Sl:()=>o,aD:()=>l,uU:()=>c});var n=r(93970),i=r(91149),s=r(67368),a=r(76397);function o(e,{size:t}){if((0,i.E)(e)>t)throw new n.u({givenSize:(0,i.E)(e),maxSize:t})}function l(e,t){let r="string"==typeof t?{to:t}:t,n=r.to;return"number"===n?d(e,r):"bigint"===n?c(e,r):"string"===n?h(e,r):"boolean"===n?u(e,r):(0,a.aT)(e,r)}function c(e,t={}){let{signed:r}=t;t.size&&o(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function u(e,t={}){let r=e;if(t.size&&(o(r,{size:t.size}),r=(0,s.B)(r)),"0x00"===(0,s.B)(r))return!1;if("0x01"===(0,s.B)(r))return!0;throw new n.H2(r)}function d(e,t={}){return Number(c(e,t))}function h(e,t={}){let r=(0,a.aT)(e);return t.size&&(o(r,{size:t.size}),r=(0,s.B)(r,{dir:"right"})),new TextDecoder().decode(r)}},76397:(e,t,r)=>{"use strict";r.d(t,{Af:()=>f,ZJ:()=>c,aT:()=>h});var n=r(80477),i=r(11601),s=r(33085),a=r(45732),o=r(98979);let l=new TextEncoder;function c(e,t={}){return"number"==typeof e||"bigint"==typeof e?h((0,o.cK)(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,a.Sl)(r,{size:t.size}),(0,s.eV)(r,{size:t.size})):r}(e,t):(0,i.q)(e)?h(e,t):f(e,t)}let u={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function h(e,t={}){let r=e;t.size&&((0,a.Sl)(r,{size:t.size}),r=(0,s.eV)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);let o=i.length/2,l=new Uint8Array(o);for(let e=0,t=0;e<o;e++){let r=d(i.charCodeAt(t++)),s=d(i.charCodeAt(t++));if(void 0===r||void 0===s)throw new n.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);l[e]=16*r+s}return l}function f(e,t={}){let r=l.encode(e);return"number"==typeof t.size?((0,a.Sl)(r,{size:t.size}),(0,s.eV)(r,{dir:"right",size:t.size})):r}},98979:(e,t,r)=>{"use strict";r.d(t,{$P:()=>l,My:()=>c,cK:()=>u,i3:()=>h,nj:()=>o});var n=r(93970),i=r(33085),s=r(45732);let a=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function o(e,t={}){return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?h(e,t):"boolean"==typeof e?l(e,t):c(e,t)}function l(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?((0,s.Sl)(r,{size:t.size}),(0,i.eV)(r,{size:t.size})):r}function c(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=a[e[t]];let n=`0x${r}`;return"number"==typeof t.size?((0,s.Sl)(n,{size:t.size}),(0,i.eV)(n,{dir:"right",size:t.size})):n}function u(e,t={}){let r;let{signed:s,size:a}=t,o=BigInt(e);a?r=s?(1n<<8n*BigInt(a)-1n)-1n:2n**(8n*BigInt(a))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let l="bigint"==typeof r&&s?-r-1n:0;if(r&&o>r||o<l){let t="bigint"==typeof e?"n":"";throw new n.Ty({max:r?`${r}${t}`:void 0,min:`${l}${t}`,signed:s,size:a,value:`${e}${t}`})}let c=`0x${(s&&o<0?(1n<<BigInt(8*a))+BigInt(o):o).toString(16)}`;return a?(0,i.eV)(c,{size:a}):c}let d=new TextEncoder;function h(e,t={}){return c(d.encode(e),t)}},15456:(e,t,r)=>{"use strict";r.d(t,{EQ:()=>o});var n=r(80477),i=r(95389),s=r(76397),a=r(98979);function o(e,t="hex"){let r=function e(t){return Array.isArray(t)?function(e){let t=e.reduce((e,t)=>e+t.length,0),r=l(t);return{length:t<=55?1+t:1+r+t,encode(n){for(let{encode:i}of(t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t)),e))i(n)}}}(t.map(t=>e(t))):function(e){let t="string"==typeof e?(0,s.aT)(e):e,r=l(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}(t)}(e),n=(0,i.l)(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?(0,a.My)(n.bytes):n.bytes}function l(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new n.C("Length is too large.")}},31064:(e,t,r)=>{"use strict";r.d(t,{X:()=>g,J:()=>y});var n=r(38472),i=r(4382),s=r(75642),a=r(36991),o=r(16704),l=r(44720),c=r(46304),u=r(57880),d=r(4617);let h="/docs/contract/encodeErrorResult";function f(e){let{abi:t,errorName:r,args:n}=e,i=t[0];if(r){let e=(0,d.iY)({abi:t,args:n,name:r});if(!e)throw new a.yy(r,{docsPath:h});i=e}if("error"!==i.type)throw new a.yy(void 0,{docsPath:h});let s=(0,u.B)(i),f=(0,l.V)(s),p="0x";if(n&&n.length>0){if(!i.inputs)throw new a.ZP(i.name,{docsPath:h});p=(0,c.h)(i.inputs,n)}return(0,o.aP)([f,p])}let p="/docs/contract/encodeFunctionResult",y="x-batch-gateway:true";async function g(e){let{data:t,ccipRequest:r}=e,{args:[o]}=(0,s.J)({abi:n.b2,data:t}),l=[],u=[];return await Promise.all(o.map(async(e,t)=>{try{u[t]=e.urls.includes(y)?await g({data:e.data,ccipRequest:r}):await r(e),l[t]=!1}catch(e){l[t]=!0,u[t]="HttpRequestError"===e.name&&e.status?f({abi:n.b2,errorName:"HttpError",args:[e.status,e.shortMessage]}):f({abi:[i.Mc],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}})),function(e){let{abi:t,functionName:r,result:n}=e,i=t[0];if(r){let e=(0,d.iY)({abi:t,name:r});if(!e)throw new a.Iz(r,{docsPath:p});i=e}if("function"!==i.type)throw new a.Iz(void 0,{docsPath:p});if(!i.outputs)throw new a.MR(i.name,{docsPath:p});let s=(()=>{if(0===i.outputs.length)return[];if(1===i.outputs.length)return[n];if(Array.isArray(n))return n;throw new a.dm(n)})();return(0,c.h)(i.outputs,s)}({abi:n.b2,functionName:"query",result:[l,u]})}},14303:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(88085),i=r(87939),s=r(90563);function a(e,{docsPath:t,...r}){let a=(()=>{let t=(0,s.l)(e,r);return t instanceof i.RM?e:t})();return new n.zX(a,{docsPath:t,...r})}},80305:(e,t,r)=>{"use strict";r.d(t,{j:()=>l});var n=r(36991),i=r(80477),s=r(88085),a=r(40928),o=r(76790);function l(e,{abi:t,address:r,args:l,docsPath:c,functionName:u,sender:d}){let h=e instanceof s.$S?e:e instanceof i.C?e.walk(e=>"data"in e)||e.walk():{},{code:f,data:p,details:y,message:g,shortMessage:m}=h,b=e instanceof n.O?new s.rR({functionName:u}):[3,o.bq.code].includes(f)&&(p||y||g||m)||f===o.Di.code&&"execution reverted"===y&&p?new s.M({abi:t,data:"object"==typeof p?p.data:p,functionName:u,message:h instanceof a.J8?y:m??g}):e;return new s.bG(b,{abi:t,args:l,contractAddress:r,docsPath:c,functionName:u,sender:d})}},90563:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(80477),i=r(87939);function s(e,t){let r=(e.details||"").toLowerCase(),s=e instanceof n.C?e.walk(e=>e?.code===i.A7.code):e;return s instanceof n.C?new i.A7({cause:e,message:s.details}):i.A7.nodeMessage.test(r)?new i.A7({cause:e,message:e.details}):i.BG.nodeMessage.test(r)?new i.BG({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.jj.nodeMessage.test(r)?new i.jj({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.K0.nodeMessage.test(r)?new i.K0({cause:e,nonce:t?.nonce}):i.Oh.nodeMessage.test(r)?new i.Oh({cause:e,nonce:t?.nonce}):i.vW.nodeMessage.test(r)?new i.vW({cause:e,nonce:t?.nonce}):i.k5.nodeMessage.test(r)?new i.k5({cause:e}):i.lY.nodeMessage.test(r)?new i.lY({cause:e,gas:t?.gas}):i.Fo.nodeMessage.test(r)?new i.Fo({cause:e,gas:t?.gas}):i.uC.nodeMessage.test(r)?new i.uC({cause:e}):i.lN.nodeMessage.test(r)?new i.lN({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.RM({cause:e})}},49585:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(87939),i=r(45757),s=r(90563);function a(e,{docsPath:t,...r}){let a=(()=>{let t=(0,s.l)(e,r);return t instanceof n.RM?e:t})();return new i.$s(a,{docsPath:t,...r})}},55878:(e,t,r)=>{"use strict";r.d(t,{$:()=>s,R:()=>a});var n=r(34897),i=r(6035);function s(e,t){let r=(e.transactions??[]).map(e=>"string"==typeof e?e:(0,i.uP)(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}let a=(0,n.q)("block",s)},24058:(e,t,r)=>{"use strict";function n(e,{format:t}){if(!t)return{};let r={};return!function t(n){for(let i of Object.keys(n))i in e&&(r[i]=e[i]),n[i]&&"object"==typeof n[i]&&!Array.isArray(n[i])&&t(n[i])}(t(e||{})),r}r.d(t,{o:()=>n})},34897:(e,t,r)=>{"use strict";function n(e,t){return({exclude:r,format:n})=>({exclude:r,format:(e,i)=>{let s=t(e,i);if(r)for(let e of r)delete s[e];return{...s,...n(e,i)}},type:e})}r.d(t,{q:()=>n})},58981:(e,t,r)=>{"use strict";function n(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}r.d(t,{e:()=>n})},6035:(e,t,r)=>{"use strict";r.d(t,{b4:()=>s,gU:()=>o,uP:()=>a});var n=r(45732),i=r(34897);let s={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function a(e,t){let r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,n.ME)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,n.ME)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?s[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof r.v){if(0n===r.v||27n===r.v)return 0;if(1n===r.v||28n===r.v)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),"legacy"===r.type&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),"eip2930"===r.type&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),"eip1559"===r.type&&delete r.maxFeePerBlobGas,r}let o=(0,i.q)("transaction",a)},68613:(e,t,r)=>{"use strict";r.d(t,{Lj:()=>o,WB:()=>c,uL:()=>l});var n=r(45732),i=r(34897),s=r(58981),a=r(6035);let o={"0x0":"reverted","0x1":"success"};function l(e,t){let r={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>(0,s.e)(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,n.ME)(e.transactionIndex):null,status:e.status?o[e.status]:null,type:e.type?a.b4[e.type]||e.type:null};return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}let c=(0,i.q)("transactionReceipt",l)},53864:(e,t,r)=>{"use strict";r.d(t,{Bv:()=>a,bm:()=>o});var n=r(98979),i=r(34897);let s={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function a(e,t){let r={};return void 0!==e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,n.cK)(BigInt(e.r)):e.r,s:e.s?(0,n.cK)(BigInt(e.s)):e.s,chainId:(0,n.cK)(e.chainId),nonce:(0,n.cK)(e.nonce),...void 0!==e.yParity?{yParity:(0,n.cK)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,n.cK)(e.v)}:{}}))),void 0!==e.accessList&&(r.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?r.blobs=e.blobs.map(e=>(0,n.My)(e)):r.blobs=e.blobs),void 0!==e.data&&(r.data=e.data),e.account&&(r.from=e.account.address),void 0!==e.from&&(r.from=e.from),void 0!==e.gas&&(r.gas=(0,n.cK)(e.gas)),void 0!==e.gasPrice&&(r.gasPrice=(0,n.cK)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(r.maxFeePerBlobGas=(0,n.cK)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(r.maxFeePerGas=(0,n.cK)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=(0,n.cK)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(r.nonce=(0,n.cK)(e.nonce)),void 0!==e.to&&(r.to=e.to),void 0!==e.type&&(r.type=s[e.type]),void 0!==e.value&&(r.value=(0,n.cK)(e.value)),r}let o=(0,i.q)("transactionRequest",a)},72447:(e,t,r)=>{"use strict";function n(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let i=e[r];return"function"==typeof i?i:r=>t(e,r)}r.d(t,{T:()=>n})},55207:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(34758),i=r(11601),s=r(76397),a=r(98979);function o(e,t){let r=(0,n.lY)((0,i.q)(e,{strict:!1})?(0,s.ZJ)(e):e);return"bytes"===(t||"hex")?r:(0,a.nj)(r)}},73598:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});let n=r(63683).sc;var i=r(11601),s=r(76397),a=r(98979);function o(e,t){let r=n((0,i.q)(e,{strict:!1})?(0,s.ZJ)(e):e);return"bytes"===(t||"hex")?r:(0,a.nj)(r)}},94490:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});let n=r(68155).k},44720:(e,t,r)=>{"use strict";r.d(t,{V:()=>s});var n=r(22162),i=r(68155);let s=e=>(0,n.di)((0,i.k)(e),0,4)},68155:(e,t,r)=>{"use strict";r.d(t,{k:()=>c});var n=r(76397),i=r(55207);let s=e=>(0,i.S)((0,n.ZJ)(e));var a=r(59066),o=r(80477);let l=e=>(function(e){let t=!0,r="",n=0,i="",s=!1;for(let a=0;a<e.length;a++){let o=e[a];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function",""].includes(i))i="";else if(i+=o,")"===o){s=!0;break}continue}if(" "===o){","!==e[a-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=o,r+=o}}if(!s)throw new o.C("Unable to normalize signature.");return i})("string"==typeof e?e:(0,a.B)(e));function c(e){return s(l(e))}},46140:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}},88429:(e,t,r)=>{"use strict";r.d(t,{lB:()=>a});let n=new Map,i=new Map,s=0;function a(e,t,r){let a=++s,o=()=>n.get(e)||[],l=()=>{let t=o();n.set(e,t.filter(e=>e.id!==a))},c=()=>{let t=o();if(!t.some(e=>e.id===a))return;let r=i.get(e);if(1===t.length&&r){let e=r();e instanceof Promise&&e.catch(()=>{})}l()},u=o();if(n.set(e,[...u,{id:a,fns:t}]),u&&u.length>0)return c;let d={};for(let e in t)d[e]=(...t)=>{let r=o();if(0!==r.length)for(let n of r)n.fns[e]?.(...t)};let h=r(d);return"function"==typeof h&&i.set(e,h),c}},92342:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var n=r(23646);function i(e,{emitOnBegin:t,initialWaitTime:r,interval:i}){let s=!0,a=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:a}));let l=await r?.(o)??i;await (0,n.u)(l);let c=async()=>{s&&(await e({unpoll:a}),await (0,n.u)(i),c())};c()})(),a}},40304:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var n=r(30400);let i=new Map;function s({fn:e,id:t,shouldSplitBatch:r,wait:s=0,sort:a}){let o=async()=>{let t=u();l();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{a&&Array.isArray(e)&&e.sort(a);for(let r=0;r<t.length;r++){let{resolve:n}=t[r];n?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{reject:n}=t[r];n?.(e)}})},l=()=>i.delete(t),c=()=>u().map(({args:e})=>e),u=()=>i.get(t)||[],d=e=>i.set(t,[...u(),e]);return{flush:l,async schedule(e){let{promise:t,resolve:i,reject:a}=(0,n.Y)();return(r?.([...c(),e])&&o(),u().length>0)?d({args:e,resolve:i,reject:a}):(d({args:e,resolve:i,reject:a}),setTimeout(o,s)),t}}}},30400:(e,t,r)=>{"use strict";function n(){let e=()=>void 0,t=()=>void 0;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{Y:()=>n})},9869:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(23646);function i(e,{delay:t=100,retryCount:r=2,shouldRetry:s=()=>!0}={}){return new Promise((i,a)=>{let o=async({count:l=0}={})=>{let c=async({error:e})=>{let r="function"==typeof t?t({count:l,error:e}):t;r&&await (0,n.u)(r),o({count:l+1})};try{let t=await e();i(t)}catch(e){if(l<r&&await s({count:l,error:e}))return c({error:e});a(e)}};o()})}},40772:(e,t,r)=>{"use strict";function n(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let a;try{let o=new AbortController;r>0&&(a=setTimeout(()=>{n?o.abort():s(t)},r)),i(await e({signal:o?.signal||null}))}catch(e){e?.name==="AbortError"&&s(t),s(e)}finally{clearTimeout(a)}})()})}r.d(t,{w:()=>n})},7702:(e,t,r)=>{"use strict";r.d(t,{BD:()=>i,D5:()=>n,Ge:()=>s});let n=/^(.*)\[([0-9]*)\]$/,i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},68219:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var n=r(40928),i=r(40772),s=r(66692),a=r(64602);function o(e,t={}){return{async request(r){let{body:o,fetchFn:l=t.fetchFn??fetch,onRequest:c=t.onRequest,onResponse:u=t.onResponse,timeout:d=t.timeout??1e4}=r,h={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:f,method:p,signal:y}=h;try{let t;let r=await (0,i.w)(async({signal:t})=>{let r={...h,body:Array.isArray(o)?(0,s.A)(o.map(e=>({jsonrpc:"2.0",id:e.id??a.q.take(),...e}))):(0,s.A)({jsonrpc:"2.0",id:o.id??a.q.take(),...o}),headers:{"Content-Type":"application/json",...f},method:p||"POST",signal:y||(d>0?t:null)},n=new Request(e,r),i=await c?.(n,r)??{...r,url:e};return await l(i.url??e,i)},{errorInstance:new n.MU({body:o,url:e}),timeout:d,signal:!0});if(u&&await u(r),r.headers.get("Content-Type")?.startsWith("application/json"))t=await r.json();else{t=await r.text();try{t=JSON.parse(t||"{}")}catch(e){if(r.ok)throw e;t={error:t}}}if(!r.ok)throw new n.Ci({body:o,details:(0,s.A)(t.error)||r.statusText,headers:r.headers,status:r.status,url:e});return t}catch(t){if(t instanceof n.Ci||t instanceof n.MU)throw t;throw new n.Ci({body:o,cause:t,url:e})}}}}},64602:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});let n={current:0,take(){return this.current++},reset(){this.current=0}}},34540:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(55207),i=r(16704),s=r(91149),a=r(98979);function o(e,t){return(0,n.S)(function(e){let t="string"==typeof e?(0,a.i3)(e):"string"==typeof e.raw?e.raw:(0,a.My)(e.raw),r=(0,a.i3)(`\x19Ethereum Signed Message:
${(0,s.E)(t)}`);return(0,i.xW)([r,t])}(e),t)}},41132:(e,t,r)=>{"use strict";r.d(t,{Zh:()=>l});var n=r(46304),i=r(16704),s=r(98979),a=r(55207),o=r(37939);function l(e){let{domain:t={},message:r,primaryType:n}=e,s={EIP712Domain:(0,o.H4)({domain:t}),...e.types};(0,o.$$)({domain:t,message:r,primaryType:n,types:s});let l=["0x1901"];return t&&l.push(function({domain:e,types:t}){return c({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:s})),"EIP712Domain"!==n&&l.push(c({data:r,primaryType:n,types:s})),(0,a.S)((0,i.xW)(l))}function c({data:e,primaryType:t,types:r}){let i=function e({data:t,primaryType:r,types:i}){let o=[{type:"bytes32"}],l=[function({primaryType:e,types:t}){let r=(0,s.nj)(function({primaryType:e,types:t}){let r="",n=function e({primaryType:t,types:r},n=new Set){let i=t.match(/^\w*/u),s=i?.[0];if(n.has(s)||void 0===r[s])return n;for(let t of(n.add(s),r[s]))e({primaryType:t.type,types:r},n);return n}({primaryType:e,types:t});for(let i of(n.delete(e),[e,...Array.from(n).sort()]))r+=`${i}(${t[i].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t}));return(0,a.S)(r)}({primaryType:r,types:i})];for(let c of i[r]){let[r,u]=function t({types:r,name:i,type:o,value:l}){if(void 0!==r[o])return[{type:"bytes32"},(0,a.S)(e({data:l,primaryType:o,types:r}))];if("bytes"===o)return[{type:"bytes32"},(0,a.S)(l)];if("string"===o)return[{type:"bytes32"},(0,a.S)((0,s.nj)(l))];if(o.lastIndexOf("]")===o.length-1){let e=o.slice(0,o.lastIndexOf("[")),s=l.map(n=>t({name:i,type:e,types:r,value:n}));return[{type:"bytes32"},(0,a.S)((0,n.h)(s.map(([e])=>e),s.map(([,e])=>e)))]}return[{type:o},l]}({types:i,name:c.name,type:c.type,value:t[c.name]});o.push(r),l.push(u)}return(0,n.h)(o,l)}({data:e,primaryType:t,types:r});return(0,a.S)(i)}},4632:(e,t,r)=>{"use strict";r.d(t,{x:()=>u});var n=r(87895),i=r(11601),s=r(91149),a=r(45732),o=r(98979);async function l({hash:e,signature:t}){let n=(0,i.q)(e)?e:(0,o.nj)(e),{secp256k1:l}=await Promise.resolve().then(r.bind(r,60102)),u=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:r,v:n,yParity:i}=t,s=c(Number(i??n));return new l.Signature((0,a.uU)(e),(0,a.uU)(r)).addRecoveryBit(s)}let e=(0,i.q)(t)?t:(0,o.nj)(t);if(65!==(0,s.E)(e))throw Error("invalid signature length");let r=c((0,a.ME)(`0x${e.slice(130)}`));return l.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${u}`}function c(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function u({hash:e,signature:t}){return(0,n.M)(await l({hash:e,signature:t}))}},3176:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(60102),i=r(45732),s=r(76397);function a({r:e,s:t,to:r="hex",v:a,yParity:o}){let l=(()=>{if(0===o||1===o)return o;if(a&&(27n===a||28n===a||a>=35n))return a%2n===0n?1:0;throw Error("Invalid `v` or `yParity` value")})(),c=`0x${new n.secp256k1.Signature((0,i.uU)(e),(0,i.uU)(t)).toCompactHex()}${0===l?"1b":"1c"}`;return"hex"===r?c:(0,s.aT)(c)}},52368:(e,t,r)=>{"use strict";r.d(t,{yH:()=>c});var n=r(61117),i=r(57643),s=r(56044),a=r(34354),o=r(98979);function l(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:r})=>{if(66!==t.length)throw new i.NV({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new i.NV({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function c(e){if(!e)return;let t={};for(let{address:r,...i}of e){if(!(0,a.P)(r,{strict:!1}))throw new n.M({address:r});if(t[r])throw new s.Hi({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:a}=e,c={};if(void 0!==a&&(c.code=a),void 0!==t&&(c.balance=(0,o.cK)(t)),void 0!==r&&(c.nonce=(0,o.cK)(r)),void 0!==n&&(c.state=l(n)),void 0!==i){if(c.state)throw new s.ft;c.stateDiff=l(i)}return c}(i)}return t}},66692:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},41953:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(98722),i=r(26542),s=r(61117),a=r(87939),o=r(34354);function l(e){let{account:t,maxFeePerGas:r,maxPriorityFeePerGas:l,to:c}=e,u=t?(0,n.J)(t):void 0;if(u&&!(0,o.P)(u.address))throw new s.M({address:u.address});if(c&&!(0,o.P)(c))throw new s.M({address:c});if(r&&r>i.Ao)throw new a.BG({maxFeePerGas:r});if(l&&r&&l>r)throw new a.lN({maxFeePerGas:r,maxPriorityFeePerGas:l})}},75086:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(45757);function i(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new n.Vg({transaction:e})}},37939:(e,t,r)=>{"use strict";r.d(t,{H4:()=>g,v8:()=>p,$$:()=>y});var n=r(36991),i=r(61117),s=r(66692),a=r(80477);class o extends a.C{constructor({domain:e}){super(`Invalid domain "${(0,s.A)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class l extends a.C{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class c extends a.C{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var u=r(34354),d=r(91149),h=r(98979),f=r(7702);function p(e){let{domain:t,message:r,primaryType:n,types:i}=e,a=(e,t)=>{let r={...t};for(let t of e){let{name:e,type:n}=t;"address"===n&&(r[e]=r[e].toLowerCase())}return r},o=i.EIP712Domain&&t?a(i.EIP712Domain,t):{},l=(()=>{if("EIP712Domain"!==n)return a(i[n],r)})();return(0,s.A)({domain:o,message:l,primaryType:n,types:i})}function y(e){let{domain:t,message:r,primaryType:s,types:a}=e,p=(e,t)=>{for(let r of e){let{name:e,type:s}=r,o=t[e],l=s.match(f.Ge);if(l&&("number"==typeof o||"bigint"==typeof o)){let[e,t,r]=l;(0,h.cK)(o,{signed:"int"===t,size:Number.parseInt(r,10)/8})}if("address"===s&&"string"==typeof o&&!(0,u.P)(o))throw new i.M({address:o});let y=s.match(f.BD);if(y){let[e,t]=y;if(t&&(0,d.E)(o)!==Number.parseInt(t,10))throw new n.BI({expectedSize:Number.parseInt(t,10),givenSize:(0,d.E)(o)})}let g=a[s];g&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new c({type:e})}(s),p(g,o))}};if(a.EIP712Domain&&t){if("object"!=typeof t)throw new o({domain:t});p(a.EIP712Domain,t)}if("EIP712Domain"!==s){if(a[s])p(a[s],r);else throw new l({primaryType:s,types:a})}}function g({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}},43071:(e,t,r)=>{"use strict";let n;r.d(t,{L:()=>s});let i=256;function s(e=11){if(!n||i+e>512){n="",i=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(i,i+++e)}},69595:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(57317),i=r(89888);function s(e,t="wei"){return(0,i.J)(e,n.eL[t])}},18773:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(57317),i=r(89888);function s(e,t="wei"){return(0,i.J)(e,n.sz[t])}},89888:(e,t,r)=>{"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,s]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}r.d(t,{J:()=>n})},37455:(e,t,r)=>{"use strict";r.d(t,{g:()=>s});var n=r(57317),i=r(6592);function s(e,t="wei"){return(0,i.X)(e,n.eL[t])}},6592:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var n=r(80477);class i extends n.C{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function s(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new i({value:e});let[r,n="0"]=e.split("."),s=r.startsWith("-");if(s&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${n}`))&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>t){let[e,i,s]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],a=Math.round(Number(`${i}.${s}`));(n=a>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${a}`).length>t&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${s?"-":""}${r}${n}`)}},23646:(e,t,r)=>{"use strict";async function n(e){return new Promise(t=>setTimeout(t,e))}r.d(t,{u:()=>n})},60102:(e,t,r)=>{"use strict";r.d(t,{secp256k1:()=>eI});var n=r(63683),i=r(22868);class s extends i.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,i.sd)(e);let r=(0,i.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,s=new Uint8Array(n);s.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),(0,i.uH)(s)}update(e){return(0,i.CC)(this),this.iHash.update(e),this}digestInto(e){(0,i.CC)(this),(0,i.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let a=(e,t,r)=>new s(e,t).update(r).digest();a.create=(e,t)=>new s(e,t);let o=BigInt(0),l=BigInt(1);function c(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function u(e){if(!c(e))throw Error("Uint8Array expected")}function d(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function h(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function f(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?o:BigInt("0x"+e)}let p="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,y=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e){if(u(e),p)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=y[e[r]];return t}let m={_0:48,_9:57,A:65,F:70,a:97,f:102};function b(e){return e>=m._0&&e<=m._9?e-m._0:e>=m.A&&e<=m.F?e-(m.A-10):e>=m.a&&e<=m.f?e-(m.a-10):void 0}function w(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(p)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=b(e.charCodeAt(i)),s=b(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function v(e){return f(g(e))}function _(e){return u(e),f(g(Uint8Array.from(e).reverse()))}function x(e,t){return w(e.toString(16).padStart(2*t,"0"))}function E(e,t){return x(e,t).reverse()}function I(e,t,r){let n;if("string"==typeof t)try{n=w(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(c(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function A(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];u(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let S=e=>"bigint"==typeof e&&o<=e;function k(e,t,r){return S(e)&&S(t)&&S(r)&&t<=e&&e<r}function C(e,t,r,n){if(!k(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let T=e=>(l<<BigInt(e))-l,O=e=>new Uint8Array(e),P=e=>Uint8Array.from(e),R={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||c(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function D(e,t,r={}){let n=(t,r,n)=>{let i=R[r];if("function"!=typeof i)throw Error("invalid validator function");let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function N(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let U=BigInt(0),M=BigInt(1),B=BigInt(2),j=BigInt(3),L=BigInt(4),F=BigInt(5),$=BigInt(8);function z(e,t){let r=e%t;return r>=U?r:t+r}function q(e,t,r){let n=e;for(;t-- >U;)n*=n,n%=r;return n}function W(e,t){if(e===U)throw Error("invert: expected non-zero number");if(t<=U)throw Error("invert: expected positive modulus, got "+t);let r=z(e,t),n=t,i=U,s=M,a=M,o=U;for(;r!==U;){let e=n/r,t=n%r,l=i-a*e,c=s-o*e;n=r,r=t,i=a,s=o,a=l,o=c}if(n!==M)throw Error("invert: does not exist");return z(i,t)}function H(e,t){let r=(e.ORDER+M)/L,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function V(e,t){let r=(e.ORDER-F)/$,n=e.mul(t,B),i=e.pow(n,r),s=e.mul(t,i),a=e.mul(e.mul(s,B),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),t))throw Error("Cannot find square root");return o}let K=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function G(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function Z(e,t){let r=(e.ORDER-M)/B,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!a)throw Error("invalid Legendre symbol result");return i?1:s?0:-1}function J(e,t){void 0!==t&&(0,i.Fe)(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Y(e,t,r=!1,n={}){let i;if(e<=U)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:a}=J(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:a,MASK:T(s),ZERO:U,ONE:M,create:t=>z(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return U<=t&&t<e},is0:e=>e===U,isOdd:e=>(e&M)===M,neg:t=>z(-t,e),eql:(e,t)=>e===t,sqr:t=>z(t*t,e),add:(t,r)=>z(t+r,e),sub:(t,r)=>z(t-r,e),mul:(t,r)=>z(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<U)throw Error("invalid exponent, negatives unsupported");if(r===U)return e.ONE;if(r===M)return t;let n=e.ONE,i=t;for(;r>U;)r&M&&(n=e.mul(n,i)),i=e.sqr(i),r>>=M;return n})(o,e,t),div:(t,r)=>z(t*W(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>W(t,e),sqrt:n.sqrt||(t=>(!i&&(i=e%L===j?H:e%$===F?V:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-M,r=0;for(;t%B===U;)t/=B,r++;let n=B,i=Y(e);for(;1===Z(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return H;let s=i.pow(n,t),a=(t+M)/B;return function(e,n){if(e.is0(n))return n;if(1!==Z(e,n))throw Error("Cannot find square root");let i=r,o=e.mul(e.ONE,s),l=e.pow(n,t),c=e.pow(n,a);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=M<<BigInt(i-t-1),s=e.pow(o,n);i=t,o=e.sqr(s),l=e.mul(l,o),c=e.mul(c,s)}return c}}(e)),i(o,t))),toBytes:e=>r?E(e,a):x(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?_(e):v(e)},invertBatch:e=>G(o,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(o)}function Q(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function X(e){let t=Q(e);return t+Math.ceil(t/2)}let ee=BigInt(0),et=BigInt(1);function er(e,t){let r=t.negate();return e?r:t}function en(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ei(e,t){en(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:T(e),maxNumber:i,shiftBy:BigInt(e)}}function es(e,t,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r,o=Number(e&i),l=e>>a;o>n&&(o-=s,l+=et);let c=t*n,u=c+Math.abs(o)-1;return{nextN:l,offset:u,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:c}}let ea=new WeakMap,eo=new WeakMap;function el(e){return eo.get(e)||1}function ec(e){return D(e.Fp,K.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),D(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...J(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function eu(e){void 0!==e.lowS&&d("lowS",e.lowS),void 0!==e.prehash&&d("prehash",e.prehash)}class ed extends Error{constructor(e=""){super(e)}}let eh={Err:ed,_tlv:{encode:(e,t)=>{let{Err:r}=eh;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=h(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?h(i.length/2|128):"";return h(e)+s+i+t},decode(e,t){let{Err:r}=eh,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],s=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let a=t.subarray(n,n+e);if(a.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===a[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of a)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let a=t.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+s)}}},_int:{encode(e){let{Err:t}=eh;if(e<ef)throw new t("integer: negative integers are not allowed");let r=h(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=eh;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=eh,i=I("signature",e),{v:s,l:a}=n.decode(48,i);if(a.length)throw new t("invalid signature: left bytes after parsing");let{v:o,l:l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=eh,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},ef=BigInt(0),ep=BigInt(1),ey=(BigInt(2),BigInt(3)),eg=BigInt(4),em=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ew=BigInt(0),ev=BigInt(1),e_=BigInt(2),ex=(e,t)=>(e+t/e_)/t,eE=Y(em,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),o=BigInt(88),l=e*e*e%em,c=l*l*e%em,u=q(c,t,em)*c%em,d=q(u,t,em)*c%em,h=q(d,e_,em)*l%em,f=q(h,n,em)*h%em,p=q(f,i,em)*f%em,y=q(p,a,em)*p%em,g=q(y,o,em)*y%em,m=q(g,a,em)*p%em,b=q(m,t,em)*c%em,w=q(b,s,em)*f%em,v=q(w,r,em)*l%em,_=q(v,e_,em);if(!eE.eql(eE.sqr(_),e))throw Error("Cannot find square root");return _}}),eI=function(e,t){let r=t=>(function(e){let t=function(e){let t=ec(e);return D(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:s}=t,a=r.BYTES+1,u=2*r.BYTES+1;function h(e){return z(e,n)}let{ProjectivePoint:f,normPrivateKeyToScalar:p,weierstrassEquation:y,isWithinCurveOrder:m}=function(e){var t;let r=function(e){let t=ec(e);D(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=Y(r.n,r.nBitLength),s=r.toBytes||((e,t,r)=>{let i=t.toAffine();return A(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),a=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function u(e){let{a:t,b:i}=r,s=n.sqr(e),a=n.mul(s,e);return n.add(n.add(a,n.mul(e,t)),i)}function h(e,t){let r=n.sqr(t),i=u(e);return n.eql(r,i)}if(!h(r.Gx,r.Gy))throw Error("bad curve params: generator point");let f=n.mul(n.pow(r.a,ey),eg),p=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(f,p)))throw Error("bad curve params: a or b");function y(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=r;if(n&&"bigint"!=typeof e){if(c(e)&&(e=g(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:v(I("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return s&&(t=z(t,a)),C("private key",t,ep,a),t}function m(e){if(!(e instanceof _))throw Error("ProjectivePoint expected")}let b=N((e,t)=>{let{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};let a=e.is0();null==t&&(t=a?n.ONE:n.inv(s));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(s,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),w=N(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!h(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class _{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof _)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?_.ZERO:new _(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=G(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(_.fromAffine)}static fromHex(e){let t=_.fromAffine(a(I("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return _.BASE.multiply(y(e))}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,s=n.length;if(i!==s)throw Error("arrays of points and scalars must have equal length");let a=e.ZERO,c=function(e){let t;for(t=0;e>o;e>>=l,t+=1);return t}(BigInt(i)),u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);let d=T(u),h=Array(Number(d)+1).fill(a),f=Math.floor((t.BITS-1)/u)*u,p=a;for(let e=f;e>=0;e-=u){h.fill(a);for(let t=0;t<s;t++){let i=Number(n[t]>>BigInt(e)&d);h[i]=h[i].add(r[t])}let t=a;for(let e=h.length-1,r=a;e>0;e--)r=r.add(h[e]),t=t.add(r);if(p=p.add(t),0!==e)for(let e=0;e<u;e++)p=p.double()}return p}(_,i,e,t)}_setWindowSize(e){S.setWindowSize(this,e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){m(e);let{px:t,py:r,pz:i}=this,{px:s,py:a,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(s,i)),c=n.eql(n.mul(r,o),n.mul(a,i));return l&&c}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,ey),{px:s,py:a,pz:o}=this,l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(s,s),h=n.mul(a,a),f=n.mul(o,o),p=n.mul(s,a);return p=n.add(p,p),u=n.mul(s,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,f),c=n.add(l,c),l=n.sub(h,c),c=n.add(h,c),c=n.mul(l,c),l=n.mul(p,l),u=n.mul(i,u),f=n.mul(e,f),p=n.sub(d,f),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,f),d=n.mul(d,p),c=n.add(c,d),f=n.mul(a,o),f=n.add(f,f),d=n.mul(f,p),l=n.sub(l,d),u=n.mul(f,h),u=n.add(u,u),new _(l,c,u=n.add(u,u))}add(e){m(e);let{px:t,py:i,pz:s}=this,{px:a,py:o,pz:l}=e,c=n.ZERO,u=n.ZERO,d=n.ZERO,h=r.a,f=n.mul(r.b,ey),p=n.mul(t,a),y=n.mul(i,o),g=n.mul(s,l),b=n.add(t,i),w=n.add(a,o);b=n.mul(b,w),w=n.add(p,y),b=n.sub(b,w),w=n.add(t,s);let v=n.add(a,l);return w=n.mul(w,v),v=n.add(p,g),w=n.sub(w,v),v=n.add(i,s),c=n.add(o,l),v=n.mul(v,c),c=n.add(y,g),v=n.sub(v,c),d=n.mul(h,w),c=n.mul(f,g),d=n.add(c,d),c=n.sub(y,d),d=n.add(y,d),u=n.mul(c,d),y=n.add(p,p),y=n.add(y,p),g=n.mul(h,g),w=n.mul(f,w),y=n.add(y,g),g=n.sub(p,g),g=n.mul(h,g),w=n.add(w,g),p=n.mul(y,w),u=n.add(u,p),p=n.mul(v,w),c=n.mul(b,c),c=n.sub(c,p),p=n.mul(b,y),d=n.mul(v,d),new _(c,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(_.ZERO)}wNAF(e){return S.wNAFCached(this,e,_.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;C("scalar",e,ef,i);let s=_.ZERO;if(e===ef)return s;if(this.is0()||e===ep)return this;if(!t||S.hasPrecomputes(this))return S.wNAFCachedUnsafe(this,e,_.normalizeZ);let{k1neg:a,k1:o,k2neg:l,k2:c}=t.splitScalar(e),u=s,d=s,h=this;for(;o>ef||c>ef;)o&ep&&(u=u.add(h)),c&ep&&(d=d.add(h)),h=h.double(),o>>=ep,c>>=ep;return a&&(u=u.negate()),l&&(d=d.negate()),d=new _(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:s,n:a}=r;if(C("scalar",e,ep,a),s){let{k1neg:r,k1:a,k2neg:o,k2:l}=s.splitScalar(e),{p:c,f:u}=this.wNAF(a),{p:d,f:h}=this.wNAF(l);c=S.constTimeNegate(r,c),d=S.constTimeNegate(o,d),d=new _(n.mul(d.px,s.beta),d.py,d.pz),t=c.add(d),i=u.add(h)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return _.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=_.BASE,i=(e,t)=>t!==ef&&t!==ep&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){return b(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===ep)return!0;if(t)return t(_,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===ep?this:t?t(_,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return d("isCompressed",e),this.assertValidity(),s(_,this,e)}toHex(e=!0){return d("isCompressed",e),g(this.toRawBytes(e))}}_.BASE=new _(r.Gx,r.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO);let{endo:x,nBitLength:E}=r,S=(t=x?Math.ceil(E/2):E,{constTimeNegate:er,hasPrecomputes:e=>1!==el(e),unsafeLadder(e,t,r=_.ZERO){let n=e;for(;t>ee;)t&et&&(r=r.add(n)),n=n.double(),t>>=et;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=ei(r,t),s=[],a=e,o=a;for(let e=0;e<n;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(e,r,n){let i=_.ZERO,s=_.BASE,a=ei(e,t);for(let e=0;e<a.windows;e++){let{nextN:t,offset:o,isZero:l,isNeg:c,isNegF:u,offsetF:d}=es(n,e,a);n=t,l?s=s.add(er(u,r[d])):i=i.add(er(c,r[o]))}return{p:i,f:s}},wNAFUnsafe(e,r,n,i=_.ZERO){let s=ei(e,t);for(let e=0;e<s.windows&&n!==ee;e++){let{nextN:t,offset:a,isZero:o,isNeg:l}=es(n,e,s);if(n=t,!o){let e=r[a];i=i.add(l?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=ea.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&ea.set(t,r(n))),n},wNAFCached(e,t,r){let n=el(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=el(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){en(r,t),eo.set(e,r),ea.delete(e)}});return{CURVE:r,ProjectivePoint:_,normPrivateKeyToScalar:y,weierstrassEquation:u,isWithinCurveOrder:function(e){return k(e,ep,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x);return(d("isCompressed",n),n)?A(Uint8Array.from([t.hasEvenY()?2:3]),s):A(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===a&&(2===n||3===n)){let e;let t=v(i);if(!k(t,ep,r.ORDER))throw Error("Point is not on curve");let s=y(t);try{e=r.sqrt(s)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&ep)===ep)&&(e=r.neg(e)),{x:t,y:e}}if(t===u&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+a+", or uncompressed "+u+", got "+t)}}),b=(e,t,r)=>v(e.slice(t,r));class S{constructor(e,t,r){C("r",e,ep,n),C("s",t,ep,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new S(b(e=I("compactSignature",e,2*i),0,i),b(e,i,2*i))}static fromDER(e){let{r:t,s:r}=eh.toSig(I("DER",e));return new S(t,r)}assertValidity(){}addRecoveryBit(e){return new S(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:a}=this,o=B(I("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let l=2===a||3===a?i+t.n:i;if(l>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let c=(1&a)==0?"02":"03",u=f.fromHex(c+g(x(l,r.BYTES))),d=W(l,n),p=h(-o*d),y=h(s*d),m=f.BASE.multiplyAndAddUnsafe(u,p,y);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return this.s>n>>ep}normalizeS(){return this.hasHighS()?new S(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return w(this.toDERHex())}toDERHex(){return eh.hexFromSig(this)}toCompactRawBytes(){return w(this.toCompactHex())}toCompactHex(){return g(x(this.r,i))+g(x(this.s,i))}}function R(e){if("bigint"==typeof e)return!1;if(e instanceof f)return!0;let n=I("key",e).length,s=r.BYTES,a=s+1;if(!t.allowedPrivateKeyLengths&&i!==a)return n===a||n===2*s+1}let U=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),r=8*e.length-s;return r>0?t>>BigInt(r):t},B=t.bits2int_modN||function(e){return h(U(e))},j=T(s);function L(e){return C("num < 2^"+s,e,ef,j),x(e,i)}let F={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};return f.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return f.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===R(e))throw Error("first arg must be private key");if(!1===R(t))throw Error("second arg must be public key");return f.fromHex(t).multiply(p(e)).toRawBytes(r)},sign:function(e,i,s=F){let{seed:a,k2sig:o}=function(e,i,s=F){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:a,randomBytes:o}=t,{lowS:l,prehash:c,extraEntropy:u}=s;null==l&&(l=!0),e=I("msgHash",e),eu(s),c&&(e=I("prehashed msgHash",a(e)));let d=B(e),y=p(i),g=[L(y),L(d)];if(null!=u&&!1!==u){let e=!0===u?o(r.BYTES):u;g.push(I("extraEntropy",e))}return{seed:A(...g),k2sig:function(e){let t=U(e);if(!m(t))return;let r=W(t,n),i=f.BASE.multiply(t).toAffine(),s=h(i.x);if(s===ef)return;let a=h(r*h(d+s*y));if(a===ef)return;let o=(i.x===s?0:2)|Number(i.y&ep),c=a;if(l&&a>n>>ep)c=a>n>>ep?h(-a):a,o^=1;return new S(s,c,o)}}}(e,i,s);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=O(e),i=O(e),s=0,a=()=>{n.fill(1),i.fill(0),s=0},o=(...e)=>r(i,n,...e),l=(e=O(0))=>{i=o(P([0]),e),n=o(),0!==e.length&&(i=o(P([1]),e),n=o())},c=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return A(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(c()));)l();return a(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(a,o)},verify:function(e,r,i,s=$){let a,o;r=I("msgHash",r),i=I("publicKey",i);let{lowS:l,prehash:u,format:d}=s;if(eu(s),"strict"in s)throw Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw Error("format must be compact or der");let p="string"==typeof e||c(e),y=!p&&!d&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!p&&!y)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(y&&(o=new S(e.r,e.s)),p){try{"compact"!==d&&(o=S.fromDER(e))}catch(e){if(!(e instanceof eh.Err))throw e}o||"der"===d||(o=S.fromCompact(e))}a=f.fromHex(i)}catch(e){return!1}if(!o||l&&o.hasHighS())return!1;u&&(r=t.hash(r));let{r:g,s:m}=o,b=B(r),w=W(m,n),v=h(b*w),_=h(g*w),x=f.BASE.multiplyAndAddUnsafe(a,v,_)?.toAffine();return!!x&&h(x.x)===g},ProjectivePoint:f,Signature:S,utils:{isValidPrivateKey(e){try{return p(e),!0}catch(e){return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let e=X(t.n);return function(e,t,r=!1){let n=e.length,i=Q(t),s=X(t);if(n<16||n<s||n>1024)throw Error("expected "+s+"-1024 bytes of input, got "+n);let a=z(r?_(e):v(e),t-M)+M;return r?E(a,i):x(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=f.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>a(t,e,(0,i.Id)(...r)),randomBytes:i.po});return{...r(t),create:r}}({a:ew,b:BigInt(7),Fp:eE,n:eb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ev*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=ex(t*e,eb),a=ex(-r*e,eb),o=z(e-s*t-a*n,eb),l=z(-s*r-a*t,eb),c=o>i,u=l>i;if(c&&(o=eb-o),u&&(l=eb-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:c,k1:o,k2neg:u,k2:l}}}},n.sc)},43003:(e,t,r)=>{"use strict";r.d(t,{B4:()=>f,CQ:()=>v,CW:()=>w,Ei:()=>d,F8:()=>_,P5:()=>h,TH:()=>x,Vl:()=>m,Vr:()=>b,WM:()=>p,WQ:()=>g,im:()=>y,jm:()=>o,lD:()=>s,qh:()=>u,rE:()=>l,ry:()=>c,xn:()=>a});let n=BigInt(0x100000000-1),i=BigInt(32);function s(e,t=!1){let r=e.length,a=new Uint32Array(r),o=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l}=function(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}(e[s],t);[a[s],o[s]]=[r,l]}return[a,o]}let a=(e,t,r)=>e>>>r,o=(e,t,r)=>e<<32-r|t>>>r,l=(e,t,r)=>e>>>r|t<<32-r,c=(e,t,r)=>e<<32-r|t>>>r,u=(e,t,r)=>e<<64-r|t>>>r-32,d=(e,t,r)=>e>>>r-32|t<<64-r,h=(e,t,r)=>e<<r|t>>>32-r,f=(e,t,r)=>t<<r|e>>>32-r,p=(e,t,r)=>t<<r-32|e>>>64-r,y=(e,t,r)=>e<<r-32|t>>>64-r;function g(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}let m=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),b=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,w=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),v=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,_=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),x=(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0},63683:(e,t,r)=>{"use strict";r.d(t,{sc:()=>d});var n=r(22868);class i extends n.Vw{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,n.O8)(this.buffer)}update(e){(0,n.CC)(this),e=(0,n.ZJ)(e),(0,n.DO)(e);let{view:t,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){let o=Math.min(i-this.pos,s-a);if(o===i){let t=(0,n.O8)(e);for(;i<=s-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.CC)(this),(0,n.Ht)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:s}=this,{pos:a}=this;t[a++]=128,(0,n.uH)(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,c=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)}(r,i-8,BigInt(8*this.length),s),this.process(r,0);let o=(0,n.O8)(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,u=this.get();if(c>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,u[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let s=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]);var a=r(43003);let o=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),l=new Uint32Array(64);class c extends i{constructor(e=32){super(64,e,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)l[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=l[e-15],r=l[e-2],i=(0,n.Ow)(t,7)^(0,n.Ow)(t,18)^t>>>3,s=(0,n.Ow)(r,17)^(0,n.Ow)(r,19)^r>>>10;l[e]=s+l[e-7]+i+l[e-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let e=0;e<64;e++){var f,p,y,g;let t=h+((0,n.Ow)(c,6)^(0,n.Ow)(c,11)^(0,n.Ow)(c,25))+((f=c)&u^~f&d)+o[e]+l[e]|0,m=((0,n.Ow)(r,2)^(0,n.Ow)(r,13)^(0,n.Ow)(r,22))+((p=r)&(y=i)^p&(g=s)^y&g)|0;h=d,d=u,u=c,c=a+t|0,a=s,s=i,i=r,r=t+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){(0,n.uH)(l)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.uH)(this.buffer)}}let u=a.lD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e)));u[0],u[1];let d=(0,n.qj)(()=>new c)},34758:(e,t,r)=>{"use strict";r.d(t,{lY:()=>v});var n=r(43003),i=r(22868);let s=BigInt(0),a=BigInt(1),o=BigInt(2),l=BigInt(7),c=BigInt(256),u=BigInt(113),d=[],h=[],f=[];for(let e=0,t=a,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],d.push(2*(5*n+r)),h.push((e+1)*(e+2)/2%64);let i=s;for(let e=0;e<7;e++)(t=(t<<a^(t>>l)*u)%c)&o&&(i^=a<<(a<<BigInt(e))-a);f.push(i)}let p=(0,n.lD)(f,!0),y=p[0],g=p[1],m=(e,t,r)=>r>32?(0,n.WM)(e,t,r):(0,n.P5)(e,t,r),b=(e,t,r)=>r>32?(0,n.im)(e,t,r):(0,n.B4)(e,t,r);class w extends i.Vw{constructor(e,t,r,n=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=s,(0,i.Fe)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.DH)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.fd)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=m(s,a,1)^r[n],l=b(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=h[r],s=m(t,i,n),a=b(t,i,n),o=d[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=y[n],e[1]^=g[n]}(0,i.uH)(r)}(this.state32,this.rounds),(0,i.fd)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.CC)(this),e=(0,i.ZJ)(e),(0,i.DO)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,i.CC)(this,!1),(0,i.DO)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.Ht)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.uH)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new w(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let v=(0,i.qj)(()=>new w(136,1,32))},22868:(e,t,r)=>{"use strict";r.d(t,{Vw:()=>g,DO:()=>s,CC:()=>o,sd:()=>a,Fe:()=>i,Ht:()=>l,uH:()=>u,Id:()=>y,qj:()=>m,O8:()=>d,po:()=>b,Ow:()=>h,fd:()=>f,ZJ:()=>p,DH:()=>c});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function s(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");i(e.outputLen),i(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function l(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function c(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function u(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function d(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function h(e,t){return e<<32-t|e>>>t}let f=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e};function p(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),s(e),e}function y(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];s(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class g{}function m(e){let t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function b(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return Uint8Array.from(n.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}},37159:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});class n extends Error{constructor(e,t={}){let r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof n&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.1.0"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}}},84531:(e,t,r)=>{"use strict";r.d(t,{UG:()=>a,xo:()=>i,zz:()=>s});var n=r(37159);class i extends n.C{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class s extends n.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class a extends n.C{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},33527:(e,t,r)=>{"use strict";r.d(t,{A9:()=>i,NO:()=>o,Pj:()=>l,dV:()=>s,nx:()=>c,zd:()=>a});var n=r(37159);class i extends n.C{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class s extends n.C{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class a extends n.C{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class o extends n.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class l extends n.C{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class c extends n.C{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},46512:(e,t,r)=>{"use strict";r.d(t,{X9:()=>a,s7:()=>i,x8:()=>s});var n=r(37159);class i extends n.C{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class s extends n.C{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class a extends n.C{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},59066:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(69838);function i(e){return"function"===e.type?`function ${e.name}(${(0,n.Q)(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${(0,n.Q)(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${(0,n.Q)(e.inputs)})`:"error"===e.type?`error ${e.name}(${(0,n.Q)(e.inputs)})`:"constructor"===e.type?`constructor(${(0,n.Q)(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable"}},69838:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(16888);let i=/^tuple(?<array>(\[(\d*)\])*)$/;function s(e){let t="",r=e.length;for(let s=0;s<r;s++)t+=function e(t){let r=t.type;if(i.test(t.type)&&"components"in t){r="(";let s=t.components.length;for(let n=0;n<s;n++)r+=e(t.components[n]),n<s-1&&(r+=", ");let a=(0,n.Yv)(i,t.type);return r+=`)${a?.array??""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[s]),s!==r-1&&(t+=", ");return t}},43845:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var n=r(55524),i=r(59894),s=r(75762);function a(e){let t=(0,i.e)(e),r=[],a=e.length;for(let i=0;i<a;i++){let a=e[i];(0,n.WL)(a)||r.push((0,s.uT)(a,t))}return r}},55524:(e,t,r)=>{"use strict";r.d(t,{Dv:()=>I,FO:()=>y,If:()=>_,Ji:()=>d,Rv:()=>l,WL:()=>p,Yo:()=>b,ej:()=>h,fC:()=>A,iB:()=>c,kz:()=>a,l9:()=>m,pc:()=>s,sP:()=>E,v7:()=>S,v8:()=>v});var n=r(16888);let i=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function s(e){return i.test(e)}function a(e){return(0,n.Yv)(i,e)}let o=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function l(e){return o.test(e)}function c(e){return(0,n.Yv)(o,e)}let u=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function d(e){return u.test(e)}function h(e){return(0,n.Yv)(u,e)}let f=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function p(e){return f.test(e)}function y(e){return(0,n.Yv)(f,e)}let g=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function m(e){return g.test(e)}function b(e){return(0,n.Yv)(g,e)}let w=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function v(e){return w.test(e)}function _(e){return(0,n.Yv)(w,e)}let x=/^receive\(\) external payable$/;function E(e){return x.test(e)}let I=new Set(["memory","indexed","storage","calldata"]),A=new Set(["indexed"]),S=new Set(["calldata","memory","storage"])},59894:(e,t,r)=>{"use strict";r.d(t,{e:()=>d});var n=r(16888),i=r(84531),s=r(33527),a=r(46512),o=r(37159);class l extends o.C{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var c=r(55524),u=r(75762);function d(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!(0,c.WL)(r))continue;let i=(0,c.FO)(r);if(!i)throw new a.s7({signature:r,type:"struct"});let s=i.properties.split(";"),o=[],l=s.length;for(let e=0;e<l;e++){let t=s[e].trim();if(!t)continue;let r=(0,u.Pj)(t,{type:"struct"});o.push(r)}if(!o.length)throw new a.X9({signature:r});t[i.name]=o}let o={},d=Object.entries(t),f=d.length;for(let e=0;e<f;e++){let[r,a]=d[e];o[r]=function e(t,r,a=new Set){let o=[],c=t.length;for(let d=0;d<c;d++){let c=t[d];if(n.wj.test(c.type))o.push(c);else{let t=(0,n.Yv)(h,c.type);if(!t?.type)throw new s.nx({abiParameter:c});let{array:d,type:f}=t;if(f in r){if(a.has(f))throw new l({type:f});o.push({...c,type:`tuple${d??""}`,components:e(r[f]??[],r,new Set([...a,f]))})}else if((0,u._o)(f))o.push(c);else throw new i.zz({type:f})}}return o}(a,t)}return o}let h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/},75762:(e,t,r)=>{"use strict";r.d(t,{_o:()=>m,Pj:()=>y,uT:()=>d,NV:()=>g});var n=r(16888),i=r(84531),s=r(33527),a=r(46512),o=r(37159);class l extends o.C{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let c=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var u=r(55524);function d(e,t={}){if((0,u.Ji)(e))return function(e,t={}){let r=(0,u.ej)(e);if(!r)throw new a.s7({signature:e,type:"function"});let n=g(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(y(n[e],{modifiers:u.v7,structs:t,type:"function"}));let o=[];if(r.returns){let e=g(r.returns),n=e.length;for(let r=0;r<n;r++)o.push(y(e[r],{modifiers:u.v7,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}(e,t);if((0,u.Rv)(e))return function(e,t={}){let r=(0,u.iB)(e);if(!r)throw new a.s7({signature:e,type:"event"});let n=g(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(y(n[e],{modifiers:u.fC,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:i}}(e,t);if((0,u.pc)(e))return function(e,t={}){let r=(0,u.kz)(e);if(!r)throw new a.s7({signature:e,type:"error"});let n=g(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(y(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:i}}(e,t);if((0,u.l9)(e))return function(e,t={}){let r=(0,u.Yo)(e);if(!r)throw new a.s7({signature:e,type:"constructor"});let n=g(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(y(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}(e,t);if((0,u.v8)(e))return function(e){let t=(0,u.If)(e);if(!t)throw new a.s7({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if((0,u.sP)(e))return{type:"receive",stateMutability:"payable"};throw new a.x8({signature:e})}let h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^u?int$/;function y(e,t){var r,a;let o;let l=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:e}(e,t?.type,t?.structs);if(c.has(l))return c.get(l);let d=n.wj.test(e),w=(0,n.Yv)(d?f:h,e);if(!w)throw new s.dV({param:e});if(w.name&&("address"===(r=w.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||n.BD.test(r)||n.Ge.test(r)||b.test(r)))throw new s.zd({param:e,name:w.name});let v=w.name?{name:w.name}:{},_="indexed"===w.modifier?{indexed:!0}:{},x=t?.structs??{},E={};if(d){o="tuple";let e=g(w.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(y(e[n],{structs:x}));E={components:t}}else if(w.type in x)o="tuple",E={components:x[w.type]};else if(p.test(w.type))o=`${w.type}256`;else if("address payable"===w.type)o="address";else if(o=w.type,t?.type!=="struct"&&!m(o))throw new i.UG({type:o});if(w.modifier){if(!t?.modifiers?.has?.(w.modifier))throw new s.NO({param:e,type:t?.type,modifier:w.modifier});if(u.v7.has(w.modifier)&&(a=o,!w.array&&"bytes"!==a&&"string"!==a&&"tuple"!==a))throw new s.Pj({param:e,type:t?.type,modifier:w.modifier})}let I={type:`${o}${w.array??""}`,...v,..._,...E};return c.set(l,I),I}function g(e,t=[],r="",n=0){let i=e.trim().length;for(let s=0;s<i;s++){let i=e[s],a=e.slice(s+1);switch(i){case",":return 0===n?g(a,[...t,r.trim()]):g(a,t,`${r}${i}`,n);case"(":return g(a,t,`${r}${i}`,n+1);case")":return g(a,t,`${r}${i}`,n-1);default:return g(a,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new l({current:r,depth:n});return t.push(r.trim()),t}function m(e){return"address"===e||"bool"===e||"function"===e||"string"===e||n.BD.test(e)||n.Ge.test(e)}let b=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},16888:(e,t,r)=>{"use strict";function n(e,t){let r=e.exec(t);return r?.groups}r.d(t,{BD:()=>i,Ge:()=>s,Yv:()=>n,wj:()=>a});let i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=/^\(.+?\).*?$/},79408:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(80219);function i(e){return{address:e.address,amount:n.oB(e.amount),index:n.oB(e.index),validatorIndex:n.oB(e.validatorIndex)}}function s(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:n.oB(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:n.oB(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:n.oB(e.gasLimit)},..."bigint"==typeof e.number&&{number:n.oB(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:n.oB(e.prevRandao)},..."bigint"==typeof e.time&&{time:n.oB(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i)}}}},71261:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});class n extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof n){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof n&&t.cause.docsPath||t.docsPath,s=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${s}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}},80219:(e,t,r)=>{"use strict";r.d(t,{Dg:()=>b,Ej:()=>m,Fl:()=>S,HT:()=>c,Ho:()=>p,M7:()=>y,Ro:()=>w,Ty:()=>_,di:()=>g,ii:()=>A,oB:()=>h,sH:()=>f,tf:()=>v,u:()=>I,uK:()=>d,xW:()=>l,xb:()=>u});var n=r(71261),i=r(33453),s=r(52080);let a=new TextEncoder,o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function l(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function c(e){return e instanceof Uint8Array?d(e):Array.isArray(e)?d(new Uint8Array(e)):e}function u(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(i.Sl(r,t.size),p(r,t.size)):r}function d(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=o[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(i.Sl(n,t.size),y(n,t.size)):n}function h(e,t={}){let r;let{signed:n,size:i}=t,s=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let a="bigint"==typeof r&&n?-r-1n:0;if(r&&s>r||s<a){let t="bigint"==typeof e?"n":"";throw new _({max:r?`${r}${t}`:void 0,min:`${a}${t}`,signed:n,size:i,value:`${e}${t}`})}let o=(n&&s<0?(1n<<BigInt(8*i))+BigInt(s):s).toString(16),l=`0x${o}`;return i?p(l,i):l}function f(e,t={}){return d(a.encode(e),t)}function p(e,t){return i.eV(e,{dir:"left",size:t})}function y(e,t){return i.eV(e,{dir:"right",size:t})}function g(e,t,r,n={}){let{strict:s}=n;i.kK(e,t);let a=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return s&&i.X(a,t,r),a}function m(e){return Math.ceil((e.length-2)/2)}function b(e,t={}){let{signed:r}=t;t.size&&i.Sl(e,t.size);let n=BigInt(e);if(!r)return n;let s=(1n<<8n*BigInt((e.length-2)/2))-1n;return n<=s>>1n?n:n-s-1n}function w(e,t={}){let{signed:r,size:n}=t;return r||n?Number(b(e,t)):Number(e)}function v(e,t={}){let{strict:r=!1}=t;try{return!function(e,t={}){let{strict:r=!1}=t;if(!e||"string"!=typeof e)throw new x(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e)||!e.startsWith("0x"))throw new E(e)}(e,{strict:r}),!0}catch{return!1}}class _ extends n.C{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}n.C;class x extends n.C{constructor(e){super(`Value \`${"object"==typeof e?s.A(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class E extends n.C{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class I extends n.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class A extends n.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class S extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},52080:(e,t,r)=>{"use strict";function n(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}r.d(t,{A:()=>n})},33453:(e,t,r)=>{"use strict";r.d(t,{Sl:()=>i,X:()=>a,eV:()=>o,kK:()=>s});var n=r(80219);function i(e,t){if(n.Ej(e)>t)throw new n.u({givenSize:n.Ej(e),maxSize:t})}function s(e,t){if("number"==typeof t&&t>0&&t>n.Ej(e)-1)throw new n.ii({offset:t,position:"start",size:n.Ej(e)})}function a(e,t,r){if("number"==typeof t&&"number"==typeof r&&n.Ej(e)!==r-t)throw new n.ii({offset:r,position:"end",size:n.Ej(e)})}function o(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;let s=e.replace("0x","");if(s.length>2*i)throw new n.Fl({size:Math.ceil(s.length/2),targetSize:i,type:"Hex"});return`0x${s["right"===r?"padEnd":"padStart"](2*i,"0")}`}},88395:(e,t,r)=>{"use strict";r.d(t,{R:()=>a,x:()=>o});var n=r(12115),i=r(19362);function s(e){let{children:t,config:r,initialState:s,reconnectOnMount:a=!0}=e,{onMount:o}=function(e,t){let{initialState:r,reconnectOnMount:n}=t;return r&&!e._internal.store.persist.hasHydrated()&&e.setState({...r,chainId:e.chains.some(e=>e.id===r.chainId)?r.chainId:e.chains[0].id,connections:n?r.connections:new Map,status:n?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(t=>{let r=new Set;for(let e of t??[])if(e.rdns)for(let t of Array.isArray(e.rdns)?e.rdns:[e.rdns])r.add(t);let n=[];for(let t of e._internal.mipd?.getProviders()??[]){if(r.has(t.info.rdns))continue;let i=e._internal.connectors.providerDetailToConnector(t),s=e._internal.connectors.setup(i);n.push(s)}return[...t,...n]})),n?(0,i.M)(e):e.storage&&e.setState(e=>({...e,connections:new Map}))}}}(r,{initialState:s,reconnectOnMount:a});r._internal.ssr||o();let l=(0,n.useRef)(!0);return(0,n.useEffect)(()=>{if(l.current&&r._internal.ssr)return o(),()=>{l.current=!1}},[]),t}let a=(0,n.createContext)(void 0);function o(e){let{children:t,config:r}=e;return(0,n.createElement)(s,e,(0,n.createElement)(a.Provider,{value:r},t))}},35965:(e,t,r)=>{"use strict";r.d(t,{F:()=>u});var n=r(12443),i=r(23454),s=r(57342),a=r(36919),o=r(12115),l=r(83961);let c=e=>"object"==typeof e&&!Array.isArray(e);function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.U)(e);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.b,i=(0,o.useRef)([]),s=(0,l.useSyncExternalStoreWithSelector)(e,t,r,e=>e,(e,t)=>{if(c(e)&&c(t)&&i.current.length){for(let r of i.current)if(!n(e[r],t[r]))return!1;return!0}return n(e,t)});return(0,o.useMemo)(()=>{if(c(s)){let e={...s},t={};for(let[r,n]of Object.entries(e))t={...t,[r]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(r)||i.current.push(r),n)}};return Object.defineProperties(e,t),e}return s},[s])}(e=>(0,n.F)(t,{onChange:e}),()=>(0,i.s)(t))}},48517:(e,t,r)=>{"use strict";function n(e){return e.state.chainId}r.d(t,{i:()=>a});var i=r(12115),s=r(57342);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.U)(e);return(0,i.useSyncExternalStore)(e=>(function(e,t){let{onChange:r}=t;return e.subscribe(e=>e.chainId,r)})(t,{onChange:e}),()=>n(t),()=>n(t))}},23308:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var n=r(36919);let i=[];function s(e){let t=e.chains;return(0,n.b)(i,t)?i:(i=t,t)}var a=r(12115),o=r(57342);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.U)(e);return(0,a.useSyncExternalStore)(e=>(function(e,t){let{onChange:r}=t;return e._internal.chains.subscribe((e,t)=>{r(e,t)})})(t,{onChange:e}),()=>s(t),()=>s(t))}},57342:(e,t,r)=>{"use strict";r.d(t,{U:()=>c});var n=r(12115),i=r(88395),s=r(36674);let a=()=>"wagmi@2.19.5";class o extends s.C{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return a()}}class l extends o{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function c(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null!==(e=t.config)&&void 0!==e?e:(0,n.useContext)(i.R);if(!r)throw new l;return r}},17341:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(25848),i=r(19362),s=r(57342);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:t}=e,r=(0,s.U)(e),{mutate:a,mutateAsync:o,...l}=(0,n.n)({...t,mutationFn:e=>(0,i.M)(r,e),mutationKey:["reconnect"]});return{...l,connectors:r.connectors,reconnect:a,reconnectAsync:o}}},73103:(e,t,r)=>{"use strict";r.d(t,{R:()=>c});var n=r(25848),i=r(22537),s=r(77434);async function a(e,t){let{addEthereumChainParameter:r,chainId:n}=t,a=e.state.connections.get(t.connector?.uid??e.state.current);if(a){let e=a.connector;if(!e.switchChain)throw new s.V({connector:e});return await e.switchChain({addEthereumChainParameter:r,chainId:n})}let o=e.chains.find(e=>e.id===n);if(!o)throw new i.nk;return e.setState(e=>({...e,chainId:n})),o}var o=r(23308),l=r(57342);function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:t}=e,r=(0,l.U)(e),{mutate:i,mutateAsync:s,...c}=(0,n.n)({...t,mutationFn:e=>a(r,e),mutationKey:["switchChain"]});return{...c,chains:(0,o.Q)({config:r}),switchChain:i,switchChainAsync:s}}},85243:(e,t,r)=>{"use strict";let n,i;var s,a,o,l,c,u,d,h,f=Object.defineProperty,p=(e,t)=>{for(var r in t)f(e,r,{get:t[r],enumerable:!0})},y={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},0x135a9d92:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},g=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(s||(s={})),(a||(a={})).mergeShapes=(e,t)=>({...e,...t});let m=s.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),b=e=>{switch(typeof e){case"undefined":return m.undefined;case"string":return m.string;case"number":return Number.isNaN(e)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":if(Array.isArray(e))return m.array;if(null===e)return m.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return m.promise;if("undefined"!=typeof Map&&e instanceof Map)return m.map;if("undefined"!=typeof Set&&e instanceof Set)return m.set;if("undefined"!=typeof Date&&e instanceof Date)return m.date;return m.object;default:return m.unknown}},w=s.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class v extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof v))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,s.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}v.create=e=>new v(e);let _=(e,t)=>{let r;switch(e.code){case w.invalid_type:r=e.received===m.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case w.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,s.jsonStringifyReplacer)}`;break;case w.unrecognized_keys:r=`Unrecognized key(s) in object: ${s.joinValues(e.keys,", ")}`;break;case w.invalid_union:r="Invalid input";break;case w.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${s.joinValues(e.options)}`;break;case w.invalid_enum_value:r=`Invalid enum value. Expected ${s.joinValues(e.options)}, received '${e.received}'`;break;case w.invalid_arguments:r="Invalid function arguments";break;case w.invalid_return_type:r="Invalid function return type";break;case w.invalid_date:r="Invalid date";break;case w.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:s.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case w.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case w.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case w.custom:r="Invalid input";break;case w.invalid_intersection_types:r="Intersection results could not be merged";break;case w.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case w.not_finite:r="Number must be finite";break;default:r=t.defaultError,s.assertNever(e)}return{message:r}};!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(o||(o={}));let x=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function E(e,t){let r=x({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,_,_==_?void 0:_].filter(e=>!!e)});e.common.issues.push(r)}class I{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return A;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return I.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return A;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let A=Object.freeze({status:"aborted"}),S=e=>({status:"dirty",value:e}),k=e=>({status:"valid",value:e}),C=e=>"aborted"===e.status,T=e=>"dirty"===e.status,O=e=>"valid"===e.status,P=e=>"undefined"!=typeof Promise&&e instanceof Promise;class R{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let D=(e,t)=>{if(O(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new v(e.common.issues);return this._error=t,this._error}}};function N(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:s}=e;return"invalid_enum_value"===t.code?{message:s??i.defaultError}:void 0===i.data?{message:s??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:s??r??i.defaultError}},description:i}}class U{get description(){return this._def.description}_getType(e){return b(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:b(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new I,ctx:{common:e.parent.common,data:e.data,parsedType:b(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(P(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:b(e)},n=this._parseSync({data:e,path:r.path,parent:r});return D(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:b(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return O(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>O(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:b(e)},n=this._parse({data:e,path:r.path,parent:r});return D(r,await (P(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),s=()=>n.addIssue({code:w.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new eC({schema:this,typeName:l.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eT.create(this,this._def)}nullable(){return eO.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ed.create(this)}promise(){return ek.create(this,this._def)}or(e){return ef.create([this,e],this._def)}and(e){return eg.create(this,e,this._def)}transform(e){return new eC({...N(this._def),schema:this,typeName:l.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eP({...N(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:l.ZodDefault})}brand(){return new eN({typeName:l.ZodBranded,type:this,...N(this._def)})}catch(e){return new eR({...N(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:l.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eU.create(this,e)}readonly(){return eM.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let M=/^c[^\s-]{8,}$/i,B=/^[0-9a-z]+$/,j=/^[0-9A-HJKMNP-TV-Z]{26}$/i,L=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,F=/^[a-z0-9_-]{21}$/i,$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,z=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,q=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,W=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,V=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,K=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,G=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Z=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,J="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Y=RegExp(`^${J}$`);function Q(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}class X extends U{_parse(e){var t,r,i,a;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==m.string){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.string,received:t.parsedType}),A}let l=new I;for(let c of this._def.checks)if("min"===c.kind)e.data.length<c.value&&(E(o=this._getOrReturnCtx(e,o),{code:w.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if("max"===c.kind)e.data.length>c.value&&(E(o=this._getOrReturnCtx(e,o),{code:w.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),l.dirty());else if("length"===c.kind){let t=e.data.length>c.value,r=e.data.length<c.value;(t||r)&&(o=this._getOrReturnCtx(e,o),t?E(o,{code:w.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):r&&E(o,{code:w.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),l.dirty())}else if("email"===c.kind)q.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"email",code:w.invalid_string,message:c.message}),l.dirty());else if("emoji"===c.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:w.invalid_string,message:c.message}),l.dirty());else if("uuid"===c.kind)L.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:w.invalid_string,message:c.message}),l.dirty());else if("nanoid"===c.kind)F.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:w.invalid_string,message:c.message}),l.dirty());else if("cuid"===c.kind)M.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:w.invalid_string,message:c.message}),l.dirty());else if("cuid2"===c.kind)B.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:w.invalid_string,message:c.message}),l.dirty());else if("ulid"===c.kind)j.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:w.invalid_string,message:c.message}),l.dirty());else if("url"===c.kind)try{new URL(e.data)}catch{E(o=this._getOrReturnCtx(e,o),{validation:"url",code:w.invalid_string,message:c.message}),l.dirty()}else"regex"===c.kind?(c.regex.lastIndex=0,c.regex.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"regex",code:w.invalid_string,message:c.message}),l.dirty())):"trim"===c.kind?e.data=e.data.trim():"includes"===c.kind?e.data.includes(c.value,c.position)||(E(o=this._getOrReturnCtx(e,o),{code:w.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),l.dirty()):"toLowerCase"===c.kind?e.data=e.data.toLowerCase():"toUpperCase"===c.kind?e.data=e.data.toUpperCase():"startsWith"===c.kind?e.data.startsWith(c.value)||(E(o=this._getOrReturnCtx(e,o),{code:w.invalid_string,validation:{startsWith:c.value},message:c.message}),l.dirty()):"endsWith"===c.kind?e.data.endsWith(c.value)||(E(o=this._getOrReturnCtx(e,o),{code:w.invalid_string,validation:{endsWith:c.value},message:c.message}),l.dirty()):"datetime"===c.kind?(function(e){let t=`${J}T${Q(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)})(c).test(e.data)||(E(o=this._getOrReturnCtx(e,o),{code:w.invalid_string,validation:"datetime",message:c.message}),l.dirty()):"date"===c.kind?Y.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{code:w.invalid_string,validation:"date",message:c.message}),l.dirty()):"time"===c.kind?RegExp(`^${Q(c)}$`).test(e.data)||(E(o=this._getOrReturnCtx(e,o),{code:w.invalid_string,validation:"time",message:c.message}),l.dirty()):"duration"===c.kind?z.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"duration",code:w.invalid_string,message:c.message}),l.dirty()):"ip"===c.kind?(t=e.data,("v4"===(r=c.version)||!r)&&W.test(t)||("v6"===r||!r)&&V.test(t)||(E(o=this._getOrReturnCtx(e,o),{validation:"ip",code:w.invalid_string,message:c.message}),l.dirty())):"jwt"===c.kind?!function(e,t){if(!$.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,c.alg)&&(E(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:w.invalid_string,message:c.message}),l.dirty()):"cidr"===c.kind?(i=e.data,("v4"===(a=c.version)||!a)&&H.test(i)||("v6"===a||!a)&&K.test(i)||(E(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:w.invalid_string,message:c.message}),l.dirty())):"base64"===c.kind?G.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"base64",code:w.invalid_string,message:c.message}),l.dirty()):"base64url"===c.kind?Z.test(e.data)||(E(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:w.invalid_string,message:c.message}),l.dirty()):s.assertNever(c);return{status:l.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:w.invalid_string,...o.errToObj(r)})}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...o.errToObj(e)})}url(e){return this._addCheck({kind:"url",...o.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...o.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...o.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...o.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...o.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...o.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...o.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...o.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...o.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...o.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...o.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...o.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...o.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...o.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...o.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...o.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...o.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...o.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...o.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...o.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...o.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...o.errToObj(t)})}nonempty(e){return this.min(1,o.errToObj(e))}trim(){return new X({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}X.create=e=>new X({checks:[],typeName:l.ZodString,coerce:e?.coerce??!1,...N(e)});class ee extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==m.number){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.number,received:t.parsedType}),A}let r=new I;for(let n of this._def.checks)"int"===n.kind?s.isInteger(e.data)||(E(t=this._getOrReturnCtx(e,t),{code:w.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(E(t=this._getOrReturnCtx(e,t),{code:w.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(E(t=this._getOrReturnCtx(e,t),{code:w.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,n.value)&&(E(t=this._getOrReturnCtx(e,t),{code:w.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(E(t=this._getOrReturnCtx(e,t),{code:w.not_finite,message:n.message}),r.dirty()):s.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,o.toString(t))}gt(e,t){return this.setLimit("min",e,!1,o.toString(t))}lte(e,t){return this.setLimit("max",e,!0,o.toString(t))}lt(e,t){return this.setLimit("max",e,!1,o.toString(t))}setLimit(e,t,r,n){return new ee({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:o.toString(n)}]})}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:o.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:o.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:o.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:o.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:o.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:o.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:o.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:o.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:o.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&s.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ee.create=e=>new ee({checks:[],typeName:l.ZodNumber,coerce:e?.coerce||!1,...N(e)});class et extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==m.bigint)return this._getInvalidInput(e);let r=new I;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(E(t=this._getOrReturnCtx(e,t),{code:w.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(E(t=this._getOrReturnCtx(e,t),{code:w.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(E(t=this._getOrReturnCtx(e,t),{code:w.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):s.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.bigint,received:t.parsedType}),A}gte(e,t){return this.setLimit("min",e,!0,o.toString(t))}gt(e,t){return this.setLimit("min",e,!1,o.toString(t))}lte(e,t){return this.setLimit("max",e,!0,o.toString(t))}lt(e,t){return this.setLimit("max",e,!1,o.toString(t))}setLimit(e,t,r,n){return new et({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:o.toString(n)}]})}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:o.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:o.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:o.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:o.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:o.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}et.create=e=>new et({checks:[],typeName:l.ZodBigInt,coerce:e?.coerce??!1,...N(e)});class er extends U{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==m.boolean){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.boolean,received:t.parsedType}),A}return k(e.data)}}er.create=e=>new er({typeName:l.ZodBoolean,coerce:e?.coerce||!1,...N(e)});class en extends U{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==m.date){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.date,received:t.parsedType}),A}if(Number.isNaN(e.data.getTime()))return E(this._getOrReturnCtx(e),{code:w.invalid_date}),A;let r=new I;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(E(t=this._getOrReturnCtx(e,t),{code:w.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(E(t=this._getOrReturnCtx(e,t),{code:w.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):s.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new en({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:o.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:o.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}en.create=e=>new en({checks:[],coerce:e?.coerce||!1,typeName:l.ZodDate,...N(e)});class ei extends U{_parse(e){if(this._getType(e)!==m.symbol){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.symbol,received:t.parsedType}),A}return k(e.data)}}ei.create=e=>new ei({typeName:l.ZodSymbol,...N(e)});class es extends U{_parse(e){if(this._getType(e)!==m.undefined){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.undefined,received:t.parsedType}),A}return k(e.data)}}es.create=e=>new es({typeName:l.ZodUndefined,...N(e)});class ea extends U{_parse(e){if(this._getType(e)!==m.null){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.null,received:t.parsedType}),A}return k(e.data)}}ea.create=e=>new ea({typeName:l.ZodNull,...N(e)});class eo extends U{constructor(){super(...arguments),this._any=!0}_parse(e){return k(e.data)}}eo.create=e=>new eo({typeName:l.ZodAny,...N(e)});class el extends U{constructor(){super(...arguments),this._unknown=!0}_parse(e){return k(e.data)}}el.create=e=>new el({typeName:l.ZodUnknown,...N(e)});class ec extends U{_parse(e){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.never,received:t.parsedType}),A}}ec.create=e=>new ec({typeName:l.ZodNever,...N(e)});class eu extends U{_parse(e){if(this._getType(e)!==m.undefined){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.void,received:t.parsedType}),A}return k(e.data)}}eu.create=e=>new eu({typeName:l.ZodVoid,...N(e)});class ed extends U{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==m.array)return E(t,{code:w.invalid_type,expected:m.array,received:t.parsedType}),A;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(E(t,{code:e?w.too_big:w.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(E(t,{code:w.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(E(t,{code:w.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new R(t,e,t.path,r)))).then(e=>I.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new R(t,e,t.path,r)));return I.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new ed({...this._def,minLength:{value:e,message:o.toString(t)}})}max(e,t){return new ed({...this._def,maxLength:{value:e,message:o.toString(t)}})}length(e,t){return new ed({...this._def,exactLength:{value:e,message:o.toString(t)}})}nonempty(e){return this.min(1,e)}}ed.create=(e,t)=>new ed({type:e,minLength:null,maxLength:null,exactLength:null,typeName:l.ZodArray,...N(t)});class eh extends U{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=s.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==m.object){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.object,received:t.parsedType}),A}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof ec&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let a=[];for(let e of i){let t=n[e],i=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new R(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ec){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(E(r,{code:w.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new R(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>I.mergeObjectSync(t,e)):I.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return o.errToObj,new eh({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:o.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new eh({...this._def,unknownKeys:"strip"})}passthrough(){return new eh({...this._def,unknownKeys:"passthrough"})}extend(e){return new eh({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new eh({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:l.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new eh({...this._def,catchall:e})}pick(e){let t={};for(let r of s.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new eh({...this._def,shape:()=>t})}omit(e){let t={};for(let r of s.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new eh({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof eh){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=eT.create(e(i))}return new eh({...t._def,shape:()=>r})}return t instanceof ed?new ed({...t._def,type:e(t.element)}):t instanceof eT?eT.create(e(t.unwrap())):t instanceof eO?eO.create(e(t.unwrap())):t instanceof em?em.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};for(let r of s.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new eh({...this._def,shape:()=>t})}required(e){let t={};for(let r of s.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eT;)e=e._def.innerType;t[r]=e}return new eh({...this._def,shape:()=>t})}keyof(){return eI(s.objectKeys(this.shape))}}eh.create=(e,t)=>new eh({shape:()=>e,unknownKeys:"strip",catchall:ec.create(),typeName:l.ZodObject,...N(t)}),eh.strictCreate=(e,t)=>new eh({shape:()=>e,unknownKeys:"strict",catchall:ec.create(),typeName:l.ZodObject,...N(t)}),eh.lazycreate=(e,t)=>new eh({shape:e,unknownKeys:"strip",catchall:ec.create(),typeName:l.ZodObject,...N(t)});class ef extends U{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new v(e.ctx.common.issues));return E(t,{code:w.invalid_union,unionErrors:r}),A});{let e;let n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new v(e));return E(t,{code:w.invalid_union,unionErrors:i}),A}}get options(){return this._def.options}}ef.create=(e,t)=>new ef({options:e,typeName:l.ZodUnion,...N(t)});let ep=e=>{if(e instanceof ex)return ep(e.schema);if(e instanceof eC)return ep(e.innerType());if(e instanceof eE)return[e.value];if(e instanceof eA)return e.options;if(e instanceof eS)return s.objectValues(e.enum);if(e instanceof eP)return ep(e._def.innerType);if(e instanceof es)return[void 0];else if(e instanceof ea)return[null];else if(e instanceof eT)return[void 0,...ep(e.unwrap())];else if(e instanceof eO)return[null,...ep(e.unwrap())];else if(e instanceof eN)return ep(e.unwrap());else if(e instanceof eM)return ep(e.unwrap());else if(e instanceof eR)return ep(e._def.innerType);else return[]};class ey extends U{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.object)return E(t,{code:w.invalid_type,expected:m.object,received:t.parsedType}),A;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(E(t,{code:w.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),A)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ep(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new ey({typeName:l.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...N(r)})}}class eg extends U{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(C(e)||C(n))return A;let i=function e(t,r){let n=b(t),i=b(r);if(t===r)return{valid:!0,data:t};if(n===m.object&&i===m.object){let n=s.objectKeys(r),i=s.objectKeys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};a[n]=i.data}return{valid:!0,data:a}}if(n===m.array&&i===m.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===m.date&&i===m.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return i.valid?((T(e)||T(n))&&t.dirty(),{status:t.value,value:i.data}):(E(r,{code:w.invalid_intersection_types}),A)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eg.create=(e,t,r)=>new eg({left:e,right:t,typeName:l.ZodIntersection,...N(r)});class em extends U{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.array)return E(r,{code:w.invalid_type,expected:m.array,received:r.parsedType}),A;if(r.data.length<this._def.items.length)return E(r,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),A;!this._def.rest&&r.data.length>this._def.items.length&&(E(r,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new R(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>I.mergeArray(t,e)):I.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new em({...this._def,rest:e})}}em.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new em({items:e,typeName:l.ZodTuple,rest:null,...N(t)})};class eb extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.object)return E(r,{code:w.invalid_type,expected:m.object,received:r.parsedType}),A;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new R(r,e,r.path,e)),value:s._parse(new R(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?I.mergeObjectAsync(t,n):I.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new eb(t instanceof U?{keyType:e,valueType:t,typeName:l.ZodRecord,...N(r)}:{keyType:X.create(),valueType:e,typeName:l.ZodRecord,...N(t)})}}class ew extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.map)return E(r,{code:w.invalid_type,expected:m.map,received:r.parsedType}),A;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new R(r,e,r.path,[s,"key"])),value:i._parse(new R(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return A;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return A;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}ew.create=(e,t,r)=>new ew({valueType:t,keyType:e,typeName:l.ZodMap,...N(r)});class ev extends U{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.set)return E(r,{code:w.invalid_type,expected:m.set,received:r.parsedType}),A;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(E(r,{code:w.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(E(r,{code:w.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return A;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>i._parse(new R(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new ev({...this._def,minSize:{value:e,message:o.toString(t)}})}max(e,t){return new ev({...this._def,maxSize:{value:e,message:o.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ev.create=(e,t)=>new ev({valueType:e,minSize:null,maxSize:null,typeName:l.ZodSet,...N(t)});class e_ extends U{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.function)return E(t,{code:w.invalid_type,expected:m.function,received:t.parsedType}),A;function r(e,r){return x({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_,_].filter(e=>!!e),issueData:{code:w.invalid_arguments,argumentsError:r}})}function n(e,r){return x({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_,_].filter(e=>!!e),issueData:{code:w.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof ek){let e=this;return k(async function(...t){let a=new v([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(r(t,e)),a}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw a.addIssue(n(l,e)),a})})}{let e=this;return k(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new v([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new v([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new e_({...this._def,args:em.create(e).rest(el.create())})}returns(e){return new e_({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new e_({args:e||em.create([]).rest(el.create()),returns:t||el.create(),typeName:l.ZodFunction,...N(r)})}}class ex extends U{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ex.create=(e,t)=>new ex({getter:e,typeName:l.ZodLazy,...N(t)});class eE extends U{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return E(t,{received:t.data,code:w.invalid_literal,expected:this._def.value}),A}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eI(e,t){return new eA({values:e,typeName:l.ZodEnum,...N(t)})}eE.create=(e,t)=>new eE({value:e,typeName:l.ZodLiteral,...N(t)});class eA extends U{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return E(t,{expected:s.joinValues(r),received:t.parsedType,code:w.invalid_type}),A}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return E(t,{received:t.data,code:w.invalid_enum_value,options:r}),A}return k(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eA.create(e,{...this._def,...t})}exclude(e,t=this._def){return eA.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}eA.create=eI;class eS extends U{_parse(e){let t=s.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==m.string&&r.parsedType!==m.number){let e=s.objectValues(t);return E(r,{expected:s.joinValues(e),received:r.parsedType,code:w.invalid_type}),A}if(this._cache||(this._cache=new Set(s.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=s.objectValues(t);return E(r,{received:r.data,code:w.invalid_enum_value,options:e}),A}return k(e.data)}get enum(){return this._def.values}}eS.create=(e,t)=>new eS({values:e,typeName:l.ZodNativeEnum,...N(t)});class ek extends U{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==m.promise&&!1===t.common.async?(E(t,{code:w.invalid_type,expected:m.promise,received:t.parsedType}),A):k((t.parsedType===m.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ek.create=(e,t)=>new ek({type:e,typeName:l.ZodPromise,...N(t)});class eC extends U{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===l.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{E(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return A;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?A:"dirty"===n.status||"dirty"===t.value?S(n.value):n});{if("aborted"===t.value)return A;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?A:"dirty"===n.status||"dirty"===t.value?S(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?A:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?A:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>O(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):A);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!O(e))return A;let s=n.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}}s.assertNever(n)}}eC.create=(e,t,r)=>new eC({schema:e,typeName:l.ZodEffects,effect:t,...N(r)}),eC.createWithPreprocess=(e,t,r)=>new eC({schema:t,effect:{type:"preprocess",transform:e},typeName:l.ZodEffects,...N(r)});class eT extends U{_parse(e){return this._getType(e)===m.undefined?k(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eT.create=(e,t)=>new eT({innerType:e,typeName:l.ZodOptional,...N(t)});class eO extends U{_parse(e){return this._getType(e)===m.null?k(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eO.create=(e,t)=>new eO({innerType:e,typeName:l.ZodNullable,...N(t)});class eP extends U{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===m.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eP.create=(e,t)=>new eP({innerType:e,typeName:l.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...N(t)});class eR extends U{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return P(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new v(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new v(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eR.create=(e,t)=>new eR({innerType:e,typeName:l.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...N(t)});class eD extends U{_parse(e){if(this._getType(e)!==m.nan){let t=this._getOrReturnCtx(e);return E(t,{code:w.invalid_type,expected:m.nan,received:t.parsedType}),A}return{status:"valid",value:e.data}}}eD.create=e=>new eD({typeName:l.ZodNaN,...N(e)}),Symbol("zod_brand");class eN extends U{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eU extends U{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?A:"dirty"===e.status?(t.dirty(),S(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?A:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eU({in:e,out:t,typeName:l.ZodPipeline})}}class eM extends U{_parse(e){let t=this._def.innerType._parse(e),r=e=>(O(e)&&(e.value=Object.freeze(e.value)),e);return P(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}eM.create=(e,t)=>new eM({innerType:e,typeName:l.ZodReadonly,...N(t)}),eh.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(l||(l={}));let eB=X.create,ej=ee.create;eD.create,et.create;let eL=er.create,eF=en.create;ei.create,es.create,ea.create;let e$=eo.create;el.create,ec.create,eu.create;let ez=ed.create,eq=eh.create;eh.strictCreate;let eW=ef.create,eH=ey.create;eg.create,em.create;let eV=eb.create;ew.create,ev.create,e_.create,ex.create;let eK=eE.create,eG=eA.create;eS.create,ek.create,eC.create,eT.create,eO.create,eC.createWithPreprocess,eU.create;var eZ=r(11326),eJ=r(96355),eY=r(80205),eQ=r(94895),eX=r(68275),e0=r(45732),e1=r(76397),e2=r(98979),e6=r(55878),e5=r(58981),e8=r(6035),e3=r(68613),e4=r(53864),e9=r(26542);let e7=32n*e9.Au,te={block:(0,e6.R)({format(e){let t=e.transactions?.map(e=>{if("string"==typeof e)return e;let t=te.transaction?.format(e);return"0x71"===t.typeHex?t.type="eip712":"0xff"===t.typeHex&&(t.type="priority"),t});return{l1BatchNumber:e.l1BatchNumber?(0,e0.uU)(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?(0,e0.uU)(e.l1BatchTimestamp):null,transactions:t}}}),transaction:(0,e8.gU)({format(e){let t={};return"0x71"===e.type?t.type="eip712":"0xff"===e.type&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?(0,e0.uU)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,e0.uU)(e.l1BatchTxIndex):null}}}),transactionReceipt:(0,e3.WB)({format:e=>({l1BatchNumber:e.l1BatchNumber?(0,e0.uU)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,e0.uU)(e.l1BatchTxIndex):null,logs:e.logs.map(e=>({...(0,e5.e)(e),l1BatchNumber:e.l1BatchNumber?(0,e0.uU)(e.l1BatchNumber):null,transactionLogIndex:(0,e0.ME)(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:e.l2ToL1Logs.map(e=>({blockNumber:(0,e0.uU)(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?(0,e0.uU)(e.l1BatchNumber):null,transactionIndex:(0,e0.uU)(e.transactionIndex),shardId:(0,e0.uU)(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:(0,e0.uU)(e.logIndex)}))})}),transactionRequest:(0,e4.bm)({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format:e=>e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:(0,e2.nj)(e.gasPerPubdata)}:{gasPerPubdata:(0,e2.nj)(50000n)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from((0,e1.aT)(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(e=>Array.from((0,e1.aT)(e)))}:{},...e.customSignature?{customSignature:Array.from((0,e1.aT)(e.customSignature))}:{}},type:"0x71"}:{}})};var tt=r(16704),tr=r(15456),tn=r(45757),ti=r(73492),ts=r(94949),ta=r(53502),to=r(43279),tl=r(67368),tc=r(6999),tu=r(61117),td=r(80477),th=r(20624),tf=r(89780),tp=r(87939),ty=r(34354),tg=r(91149),tm=r(22162);function tb(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=e;if(t<=0)throw new tf.qD({chainId:t});if(i&&!(0,ty.P)(i))throw new tu.M({address:i});if(n&&n>e9.Ao)throw new tp.BG({maxFeePerGas:n});if(r&&n&&r>n)throw new tp.lN({maxFeePerGas:n,maxPriorityFeePerGas:r})}var tw=r(75086);function tv(e){if(!e||0===e.length)return[];let t=[];for(let r=0;r<e.length;r++){let{address:n,storageKeys:i}=e[r];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new tn.fZ({storageKey:i[e]});if(!(0,ty.P)(n,{strict:!1}))throw new tu.M({address:n});t.push([n,i])}return t}function t_(e,t){let r=(0,tw.L)(e);return"eip1559"===r?function(e,t){let{chainId:r,gas:n,nonce:i,to:s,value:a,maxFeePerGas:o,maxPriorityFeePerGas:l,accessList:c,data:u}=e;tb(e);let d=tv(c),h=[(0,e2.cK)(r),i?(0,e2.cK)(i):"0x",l?(0,e2.cK)(l):"0x",o?(0,e2.cK)(o):"0x",n?(0,e2.cK)(n):"0x",s??"0x",a?(0,e2.cK)(a):"0x",u??"0x",d,...tx(e,t)];return(0,tt.aP)(["0x02",(0,tr.EQ)(h)])}(e,t):"eip2930"===r?function(e,t){let{chainId:r,gas:n,data:i,nonce:s,to:a,value:o,accessList:l,gasPrice:c}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(t<=0)throw new tf.qD({chainId:t});if(s&&!(0,ty.P)(s))throw new tu.M({address:s});if(r||i)throw new td.C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>e9.Ao)throw new tp.BG({maxFeePerGas:n})}(e);let u=tv(l),d=[(0,e2.cK)(r),s?(0,e2.cK)(s):"0x",c?(0,e2.cK)(c):"0x",n?(0,e2.cK)(n):"0x",a??"0x",o?(0,e2.cK)(o):"0x",i??"0x",u,...tx(e,t)];return(0,tt.aP)(["0x01",(0,tr.EQ)(d)])}(e,t):"eip4844"===r?function(e,t){let{chainId:r,gas:n,nonce:i,to:s,value:a,maxFeePerBlobGas:o,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new th.zF;for(let e of t){let t=(0,tg.E)(e),r=(0,e0.ME)((0,tm.di)(e,0,1));if(32!==t)throw new th.uP({hash:e,size:t});if(r!==tc.E)throw new th.PK({hash:e,version:r})}}tb(e)}(e);let h=e.blobVersionedHashes,f=e.sidecars;if(e.blobs&&(void 0===h||void 0===f)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,e2.My)(e)),r=e.kzg,n=(0,ti.S)({blobs:t,kzg:r});if(void 0===h&&(h=(0,ta.d)({commitments:n})),void 0===f){let e=(0,ts.t)({blobs:t,commitments:n,kzg:r});f=(0,to.T)({blobs:t,commitments:n,proofs:e})}}let p=tv(u),y=[(0,e2.cK)(r),i?(0,e2.cK)(i):"0x",c?(0,e2.cK)(c):"0x",l?(0,e2.cK)(l):"0x",n?(0,e2.cK)(n):"0x",s??"0x",a?(0,e2.cK)(a):"0x",d??"0x",p,o?(0,e2.cK)(o):"0x",h??[],...tx(e,t)],g=[],m=[],b=[];if(f)for(let e=0;e<f.length;e++){let{blob:t,commitment:r,proof:n}=f[e];g.push(t),m.push(r),b.push(n)}return(0,tt.aP)(["0x03",f?(0,tr.EQ)([y,g,m,b]):(0,tr.EQ)(y)])}(e,t):"eip7702"===r?function(e,t){let{authorizationList:r,chainId:n,gas:i,nonce:s,to:a,value:o,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:d}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{chainId:t}=e,r=e.address;if(!(0,ty.P)(r))throw new tu.M({address:r});if(t<0)throw new tf.qD({chainId:t})}tb(e)}(e);let h=tv(u),f=function(e){if(!e||0===e.length)return[];let t=[];for(let r of e){let{chainId:e,nonce:n,...i}=r,s=r.address;t.push([e?(0,e2.nj)(e):"0x",s,n?(0,e2.nj)(n):"0x",...tx({},i)])}return t}(r);return(0,tt.aP)(["0x04",(0,tr.EQ)([(0,e2.cK)(n),s?(0,e2.cK)(s):"0x",c?(0,e2.cK)(c):"0x",l?(0,e2.cK)(l):"0x",i?(0,e2.cK)(i):"0x",a??"0x",o?(0,e2.cK)(o):"0x",d??"0x",h,f,...tx(e,t)])])}(e,t):function(e,t){let{chainId:r=0,gas:n,data:i,nonce:s,to:a,value:o,gasPrice:l}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(s&&!(0,ty.P)(s))throw new tu.M({address:s});if(void 0!==t&&t<=0)throw new tf.qD({chainId:t});if(r||i)throw new td.C("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>e9.Ao)throw new tp.BG({maxFeePerGas:n})}(e);let c=[s?(0,e2.cK)(s):"0x",l?(0,e2.cK)(l):"0x",n?(0,e2.cK)(n):"0x",a??"0x",o?(0,e2.cK)(o):"0x",i??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new tn.zW({v:t.v});return e})(),n=(0,tl.B)(t.r),i=(0,tl.B)(t.s);c=[...c,(0,e2.cK)(e),"0x00"===n?"0x":n,"0x00"===i?"0x":i]}else r>0&&(c=[...c,(0,e2.cK)(r),"0x","0x"]);return(0,tr.EQ)(c)}(e,t)}function tx(e,t){let r=t??e,{v:n,yParity:i}=r;if(void 0===r.r||void 0===r.s||void 0===n&&void 0===i)return[];let s=(0,tl.B)(r.r),a=(0,tl.B)(r.s);return["number"==typeof i?i?(0,e2.cK)(1):"0x":0n===n?"0x":1n===n?(0,e2.cK)(1):27n===n?"0x":(0,e2.cK)(1),"0x00"===s?"0x":s,"0x00"===a?"0x":a]}class tE extends td.C{constructor(){super('Transaction is not an EIP712 transaction.\n\nTransaction must:\n  - include `type: "eip712"`\n  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`',{name:"InvalidEip712TransactionError"})}}function tI(e){return"eip712"===e.type||"customSignature"in e&&!!e.customSignature||"paymaster"in e&&!!e.paymaster||"paymasterInput"in e&&!!e.paymasterInput||"gasPerPubdata"in e&&"bigint"==typeof e.gasPerPubdata||"factoryDeps"in e&&!!e.factoryDeps}function tA(e){let{chainId:t,to:r,from:n,paymaster:i,paymasterInput:s}=e;if(!tI(e))throw new tE;if(!t||t<=0)throw new tf.qD({chainId:t});if(r&&!(0,ty.P)(r))throw new tu.M({address:r});if(n&&!(0,ty.P)(n))throw new tu.M({address:n});if(i&&!(0,ty.P)(i))throw new tu.M({address:i});if(i&&!s)throw new td.C("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new td.C("`paymaster` must be provided when `paymasterInput` is defined")}var tS=r(33085),tk=r(73598);class tC extends td.C{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class tT extends td.C{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class tO extends td.C{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function tP(e){let t=(0,e1.ZJ)(e);if(t.length%32!=0)throw new tO({givenLength:t.length});if(t.length>e7)throw new tC({givenLength:t.length,maxBytecodeSize:e7});let r=(0,tk.s)(t),n=(0,e1.ZJ)(r),i=t.length/32;if(i%2==0)throw new tT({givenLengthInWords:i});let s=(0,e1.ZJ)(i),a=(0,tS.eV)(s,{size:2}),o=new Uint8Array([1,0]);return n.set(o,0),n.set(a,2),n}let tR={blockTime:1e3,formatters:te,serializers:{transaction:function(e,t){return tI(e)?function(e){let{chainId:t,gas:r,nonce:n,to:i,from:s,value:a,maxFeePerGas:o,maxPriorityFeePerGas:l,customSignature:c,factoryDeps:u,paymaster:d,paymasterInput:h,gasPerPubdata:f,data:p}=e;tA(e);let y=[n?(0,e2.nj)(n):"0x",l?(0,e2.nj)(l):"0x",o?(0,e2.nj)(o):"0x",r?(0,e2.nj)(r):"0x",i??"0x",a?(0,e2.nj)(a):"0x",p??"0x",(0,e2.nj)(t),(0,e2.nj)(""),(0,e2.nj)(""),(0,e2.nj)(t),s??"0x",f?(0,e2.nj)(f):(0,e2.nj)(50000n),u??[],c??"0x",d&&h?[d,h]:[]];return(0,tt.aP)(["0x71",(0,tr.EQ)(y)])}(e):t_(e,t)}},custom:{getEip712Domain:e=>{tA(e);let t=function(e){let{gas:t,nonce:r,to:n,from:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:o,factoryDeps:l,paymaster:c,paymasterInput:u,gasPerPubdata:d,data:h}=e;return{txType:113n,from:BigInt(i),to:n?BigInt(n):0n,gasLimit:t??0n,gasPerPubdataByteLimit:d??50000n,maxFeePerGas:a??0n,maxPriorityFeePerGas:o??0n,paymaster:c?BigInt(c):0n,nonce:r?BigInt(r):0n,value:s??0n,data:h??"0x",factoryDeps:l?.map(e=>e2.nj(tP(e)))??[],paymasterInput:u||"0x"}}(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}}}},tD=(0,eX.x)({...tR,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),tN=(0,eX.x)({...tR,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),tU={blockTime:2e3,contracts:{gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters:{block:(0,e6.R)({format:e=>({transactions:e.transactions?.map(e=>{if("string"==typeof e)return e;let t=e8.uP(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?e0.uU(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}),stateRoot:e.stateRoot})}),transaction:(0,e8.gU)({format(e){let t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,e0.uU)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:(0,e3.WB)({format:e=>({l1GasPrice:e.l1GasPrice?(0,e0.uU)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,e0.uU)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,e0.uU)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})},serializers:{transaction:function(e,t){return"deposit"===e.type||void 0!==e.sourceHash?function(e){!function(e){let{from:t,to:r}=e;if(t&&!(0,ty.P)(t))throw new tu.M({address:t});if(r&&!(0,ty.P)(r))throw new tu.M({address:r})}(e);let{sourceHash:t,data:r,from:n,gas:i,isSystemTx:s,mint:a,to:o,value:l}=e,c=[t,n,o??"0x",a?(0,e2.nj)(a):"0x",l?(0,e2.nj)(l):"0x",i?(0,e2.nj)(i):"0x",s?"0x1":"0x",r??"0x"];return(0,tt.aP)(["0x7e",(0,tr.EQ)(c)])}(e):t_(e,t)}}},tM=(0,eX.x)({...tU,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...tU.contracts,disputeGameFactory:{1:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{1:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{1:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:0x10ac19f}},l1StandardBridge:{1:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:0x10ac19f}}},sourceId:1});({...tM});let tB=(0,eX.x)({...tU,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...tU.contracts,disputeGameFactory:{0xaa36a7:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{0xaa36a7:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{0xaa36a7:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{0xaa36a7:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:0xaa36a7});({...tB});let tj=(0,eX.x)({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xb5b35e}}}),tL=(0,eX.x)({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),tF=(0,eX.x)({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),t$=(0,eX.x)({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0x5e201b3}},testnet:!0}),tz=(0,eX.x)({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0x18938b0}}}),tq=(0,eX.x)({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api-amoy.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),tW=(0,eX.x)({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),tH=(0,eX.x)({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1}),tV=(0,eX.x)({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),tK=(0,eX.x)({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0x15230d6}}}),tG=(0,eX.x)({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:0x17383c8}},testnet:!0});var tZ=r(60102),tJ=r(87895),tY=r(11601),tQ=r(3176);async function tX({hash:e,privateKey:t,to:r="object"}){let{r:n,s:i,recovery:s}=tZ.secp256k1.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:!!(0,tY.q)(!1,{strict:!1})&&(0,e1.aT)(!1)}),a={r:(0,e2.cK)(n,{size:32}),s:(0,e2.cK)(i,{size:32}),v:s?28n:27n,yParity:s};return"bytes"===r||"hex"===r?(0,tQ.h)({...a,to:r}):a}var t0=r(41258);async function t1(e){let{chainId:t,nonce:r,privateKey:n,to:i="object"}=e,s=e.contractAddress??e.address,a=await tX({hash:(0,t0.C)({address:s,chainId:t,nonce:r}),privateKey:n,to:i});return"object"===i?{address:s,chainId:t,nonce:r,...a}:a}var t2=r(34540);async function t6({message:e,privateKey:t}){return await tX({hash:(0,t2.A)(e),privateKey:t,to:"hex"})}var t5=r(55207);async function t8(e){let{privateKey:t,transaction:r,serializer:n=t_}=e,i="eip4844"===r.type?{...r,sidecars:!1}:r,s=await tX({hash:(0,t5.S)(await n(i)),privateKey:t});return await n(r,s)}var t3=r(41132);async function t4(e){let{privateKey:t,...r}=e;return await tX({hash:(0,t3.Zh)(r),privateKey:t,to:"hex"})}var t9=r(43926),t7=r(53850),re=r(36991),rt=r(46304),rr=r(74046);let rn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],ri="/docs/contract/encodeDeployData";function rs(e,t,r,n){let i=[t,r,n];return({create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,1]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,1]}})[e||"create"]}var ra=r(98722),ro=r(30733),rl=r(23721),rc=r(29665),ru=r(66734),rd=r(57325),rh=r(49585),rf=r(72447),rp=r(41953);function ry(e){if(!tI(e))throw new tE;(0,rp.c)(e)}var rg=r(27480),rm=r(40164);async function rb(e,t){let{account:r=e.account,chain:n=e.chain,...i}=t,s=r?(0,ra.J)(r):e.account;if(!s)throw new ru.T({docsPath:"/docs/actions/wallet/signTransaction"});if(ry({account:s,chain:n,...t}),!n?.custom?.getEip712Domain)throw new td.C("`getEip712Domain` not found on chain.");if(!n?.serializers?.transaction)throw new td.C("transaction serializer not found on chain.");let a=await (0,rf.T)(e,ro.T,"getChainId")({});null!==n&&(0,rd.v)({currentChainId:a,chain:n});let o=n?.custom.getEip712Domain({...i,chainId:a,from:s.address,type:"eip712"}),l=await (0,rm.C)(e,{...o,account:s});return n?.serializers?.transaction({chainId:a,...i,customSignature:l,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function rw(e,t){return tI(t)?rb(e,t):await (0,rg.W)(e,t)}async function rv(e,t){let{account:r=e.account,chain:n=e.chain}=t,i=r?(0,ra.J)(r):e.account;if(!i)throw new ru.T({docsPath:"/docs/actions/wallet/sendTransaction"});try{let r;ry(t);let s=await (0,rl.ft)(e,{...t,nonceManager:i.nonceManager,parameters:["gas","nonce","fees"]});null!==n&&(r=await (0,rf.T)(e,ro.T,"getChainId")({}),(0,rd.v)({currentChainId:r,chain:n}));let a=await rw(e,{...s,chainId:r});return await (0,rf.T)(e,rc.L,"sendRawTransaction")({serializedTransaction:a})}catch(e){throw(0,rh.p)(e,{...t,account:i,chain:n})}}var r_=r(20445);async function rx(e,t){return tI(t)?rv(e,t):(0,r_.v)(e,t)}var rE=r(12685);function rI(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function rA(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function rS(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function rk(e){if(!Array.isArray(e))throw Error("array expected")}function rC(e,t){if(!rI(!0,t))throw Error(`${e}: array of strings expected`)}function rT(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function rO(e){let t="string"==typeof e?e.split(""):e,r=t.length;rC("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(rk(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(rk(t),t.map(t=>{rA("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function rP(e=""){return rA("join",e),{encode:t=>(rC("join.decode",t),t.join(e)),decode:t=>(rA("join.decode",t),t.split(e))}}function rR(e,t,r){if(t<2)throw Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(rk(e),!e.length)return[];let n=0,i=[],s=Array.from(e,e=>{if(rS(e),e<0||e>=t)throw Error(`invalid integer: ${e}`);return e}),a=s.length;for(;;){let e=0,o=!0;for(let i=n;i<a;i++){let a=s[i],l=t*e,c=l+a;if(!Number.isSafeInteger(c)||l/t!==e||c-a!==l)throw Error("convertRadix: carry overflow");let u=c/r;e=c%r;let d=Math.floor(u);if(s[i]=d,!Number.isSafeInteger(d)||d*r+e!==c)throw Error("convertRadix: carry overflow");o&&(d?o=!1:n=i)}if(i.push(e),o)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}let rD=(e,t)=>0===t?e:rD(t,e%t),rN=(e,t)=>e+(t-rD(e,t)),rU=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();"function"==typeof Uint8Array.from([]).toBase64&&Uint8Array.fromBase64;let rM=(i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",rT((rS(58),{encode:e=>{if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw Error("radix.encode input should be Uint8Array");return rR(Array.from(e),256,58)},decode:e=>((function(e,t){if(!rI(!1,t))throw Error(`${e}: array of numbers expected`)})("radix.decode",e),Uint8Array.from(rR(e,58,256)))}),rO(i),rP(""))),rB=[0x3b6a57b2,0x26508e6d,0x1ea119fa,0x3d4233dd,0x2a1462b3];"function"==typeof Uint8Array.from([]).toHex&&Uint8Array.fromHex;var rj=r(46967);function rL(e){return JSON.parse(function(e){let t=[],r=!1;for(let n=0;n<e.length;n++){let i=!1;if("\\"===e[n]&&(t.push(e[n++]),i=!i),'"'===e[n]){t.push(e[n]),i||(r=!r);continue}if(!r){let r=function(e,t){if(!e[t]?.match(/[-\d]/))return null;let r=e.slice(t).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return r?r[0]:null}(e,n);if(r?.length){n+=r.length-1,r.match(/\.|[eE]-/)?t.push(r):t.push(`{"$n":"${r}"}`);continue}}t.push(e[n])}return t.join("")}(e),(e,t)=>t&&"object"==typeof t&&"$n"in t&&"string"==typeof t.$n?function({$n:e}){if(e.match(/[eE]/)){let[t,r]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(r)}return BigInt(e)}(t):t)}var rF=0n;function r$(e){return{id:function(){let e=rF;return rF++,e.toString()}(),jsonrpc:"2.0",method:e.methodName,params:e.params}}function rz(e,t){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?{$n:`${t}`}:t,t).replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function rq(e){return!(null==e||"object"!=typeof e||Array.isArray(e))&&"jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e}var rW=r(69989);function rH(e){return"bigint"==typeof e?Number(e):e}var rV={};function rK(e){return function t(r,n){if(Array.isArray(r))return r.map((e,r)=>t(e,{...n,keyPath:[...n.keyPath,r]}));if("object"!=typeof r||null===r)return e.reduce((e,t)=>t(e,n),r);{let e={};for(let i in r){if(!Object.prototype.hasOwnProperty.call(r,i))continue;let s={...n,keyPath:[...n.keyPath,i]};e[i]=t(r[i],s)}return e}}}function rG(e,t){return r=>{let n=rK(e);return Object.freeze({...r,params:n(r.params,t)})}}var rZ={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function rJ(e){let t=e?.onIntegerOverflow;return r=>(0,rW.F)(r,t?e=>{var r;return rG([(r=(...r)=>t(e,...r),(e,{keyPath:t})=>("bigint"==typeof e&&r&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&r(t,e),e))],{keyPath:[]})(e)}:e=>e,rG([rH],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return r=>{let{params:n,methodName:i}=r;if(!Array.isArray(n))return r;let s=t[i];return null==s?r:Object.freeze({methodName:i,params:function({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:r,overrideCommitment:n}){let i=t[r];if(void 0===i||i&&"object"==typeof i&&!Array.isArray(i)){if(i&&e in i){if(!i[e]||"finalized"===i[e]){let n=[...t],{[e]:s,...a}=i;return Object.keys(a).length>0?n[r]=a:r===n.length-1?n.length--:n[r]=void 0,n}}else if("finalized"!==n){let s=[...t];return s[r]={...i,[e]:n},s}}return t}({commitmentPropertyName:"sendTransaction"===i?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:e,params:n})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:rZ}))}function rY(e){var t,r;return t=[function(t,{keyPath:r}){return"number"==typeof t&&Number.isInteger(t)||"bigint"==typeof t?e.some(e=>{if(e.length!==r.length)return!1;for(let t=r.length-1;t>=0;t--){let n=r[t],i=e[t];if(i!==n&&(i!==rV||"number"!=typeof n))return!1}return!0})?Number(t):BigInt(t):t}],r={keyPath:[]},e=>rK(t)(e,r)}var rQ=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",rV,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",rV,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",rV,"state","preUpdateAverageRate"],["data","parsed","info","extensions",rV,"state","currentRate"]],rX=[...rQ,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",rV,"confirmationCount"]],r0=[["index"],["instructions",rV,"accounts",rV],["instructions",rV,"programIdIndex"],["instructions",rV,"stackHeight"]],r1=[["addressTableLookups",rV,"writableIndexes",rV],["addressTableLookups",rV,"readonlyIndexes",rV],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",rV,"accounts",rV],["instructions",rV,"programIdIndex"],["instructions",rV,"stackHeight"]],r2=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function r6(e){return rq(e)&&r2.includes(e.method)}var r5=Object.prototype.toString,r8=Object.keys||function(e){let t=[];for(let r in e)t.push(r);return t};function r3(e){let t=function e(t,r){let n,i,s,a,o,l,c;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if("toJSON"in t&&"function"==typeof t.toJSON)return e(t.toJSON(),r);if("[object Array]"===(c=r5.call(t))){for(n=0,s="[",i=t.length-1;n<i;n++)s+=e(t[n],!0)+",";return i>-1&&(s+=e(t[n],!0)),s+"]"}if("[object Object]"!==c)return JSON.stringify(t);for(i=(a=r8(t).sort()).length,s="",n=0;n<i;)void 0!==(l=e(t[o=a[n]],!1))&&(s&&(s+=","),s+=JSON.stringify(o)+":"+l),n++;return"{"+s+"}";case"function":case"undefined":return r?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}(e,!1);if(void 0!==t)return""+t}var r4={defaultCommitment:"confirmed",onIntegerOverflow(e,t,r){throw function e(t,r,n){let i="";if("number"==typeof r[0]){let e=r[0]+1,t=e%10,n=e%100;i=1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}else i=`\`${r[0].toString()}\``;let s=r.length>1?r.slice(1).map(e=>"number"==typeof e?`[${e}]`:e).join("."):void 0,a=new rj.tsw(rj.O7$,{argumentLabel:i,keyPath:r,methodName:t,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...void 0!==s?{path:s}:void 0});return(0,rj.rMr)(a,e),a}(e.methodName,t,r)}},r9=globalThis.AbortController;function r7(e,t){var r,n,i,s,a;return r={url:e,...t},n=(0,rW.F)(function(e){let t;let{fromJson:r,headers:n,toJson:i,url:s}=e,a=n&&function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(n);return async function({payload:e,signal:n}){let o=i?i(e):JSON.stringify(e),l={...t,body:o,headers:{...a,accept:"application/json","content-length":o.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},c=await fetch(s,l);if(!c.ok)throw new rj.tsw(rj._yh,{headers:c.headers,message:c.statusText,statusCode:c.status});return r?r(await c.text(),e):await c.json()}}({...{...r,headers:{...!1,...r.headers?function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(r.headers):void 0,"solana-client":"js/5.0.0"}},fromJson:(e,t)=>r6(t)?rL(e):JSON.parse(e),toJson:e=>r6(e)?rz(e):JSON.stringify(e)}),e=>{let t;return async function(r){var n;let{payload:i,signal:s}=r,a=rq(n=i)?r3([n.method,n.params]):void 0;if(void 0===a)return await e(r);if(t||(queueMicrotask(()=>{t=void 0}),t={}),null==t[a]){let n=new r9,i=(async()=>{try{return await e({...r,signal:n.signal})}catch(e){if(e===(u||={}))return;throw e}})();t[a]={abortController:n,numConsumers:0,responsePromise:i}}let o=t[a];if(o.numConsumers++,!s)return await o.responsePromise;{let e=o.responsePromise;return await new Promise((t,r)=>{let n=e=>{s.removeEventListener("abort",n),o.numConsumers-=1,queueMicrotask(()=>{0===o.numConsumers&&o.abortController.abort(u||={})}),r(e.target.reason)};s.addEventListener("abort",n),e.then(t).catch(r).finally(()=>{s.removeEventListener("abort",n)})})}}}),a={api:(s={requestTransformer:rJ(r4),responseTransformer:(i={allowedNumericKeyPaths:(c||(c={getAccountInfo:rX.map(e=>["value",...e]),getBlock:[["transactions",rV,"meta","preTokenBalances",rV,"accountIndex"],["transactions",rV,"meta","preTokenBalances",rV,"uiTokenAmount","decimals"],["transactions",rV,"meta","postTokenBalances",rV,"accountIndex"],["transactions",rV,"meta","postTokenBalances",rV,"uiTokenAmount","decimals"],["transactions",rV,"meta","rewards",rV,"commission"],...r0.map(e=>["transactions",rV,"meta","innerInstructions",rV,...e]),...r1.map(e=>["transactions",rV,"transaction","message",...e]),["rewards",rV,"commission"]],getClusterNodes:[[rV,"featureSet"],[rV,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[rV,"commission"]],getMultipleAccounts:rX.map(e=>["value",rV,...e]),getProgramAccounts:rX.flatMap(e=>[["value",rV,"account",...e],[rV,"account",...e]]),getRecentPerformanceSamples:[[rV,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:rQ.map(e=>["value",rV,"account",...e]),getTokenAccountsByOwner:rQ.map(e=>["value",rV,"account",...e]),getTokenLargestAccounts:[["value",rV,"decimals"],["value",rV,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",rV,"accountIndex"],["meta","preTokenBalances",rV,"uiTokenAmount","decimals"],["meta","postTokenBalances",rV,"accountIndex"],["meta","postTokenBalances",rV,"uiTokenAmount","decimals"],["meta","rewards",rV,"commission"],...r0.map(e=>["meta","innerInstructions",rV,...e]),...r1.map(e=>["transaction","message",...e])],getVersion:[["feature-set"]],getVoteAccounts:[["current",rV,"commission"],["delinquent",rV,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...rX.map(e=>["value","accounts",rV,...e]),...r0.map(e=>["value","innerInstructions",rV,...e])]}),c)},(e,t)=>{let r=t.methodName,n=i?.allowedNumericKeyPaths&&r?i.allowedNumericKeyPaths[r]:void 0;return(0,rW.F)(e,e=>(e=>{if("error"in e)throw(0,rj.evr)(e.error);return e})(e,t),e=>e.result,e=>rY(n??[])(e,t))})},new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...e){let[t,r]=e,n=r.toString();return function(...e){let t=Object.freeze({methodName:n,params:e}),r=s?.requestTransformer?s?.requestTransformer(t):t;return Object.freeze({execute:async({signal:e,transport:t})=>{let n=r$(r),i=await t({payload:n,signal:e});return s?.responseTransformer?s.responseTransformer(i,r):i}})}}})),transport:n},new Proxy(a.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(e,t,r){if("then"!==t)return function(...n){let i=t.toString(),s=Reflect.get(e,i,r);if(!s)throw new rj.tsw(rj._jo,{method:i,params:n});return function({transport:e},t){return{send:async r=>await t.execute({signal:r?.abortSignal,transport:e})}}(a,s(...n))}}})}var ne=r(25445),nt=globalThis.AbortController,nr=globalThis.EventTarget;function nn(){return Symbol(void 0)}var ni=Symbol();function ns(e){return{on(t,r,n){function i(e){e instanceof CustomEvent?r(e.detail):r()}return e.addEventListener(t,i,n),()=>{e.removeEventListener(t,i)}}}}function na(e){return null!==e&&("object"==typeof e||"function"==typeof e)}var no=new WeakMap;async function nl(e){let t;let r=new Promise((r,n)=>{for(let i of(t={reject:n,resolve:r},e)){if(!na(i)){Promise.resolve(i).then(r,n);continue}let e=no.get(i);void 0===e?((e=function(e){let t=new Set,r={deferreds:t,settled:!1};return Promise.resolve(e).then(e=>{for(let{resolve:r}of t)r(e);t.clear(),r.settled=!0},e=>{for(let{reject:r}of t)r(e);t.clear(),r.settled=!0}),r}(i)).deferreds.add(t),no.set(i,e)):e.settled?Promise.resolve(i).then(r,n):e.deferreds.add(t)}});return await r.finally(()=>{for(let r of e)na(r)&&no.get(r).deferreds.delete(t)})}var nc=globalThis.AbortController,nu=new WeakMap;function nd(e,t,r){let n;if(void 0===r)return;let i=((n=nu.get(t))||nu.set(t,n={}),n);!i[r]&&e>0&&(i[r]=0);let s=e+i[r];return s<=0?delete i[r]:i[r]=s,s}var nh=new WeakMap;async function nf({channel:e,responseTransformer:t,signal:r,subscribeRequest:n,unsubscribeMethodName:i}){let s;e.on("error",()=>{s=void 0,nu.delete(e)},{signal:r});let a=new Promise((t,n)=>{function a(){if(0===nd(-1,e,s)){let t=r$({methodName:i,params:[s]});s=void 0,e.send(t).catch(()=>{})}n(this.reason)}r.aborted?a.call(r):r.addEventListener("abort",a)}),o=r$(n);await e.send(o);let l=new Promise((t,n)=>{let i=new nc;r.addEventListener("abort",i.abort.bind(i));let s={signal:i.signal};e.on("error",e=>{i.abort(),n(e)},s),e.on("message",e=>{e&&"object"==typeof e&&"id"in e&&e.id===o.id&&(i.abort(),"error"in e?n((0,rj.evr)(e.error)):t(e.result))},s)});if(null==(s=await nl([a,l])))throw new rj.tsw(rj.aYZ);nd(1,e,s);let c=function(e,t,r){let n=nh.get(e);n||nh.set(e,n=new WeakMap);let i=r??e,s=n.get(i);return s||n.set(i,s=function(e,t,r){let n;let i=new nr,s=ns(i);return{...s,on(a,o,l){n||(n={dispose:e.on(t,e=>{let t=r(e);if(!t)return;let[n,s]=t;i.dispatchEvent(new CustomEvent(n,{detail:s}))}),numSubscribers:0}),n.numSubscribers++;let c=s.on(a,o,l),u=!0;function d(){u&&(u=!1,l?.signal.removeEventListener("abort",d),n.numSubscribers--,0===n.numSubscribers&&(n.dispose(),n=void 0),c())}return l?.signal.addEventListener("abort",d),d}}}(e,"message",e=>{if(!("method"in e))return;let n=r?r(e.params.result,t):e.params.result;return[`notification:${e.params.subscription}`,n]})),s}(e,n,t),u=`notification:${s}`;return{on(t,r,n){switch(t){case"notification":return c.on(u,r,n);case"error":return e.on("error",r,n);default:throw new rj.tsw(rj.JOu,{channelName:t,supportedChannelNames:["notification","error"]})}}}}var np=globalThis.EventTarget,ny=globalThis.WebSocket,ng={defaultCommitment:"confirmed",onIntegerOverflow(e,t,r){throw function e(t,r,n){let i="";if("number"==typeof r[0]){let e=r[0]+1,t=e%10,n=e%100;i=1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}else i=`\`${r[0].toString()}\``;let s=r.length>1?r.slice(1).map(e=>"number"==typeof e?`[${e}]`:e).join("."):void 0,a=new rj.tsw(rj.O7$,{argumentLabel:i,keyPath:r,methodName:t,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...void 0!==s?{path:s}:void 0});return(0,rj.rMr)(a,e),a}(e.methodName,t,r)}},nm=globalThis.AbortController,nb={jsonrpc:"2.0",method:"ping"};function nw(e){return(0,rW.F)(e,e=>Object.freeze({...e,on:(t,r,n)=>"message"!==t?e.on(t,r,n):e.on("message",e=>r(rL(e)),n)}),e=>Object.freeze({...e,send:t=>e.send(rz(t))}))}function nv(e,t){var r,n;return r=function({createChannel:e}){return(0,rW.F)(async({execute:t,signal:r})=>{let n=await e({abortSignal:r});return await t({channel:n,signal:r})},e=>(function(e){let t=new Map;return function(r){let{request:n,signal:i}=r,s=r3([n.methodName,n.params]),a=t.get(s);if(!a){let n=new nm,i=e({...r,signal:n.signal});i.then(e=>{e.on("error",()=>{t.delete(s),n.abort()},{signal:n.signal})}).catch(()=>{}),t.set(s,a={abortController:n,dataPublisherPromise:i,numSubscribers:0})}return a.numSubscribers++,i.addEventListener("abort",()=>{a.numSubscribers--,0===a.numSubscribers&&queueMicrotask(()=>{0===a.numSubscribers&&(t.delete(s),a.abortController.abort())})},{signal:a.abortController.signal}),a.dataPublisherPromise}})(e))}({createChannel:function(e){if(!1===/^wss?:/i.test(e.url)){let t=e.url.match(/^([^:]+):/);throw new DOMException(t?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${t[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${e.url}' is invalid.`)}let{intervalMs:t,...r}=e;return function(e,{maxSubscriptionsPerChannel:t,minChannels:r}){let n={entries:[],freeChannelIndex:-1};function i(){let e;if(n.entries.length<r){n.freeChannelIndex=-1;return}for(let r=0;r<n.entries.length;r++){let i=(n.freeChannelIndex+r+2)%n.entries.length,s=n.entries[i];s.subscriptionCount<t&&(!e||e.subscriptionCount>=s.subscriptionCount)&&(e={poolIndex:i,subscriptionCount:s.subscriptionCount})}n.freeChannelIndex=e?.poolIndex??-1}return function({abortSignal:t}){let r;function s(){let e=n.entries.findIndex(e=>e===r);n.entries.splice(e,1),r.dispose(),i()}if(-1===n.freeChannelIndex){let t=new nm,i=e({abortSignal:t.signal});i.then(e=>{e.on("error",s,{signal:t.signal})}).catch(s),r={channel:i,dispose(){t.abort()},subscriptionCount:0},n.entries.push(r)}else r=n.entries[n.freeChannelIndex];return r.subscriptionCount++,t.addEventListener("abort",function(){r.subscriptionCount--,0===r.subscriptionCount?s():-1!==n.freeChannelIndex&&(n.freeChannelIndex--,i())}),i(),r.channel}}(({abortSignal:n})=>(function({sendBufferHighWatermark:e,signal:t,url:r}){let n,i,s;if(t.aborted)return Promise.reject(t.reason);let a=!1,o=new Set;function l(){o.forEach(e=>{e()}),o.clear()}function c(){l(),a||i(t.reason),y.readyState!==ny.CLOSED&&y.readyState!==ny.CLOSING&&y.close(1e3)}function u(e){if(!t.aborted&&!a){let t=new rj.tsw(rj.gF,{errorEvent:e});i(t),h.dispatchEvent(new CustomEvent("error",{detail:t}))}}function d(e){t.aborted||h.dispatchEvent(new CustomEvent("message",{detail:e.data}))}let h=new np,f=ns(h);function p(){a=!0,s({...f,async send(t){if(y.readyState!==ny.OPEN)throw new rj.tsw(rj.pFb);if(!n&&y.bufferedAmount>e){let t;let r=new Promise((r,i)=>{let s=setInterval(()=>{y.readyState===ny.OPEN&&y.bufferedAmount>e||(clearInterval(s),n=void 0,r())},16);t=()=>{n=void 0,clearInterval(s),i(new rj.tsw(rj.UwC))}});n={onCancel:t,promise:r}}n&&(!ArrayBuffer.isView(t)||t instanceof DataView||(t=new t.constructor(t)),await n.promise),y.send(t)}})}let y=new ny(r);return t.addEventListener("abort",c),y.addEventListener("close",function e(r){l(),n?.onCancel(),t.removeEventListener("abort",c),y.removeEventListener("close",e),y.removeEventListener("error",u),y.removeEventListener("message",d),y.removeEventListener("open",p),t.aborted||r.wasClean&&1e3===r.code||h.dispatchEvent(new CustomEvent("error",{detail:new rj.tsw(rj.pFb,{cause:r})}))}),y.addEventListener("error",u),y.addEventListener("message",d),y.addEventListener("open",p),new Promise((e,t)=>{i=t,s=e})})({...r,sendBufferHighWatermark:e.sendBufferHighWatermark??131072,signal:n}).then(e.jsonSerializer).then(e=>(function({abortSignal:e,channel:t,intervalMs:r}){let n;function i(){t.send(nb).catch(e=>{(0,rj.zbS)(e,rj.pFb)&&a.abort()})}function s(){clearInterval(n),n=setInterval(i,r)}let a=new nm;return a.signal.addEventListener("abort",()=>{clearInterval(n)}),e.addEventListener("abort",()=>{a.abort()}),t.on("error",()=>{a.abort()},{signal:a.signal}),t.on("message",s,{signal:a.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(n)},{signal:a.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:a.signal}),{...t,send:(...e)=>(a.signal.aborted||s(),t.send(...e))}})({abortSignal:n,channel:e,intervalMs:t??5e3})),{maxSubscriptionsPerChannel:e.maxSubscriptionsPerChannel??100,minChannels:e.minChannels??1})}({...{...t,url:e},jsonSerializer:nw})}),new Proxy((n={api:function(e){var t,r;let n=rJ(e),i=(t={allowedNumericKeyPaths:(h||(h={accountNotifications:rX.map(e=>["value",...e]),blockNotifications:[["value","block","transactions",rV,"meta","preTokenBalances",rV,"accountIndex"],["value","block","transactions",rV,"meta","preTokenBalances",rV,"uiTokenAmount","decimals"],["value","block","transactions",rV,"meta","postTokenBalances",rV,"accountIndex"],["value","block","transactions",rV,"meta","postTokenBalances",rV,"uiTokenAmount","decimals"],["value","block","transactions",rV,"meta","rewards",rV,"commission"],["value","block","transactions",rV,"meta","innerInstructions",rV,"index"],["value","block","transactions",rV,"meta","innerInstructions",rV,"instructions",rV,"programIdIndex"],["value","block","transactions",rV,"meta","innerInstructions",rV,"instructions",rV,"accounts",rV],["value","block","transactions",rV,"transaction","message","addressTableLookups",rV,"writableIndexes",rV],["value","block","transactions",rV,"transaction","message","addressTableLookups",rV,"readonlyIndexes",rV],["value","block","transactions",rV,"transaction","message","instructions",rV,"programIdIndex"],["value","block","transactions",rV,"transaction","message","instructions",rV,"accounts",rV],["value","block","transactions",rV,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",rV,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",rV,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",rV,"commission"]],programNotifications:rX.flatMap(e=>[["value",rV,"account",...e],[rV,"account",...e]])}),h)},(e,r)=>{let n=r.methodName,i=t?.allowedNumericKeyPaths&&n?t.allowedNumericKeyPaths[n]:void 0;return(0,rW.F)(e,e=>rY(i??[])(e,r))});return r={planExecutor:({request:e,...t})=>nf({...t,responseTransformer:i,subscribeRequest:{...e,methodName:e.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:e.methodName.replace(/Notifications$/,"Unsubscribe")}),requestTransformer:n},new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...e){let[t,n]=e,i=n.toString();return function(...e){let t={methodName:i,params:e},n=r.requestTransformer?r.requestTransformer(t):t;return{execute:e=>r.planExecutor({...e,request:n}),request:n}}}})}(ng),transport:r}).api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(e,t,r){if("then"!==t)return function(...i){var s;let a=t.toString(),o=Reflect.get(e,a,r);if(!o)throw new rj.tsw(rj.uWs,{notificationName:a});let l=o(...i);return s=n.transport,{async subscribe({abortSignal:e}){let t=await s({signal:e,...l});return function({abortSignal:e,dataChannelName:t,dataPublisher:r,errorChannelName:n}){let i=new Map;function s(e){for(let[t,r]of i.entries())r.__hasPolled?(i.delete(t),r.onError(e)):r.publishQueue.push({__type:1,err:e})}let a=new nt;e.addEventListener("abort",()=>{a.abort(),s(d||=nn())});let o={signal:a.signal},l=ni;return r.on(n,e=>{l===ni&&(l=e,a.abort(),s(e))},o),r.on(t,e=>{i.forEach((t,r)=>{if(t.__hasPolled){let{onData:n}=t;i.set(r,{__hasPolled:!1,publishQueue:[]}),n(e)}else t.publishQueue.push({__type:0,data:e})})},o),{async *[Symbol.asyncIterator](){if(e.aborted)return;if(l!==ni)throw l;let t=Symbol();i.set(t,{__hasPolled:!1,publishQueue:[]});try{for(;;){let e=i.get(t);if(!e)throw new rj.tsw(rj.LzQ);if(e.__hasPolled)throw new rj.tsw(rj.ibr);let r=e.publishQueue;try{if(r.length)for(let t of(e.publishQueue=[],r))if(0===t.__type)yield t.data;else throw t.err;else yield await new Promise((e,r)=>{i.set(t,{__hasPolled:!0,onData:e,onError:r})})}catch(e){if(e===(d||=nn()))return;throw e}}}finally{i.delete(t)}}}}({abortSignal:e,dataChannelName:"notification",dataPublisher:t,errorChannelName:"error"})}}}}})}var n_=r(41164),nx=r(62641),nE=r(55579),nI=r(93359),nA=r(96560),nS=(r(75927).hp,eW([eB().transform(e=>e.replace(/[^0-9.-]+/g,"")),ej()]).pipe(({string:e=>X.create({...e,coerce:!0}),number:e=>ee.create({...e,coerce:!0}),boolean:e=>er.create({...e,coerce:!0}),bigint:e=>et.create({...e,coerce:!0}),date:e=>en.create({...e,coerce:!0})}).number().min(1e-4).max(0x3b9ac9ff)),eG(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"])),nk=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",0x135a9d92]]),nC=["solana-devnet","solana"];Object.fromEntries(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia",...nC].map(e=>[nk.get(e),e]));var nT={id:0x135a9d92,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function nO(e){let t=nj(e);return(0,eZ.l)({chain:t,transport:(0,eJ.L)()}).extend(eY.$)}function nP(){return nO("base-sepolia")}function nR(){return nO("avalanche-fuji")}function nD(e,t){let r=nj(e),n=(0,eQ.F)({chain:r,transport:(0,eJ.L)(),account:function(e,t={}){let{nonceManager:r}=t,n=(0,e2.nj)(tZ.secp256k1.getPublicKey(e.slice(2),!1));return{...function(e){if("string"==typeof e){if(!(0,ty.P)(e,{strict:!1}))throw new tu.M({address:e});return{address:e,type:"json-rpc"}}if(!(0,ty.P)(e.address,{strict:!1}))throw new tu.M({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}({address:(0,tJ.M)(n),nonceManager:r,sign:async({hash:t})=>tX({hash:t,privateKey:e,to:"hex"}),signAuthorization:async t=>t1({...t,privateKey:e}),signMessage:async({message:t})=>t6({message:t,privateKey:e}),signTransaction:async(t,{serializer:r}={})=>t8({privateKey:e,transaction:t,serializer:r}),signTypedData:async t=>t4({...t,privateKey:e})}),publicKey:n,source:"privateKey"}}(t)});return nF(r)?n.extend(eY.$).extend(e=>({sendTransaction:t=>rx(e,t),signTransaction:t=>rw(e,t),deployContract:t=>(function(e,t){let{abi:r,args:n,bytecode:i,deploymentType:s,salt:a,...o}=t,l=function(e){let{abi:t,args:r,bytecode:n,deploymentType:i,salt:s}=e;if(!r||0===r.length){let{functionName:e,argsContractDeployer:t}=rs(i,s??t7.t,(0,e2.nj)(tP(n)),"0x");return(0,rr.p)({abi:rn,functionName:e,args:t})}let a=t.find(e=>"type"in e&&"constructor"===e.type);if(!a)throw new re.YW({docsPath:ri});if(!("inputs"in a)||!a.inputs||0===a.inputs.length)throw new re.YF({docsPath:ri});let o=(0,rt.h)(a.inputs,r),{functionName:l,argsContractDeployer:c}=rs(i,s??t7.t,(0,e2.nj)(tP(n)),o);return(0,rr.p)({abi:rn,functionName:l,args:c})}({abi:r,args:n,bytecode:i,deploymentType:s,salt:a});return o.factoryDeps=o.factoryDeps||[],o.factoryDeps.includes(i)||o.factoryDeps.push(i),rv(e,{...o,data:l,to:"create2"===s||"create2Account"===s?"0x0000000000000000000000000000000000010000":"0x0000000000000000000000000000000000008006"})})(e,t),writeContract:t=>(0,t9.E)(Object.assign(e,{sendTransaction:t=>rx(e,t)}),t)})):n.extend(eY.$)}function nN(e){return nD("base-sepolia",e)}function nU(e){return nD("avalanche-fuji",e)}function nM(e){return"object"==typeof e&&null!==e&&"chain"in e&&"transport"in e}function nB(e){return"object"==typeof e&&null!==e&&"string"==typeof e.address&&"string"==typeof e.type&&"function"==typeof e.sign&&"function"==typeof e.signMessage&&"function"==typeof e.signTypedData&&"function"==typeof e.signTransaction}function nj(e){if(!e)throw Error("NETWORK environment variable is not set");switch(e){case"abstract":return tD;case"abstract-testnet":return tN;case"base":return tM;case"base-sepolia":return tB;case"avalanche":return tj;case"avalanche-fuji":return tL;case"sei":return tF;case"sei-testnet":return t$;case"polygon":return tz;case"polygon-amoy":return tq;case"peaq":return tW;case"story":return tH;case"educhain":return tV;case"iotex":return tK;case"iotex-testnet":return tG;case"skale-base-sepolia":return nT;default:throw Error(`Unsupported network: ${e}`)}}var nL=new Set([2741,11124]);function nF(e){return nL.has(e.id)}function n$(e){return r7(e?(0,ne.xn)(e):(0,ne.xn)("https://api.devnet.solana.com"))}function nz(e){return r7(e?(0,ne.rC)(e):(0,ne.rC)("https://api.mainnet-beta.solana.com"))}function nq(e,t){if("solana-devnet"===e)return n$(t);if("solana"===e)return nz(t);throw Error("Invalid network")}function nW(e,t){if("solana-devnet"===e)return nv((0,ne.xn)(t?nH(t):"wss://api.devnet.solana.com"),void 0);if("solana"===e)return nv((0,ne.rC)(t?nH(t):"wss://api.mainnet-beta.solana.com"),void 0);throw Error("Invalid network")}function nH(e){return e.startsWith("http")?e.replace("http","ws"):e}function nV(e){if(!nC.find(t=>t===e))throw Error(`Unsupported SVM network: ${e}`);return nq(e)}async function nK(e){let t=rM.decode(e);if(64===t.length)return await (0,rE.Lt)(t);if(32===t.length)return await (0,rE.bY)(t);throw Error(`Unexpected key length: ${t.length}. Expected 32 or 64 bytes.`)}function nG(e){return"object"==typeof e&&null!==e&&(0,rE.Pl)(e)}p({},{authorizationPrimaryType:()=>nJ,authorizationTypes:()=>nZ,config:()=>y,createClientAvalancheFuji:()=>nR,createClientSepolia:()=>nP,createConnectedClient:()=>nO,createSigner:()=>nD,createSignerAvalancheFuji:()=>nU,createSignerSepolia:()=>nN,getChainFromNetwork:()=>nj,isAccount:()=>nB,isSignerWallet:()=>nM,isZkStackChain:()=>nF,usdcABI:()=>g});var nZ={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},nJ="TransferWithAuthorization";p({},{SvmAddressRegex:()=>nY});var nY=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,nQ=/^0x[0-9a-fA-F]{40}$/,nX=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,n0=["exact"],n1=[1],n2=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_undeployed_smart_wallet","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],n6=e=>Number.isInteger(Number(e))&&Number(e)>=0,n5=eB().regex(nQ).or(eB().regex(nY)),n8=eB().regex(nX).or(eB().regex(nY)),n3=eq({scheme:eG(n0),network:nS,maxAmountRequired:eB().refine(n6),resource:eB().url(),description:eB(),mimeType:eB(),outputSchema:eV(e$()).optional(),payTo:n5,maxTimeoutSeconds:ej().int(),asset:n8,extra:eV(e$()).optional()}),n4=eq({from:eB().regex(nQ),to:eB().regex(nQ),value:eB().refine(n6).refine(e=>e.length<=18),validAfter:eB().refine(n6),validBefore:eB().refine(n6),nonce:eB().regex(/^0x[0-9a-fA-F]{64}$/)}),n9=eq({signature:eB().regex(/^0x[0-9a-fA-F]+$/),authorization:n4}),n7=eq({transaction:eB().regex(/^[A-Za-z0-9+/]*={0,2}$/)}),ie=eq({x402Version:ej().refine(e=>n1.includes(e)),scheme:eG(n0),network:nS,payload:eW([n9,n7])});eq({x402Version:ej().refine(e=>n1.includes(e)),error:eG(n2).optional(),accepts:ez(n3).optional(),payer:eB().regex(nX).optional()});var it=eG(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]);eH("type",[eq({type:eK("http"),method:it,queryParams:eV(eB(),eB()).optional(),bodyType:eG(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:eV(eB(),e$()).optional(),headerFields:eV(eB(),e$()).optional()})]);var ir=eq({resource:eB(),type:eG(["http"]),x402Version:ej().refine(e=>n1.includes(e)),accepts:ez(n3),lastUpdated:eF(),metadata:eV(e$()).optional()});eq({paymentPayload:ie,paymentRequirements:n3}),eq({paymentPayload:ie,paymentRequirements:n3}),eq({isValid:eL(),invalidReason:eG(n2).optional(),payer:n5.optional()}),eq({success:eL(),errorReason:eG(n2).optional(),payer:n5.optional(),transaction:eB().regex(nX),network:nS}),eq({type:eB().optional(),limit:ej().optional(),offset:ej().optional()}),eq({x402Version:ej().refine(e=>n1.includes(e)),items:ez(ir),pagination:eq({limit:ej(),offset:ej(),total:ej()})});var ii=eq({x402Version:ej().refine(e=>n1.includes(e)),scheme:eG(n0),network:nS,extra:eV(e$()).optional()});function is(e){try{let t=(0,n_.Iz)().encode(e.transaction);return(0,nx.BX)().decode(t)}catch(e){throw console.error("error",e),Error("invalid_exact_svm_payload_transaction")}}function ia(e){let t=(0,nE.fr)().decode(e.messageBytes),r=t.staticAccounts??[];for(let e of t.instructions??[]){let t=r[e.programAddressIndex].toString();if(t===nI.YsN.toString()||t===nA.du.toString()){let t=e.accountIndices??[];if(t.length>=4){let e=r[t[3]].toString();if(e)return e}}}return""}async function io(e,t,r){let n=await il(e,t),i=(0,nx.RO)(n);return await r.simulateTransaction(i,{sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0}).send()}async function il(e,t){if((0,rE.D7)(e)){let[r]=await e.modifyAndSignTransactions([t]);if(!r)throw Error("transaction_signer_failed_to_return_transaction");return r}if((0,rE.Y6)(e)){let[r]=await e.signTransactions([t]);if(!r)throw Error("transaction_signer_failed_to_return_signatures");return Object.freeze({...t,signatures:Object.freeze({...t.signatures,...r})})}throw Error("transaction_signer_must_support_offline_signing")}async function ic(e,{from:t,to:r,value:n,validAfter:i,validBefore:s,nonce:a},{asset:o,network:l,extra:c}){let u=getNetworkId(l),d={types:authorizationTypes,domain:{name:c?.name,version:c?.version,chainId:u,verifyingContract:getAddress(o)},primaryType:"TransferWithAuthorization",message:{from:getAddress(t),to:getAddress(r),value:n,validAfter:i,validBefore:s,nonce:a}};if(isSignerWallet(e)||isAccount(e)&&e.signTypedData)return{signature:await e.signTypedData(d)};throw Error("Invalid wallet client provided does not support signTypedData")}eq({kinds:ez(ii)}),p({},{createDevnetRpcClient:()=>n$,createMainnetRpcClient:()=>nz,createSignerFromBase58:()=>nK,createSvmConnectedClient:()=>nV,decodeTransactionFromPayload:()=>is,getRpcClient:()=>nq,getRpcSubscriptions:()=>nW,getTokenPayerFromTransaction:()=>ia,isSignerWallet:()=>nG,signAndSimulateTransaction:()=>io,signTransactionWithSigner:()=>il}),eq({paymentHeader:eB(),paymentRequirements:n3});async function iu(e,t,r){let{asset:n,maxAmountRequired:i,payTo:s}=t,a=getRpcClient(t.network,r?.svmConfig?.rpcUrl),o=await fetchMint(a,n),l=o.programAddress;if(l.toString()!==TOKEN_PROGRAM_ADDRESS.toString()&&l.toString()!==TOKEN_2022_PROGRAM_ADDRESS.toString())throw Error("Asset was not created by a known token program");let[c]=await findAssociatedTokenPda({mint:n,owner:e.address,tokenProgram:l}),[u]=await findAssociatedTokenPda({mint:n,owner:s,tokenProgram:l});return[getTransferCheckedInstruction({source:c,mint:n,destination:u,authority:e,amount:BigInt(i),decimals:o.data.decimals},{programAddress:l})]}},99827:(e,t,r)=>{"use strict";r.d(t,{v:()=>l});var n=r(12115);let i=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,s={setState:n,getState:i,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(n,i,s);return s},s=e=>e?i(e):i,a=e=>e,o=e=>{let t=s(e),r=e=>(function(e,t=a){let r=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},l=e=>e?o(e):o}}]);