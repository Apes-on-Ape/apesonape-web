(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5607],{88159:(e,t,r)=>{Promise.resolve().then(r.bind(r,16445))},16445:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(95155),s=r(12115),l=r(76046),n=r(53344);let o=(0,r(67401).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var i=r(35765),c=r(40767),d=r(82243),u=r(5565),h=r(76897),m=r(87358);let f=new Set(["Background","BG","Background Color","BackgroundColor"]),p=m.env.NEXT_PUBLIC_DEFAULT_METADATA_CID||"bafybeiaizsmuaj5ubnsh6mtb53ngqffyhrqus7kdqihfbtbafq4c75gjny",b="https://bqcrbcpmimfojnjdhvrz.supabase.co/storage/v1/object/public/collection/collection-index/",x="https://bqcrbcpmimfojnjdhvrz.supabase.co/storage/v1/object/public/collection/collection-thumbs",g=[(void 0!==m?m.env.NEXT_PUBLIC_PINATA_SUBDOMAIN_GATEWAY:void 0)||"https://moccasin-brilliant-silkworm-382.mypinata.cloud/ipfs","https://gateway.pinata.cloud/ipfs","https://cloudflare-ipfs.com/ipfs","https://ipfs.io/ipfs","https://nftstorage.link/ipfs","https://dweb.link/ipfs"];function v(){var e,t;let r=(0,l.useSearchParams)(),m=(0,l.useRouter)(),v=(0,s.useRef)(null),[y,j]=(0,s.useState)([]),[w,N]=(0,s.useState)([]),[k,S]=(0,s.useState)([]),[I,E]=(0,s.useState)(!0),[A,O]=(0,s.useState)(1),[C,_]=(0,s.useState)(!0),[P,U]=(0,s.useState)(null),[M,T]=(0,s.useState)(0),[z,R]=(0,s.useState)(-1),[F,B]=(0,s.useState)(r.get("search")||""),[q,L]=(0,s.useState)(r.get("sort")||"token-asc"),[G,D]=(0,s.useState)({}),[X,W]=(0,s.useState)({}),[Z,V]=(0,s.useState)(""),[Y,$]=(0,s.useState)(""),[H,Q]=(0,s.useState)(""),[J,K]=(0,s.useState)([]),ee=(0,s.useRef)(new Set),[et,er]=(0,s.useState)({}),ea=(0,s.useRef)({}),[es,el]=(0,s.useState)(0),en=(0,s.useRef)(new Set),[eo,ei]=(0,s.useState)(null),[ec,ed]=(0,s.useState)(null),[eu,eh]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!b)return;let e=!1;return(async()=>{try{let t=b.replace(/\/+$/,""),[r,a,s]=await Promise.all([fetch("".concat(t,"/tokens.json"),{cache:"force-cache"}),fetch("".concat(t,"/traits.json"),{cache:"force-cache"}),fetch("".concat(t,"/traitIndex.json"),{cache:"force-cache"})]);if(!r.ok||!a.ok||!s.ok)return;let[l,n,o]=await Promise.all([r.json(),a.json(),s.json()]);if(e)return;let i={};for(let e of l)i[String(e.id)]={image:e.image||"",attributes:Array.isArray(e.attributes)?e.attributes:[]};if(ei(i),ed(o||{}),eh(n||null),(null==n?void 0:n.types)&&(null==n?void 0:n.valuesByType)){let e={};for(let t of n.types)e[t]=new Set(n.valuesByType[t]||[]);er(e),K(n.types.slice().sort())}}catch(e){}})(),()=>{e=!0}},[]);let em=(0,s.useCallback)(()=>{let e=new URLSearchParams;F&&e.set("search",F),"token-asc"!==q&&e.set("sort",q);let t=Object.entries(G).filter(e=>{let[,t]=e;return t.size>0}).map(e=>{let[t,r]=e;return"".concat(t,":").concat(Array.from(r).join("|"))}).join(";");t&&e.set("traits",t),m.push("/collection?".concat(e.toString()),{scroll:!1})},[F,q,G,m]);function ef(e){if(!e)return[];try{if(/^https?:\/\//i.test(e)){let t=e.indexOf("/ipfs/");if(-1!==t){let r=e.slice(t+6);return g.map(e=>"".concat(e,"/").concat(r))}return[e]}if(e.startsWith("ipfs://")){let t=e.replace("ipfs://","");return g.map(e=>"".concat(e,"/").concat(t))}if(/^(Qm[A-Za-z0-9]+|bafy[A-Za-z0-9]+)(\/.*)?$/.test(e))return g.map(t=>"".concat(t,"/").concat(e));return[e]}catch(t){return[e]}}function ep(e){let{srcs:t,alt:r,sizes:l,className:n}=e,[o,i]=(0,s.useState)(0),c=t[Math.min(o,t.length-1)];return(0,a.jsx)(u.default,{src:c,alt:r,fill:!0,sizes:l,className:n,onError:()=>{i(e=>e+1<t.length?e+1:e)}})}(0,s.useEffect)(()=>{},[!1,et,J,Y]),(0,s.useEffect)(()=>{(async()=>{E(!0);try{let e=parseInt(r.get("start")||"0",10),t=r.get("end"),a=r.get("count"),s=a?parseInt(a,10):1e4,l=[];if(!p){j([]),N([]),S([]),_(!1),T(0),R(-1);return}let n="number"==typeof s?e+Math.max(0,s-1):t?parseInt(t,10):e+9999;T(n-e+1);let o=Math.min(e+50-1,n),i=[];for(let t=e;t<=o;t++)i.push({id:String(t),name:String(t),imageUrl:"",tokenId:String(t)});l=i,R(o),j(l)}catch(e){console.error("Error loading collection data:",e)}finally{E(!1)}})()},[r]);let eb=(0,s.useCallback)((e,t)=>{let r=(t||[]).map(e=>{var t,r,a,s;let l=null!==(r=null!==(t=e.trait_type)&&void 0!==t?t:e.type)&&void 0!==r?r:e.name,n=null!==(s=null!==(a=e.value)&&void 0!==a?a:e.trait_value)&&void 0!==s?s:"",o="string"==typeof l?l:null!=l?String(l):"",i="string"==typeof n?n:null!=n?String(n):"";return o&&i?{name:o,value:i,rarity:0}:null}).filter(Boolean);if(0===r.length)return;ea.current[e]=r;let a={...et};for(let e of r)f.has(e.name)||(ee.current.has(e.name)||(ee.current.add(e.name),K(Array.from(ee.current).sort())),a[e.name]||(a[e.name]=new Set),a[e.name].add(e.value));er(a),el(e=>e+1)},[et]);(0,s.useEffect)(()=>{if(!p)return;let e=g[0],t=!1,r=k.filter(e=>{let t=e.tokenId;if(!t||en.current.has(t))return!1;let r=!!e.imageUrl,a=!!ea.current[t];return!r||!a});if(0!==r.length)return(async()=>{let a=[];if(b&&eo){for(let e of r){let r=e.tokenId;en.current.add(r);let a=eo[r];if(!a)continue;let s=(()=>{let e=ef(a.image||"");return["".concat(x,"/").concat(r,".webp"),...e]})();eb(r,Array.isArray(a.attributes)?a.attributes:[]),t||(j(t=>t.map(t=>t.id===e.id?{...t,imageUrl:s[0]||t.imageUrl,imageUrls:s}:t)),S(t=>t.map(t=>t.id===e.id?{...t,imageUrl:s[0]||t.imageUrl,imageUrls:s}:t)))}return}for(let s of r){let r=s.tokenId;en.current.add(r);let l="".concat(e,"/").concat(p,"/").concat(r,".json");a.push((async()=>{try{let e=await fetch(l,{cache:"force-cache"});if(!e.ok)return;let a=await e.json(),n=ef((null==a?void 0:a.image)||(null==a?void 0:a.image_url)||""),o=Array.isArray(null==a?void 0:a.attributes)?a.attributes:[];if(eb(r,o),t)return;j(e=>e.map(e=>e.id===s.id?{...e,imageUrl:n[0]||e.imageUrl,imageUrls:n}:e)),S(e=>e.map(e=>e.id===s.id?{...e,imageUrl:n[0]||e.imageUrl,imageUrls:n}:e))}catch(e){}})())}await Promise.allSettled(a)})(),()=>{t=!0}},[k,eb,eo]),(0,s.useEffect)(()=>{if(!(Object.entries(G).filter(e=>{let[,t]=e;return t.size>0}).length>0)||!p)return;let e=g[0],t=!1;if(b&&eu&&ec)return()=>{t=!0};let r=[];for(let e=0;e<M;e++){let t=String(e);ea.current[t]||r.push(t)}if(0===r.length)return;let a=0;return(async()=>{let s=Array.from({length:4}).map(async()=>{for(;!t;){let t=r[a++];if(!t)break;try{let r=await fetch("".concat(e,"/").concat(p,"/").concat(t,".json"),{cache:"force-cache"});if(!r.ok)continue;let a=await r.json();eb(t,Array.isArray(null==a?void 0:a.attributes)?a.attributes:[])}catch(e){}}});await Promise.allSettled(s)})(),()=>{t=!0}},[y,G,!1,eb,ec,eu,M]),(0,s.useEffect)(()=>{let e={};if((null==eu?void 0:eu.types)&&(null==eu?void 0:eu.valuesByType))for(let t of eu.types)f.has(t)||(e[t]=new Set(eu.valuesByType[t]||[]));for(let t in ea.current)for(let r of ea.current[t]||[])!f.has(r.name)&&(e[r.name]||(e[r.name]=new Set),r.value&&e[r.name].add(r.value));er(e);let t=Object.keys(e).sort();t.forEach(e=>ee.current.add(e)),K(Array.from(new Set(t)).sort())},[es,eu]),(0,s.useEffect)(()=>{D(e=>{let t=!1,r={};for(let[a,s]of Object.entries(e)){if(f.has(a)){t=!0;continue}r[a]=s}return t?r:e}),f.has(Y)&&$("")},[J,Y]),(0,s.useEffect)(()=>{let e=new Set,t=(F||"").trim(),r=t.length>0,a=Object.entries(G).filter(e=>{let[,t]=e;return t.size>0}),s=a.length>0;if(!r&&!s){let e=[...y].sort((e,t)=>{switch(q){case"token-asc":return(e.tokenId?parseInt(e.tokenId,10):Number.MAX_SAFE_INTEGER)-(t.tokenId?parseInt(t.tokenId,10):Number.MAX_SAFE_INTEGER);case"token-desc":{let r=e.tokenId?parseInt(e.tokenId,10):Number.MIN_SAFE_INTEGER;return(t.tokenId?parseInt(t.tokenId,10):Number.MIN_SAFE_INTEGER)-r}default:return 0}});N(e),O(1),S(e.slice(0,50));let t=z+1<M;_(e.length>50||t);return}if(r)for(let r=0;r<M;r++){let a=String(r);a.includes(t)&&e.add(a)}if(s){if(b&&ec){let t=!0,r=new Set;for(let[e,s]of a){let a=ec[e]||{},l=new Set;s.forEach(e=>{for(let t of a[e]||[])l.add(String(t))}),t?(r=l,t=!1):r=new Set(Array.from(r).filter(e=>l.has(e)))}for(let t of r)e.add(t)}else for(let t=0;t<M;t++){let r=String(t),s=ea.current[r]||[];0!==s.length&&a.every(e=>{let[t,r]=e;return s.some(e=>e.name===t&&r.has(e.value))})&&e.add(r)}}if(e.size>0){let t=new Set(y.map(e=>e.tokenId||"")),r=[];e.forEach(e=>{t.has(e)||r.push({id:e,name:e,imageUrl:"",tokenId:e})}),r.length>0&&j(e=>[...e,...r])}let l=y.filter(t=>t.tokenId&&e.has(t.tokenId));l.sort((e,t)=>{switch(q){case"token-asc":return(e.tokenId?parseInt(e.tokenId,10):Number.MAX_SAFE_INTEGER)-(t.tokenId?parseInt(t.tokenId,10):Number.MAX_SAFE_INTEGER);case"token-desc":{let r=e.tokenId?parseInt(e.tokenId,10):Number.MIN_SAFE_INTEGER;return(t.tokenId?parseInt(t.tokenId,10):Number.MIN_SAFE_INTEGER)-r}default:return 0}}),N(l),O(1),S(l.slice(0,50));let n=z+1<M;_(l.length>50||n)},[y,F,q,G,ec,z,M]),(0,s.useEffect)(()=>{let e=new IntersectionObserver(e=>{if(!e[0].isIntersecting||!C||I)return;let t=A+1,r=50*t,a=r+50,s=w.slice(r,a);if(s.length>0)S(e=>[...e,...s]),O(t),_(a<w.length||z+1<M);else if(z+1<M){let e=z+1,t=Math.min(z+50,M-1),r=[];for(let a=e;a<=t;a++)r.push({id:String(a),name:String(a),imageUrl:"",tokenId:String(a)});j(e=>[...e,...r]),R(t)}else _(!1)},{threshold:.1});return v.current&&e.observe(v.current),()=>e.disconnect()},[A,C,I,w,z,M]),(0,s.useEffect)(()=>{em()},[em]);let ex=(e,t)=>{D(r=>{let a={...r},s=new Set(a[e]||[]);return s.has(t)?s.delete(t):s.add(t),a[e]=s,a})},eg=()=>{B(""),L("token-asc"),D({}),W({})},ev=e=>{D(t=>{let r={...t};return r[e]=new Set,r})},ey=async e=>{U(e)},ej=()=>U(null),ew=(0,s.useMemo)(()=>{let e=[];for(let[t,r]of Object.entries(G))for(let a of r)e.push({type:t,value:a});return e},[G]);return(0,a.jsxs)("div",{className:"min-h-screen",style:{color:"var(--foreground)",background:"var(--background)"},children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("div",{className:"pt-24 pb-20",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)(n.P.div,{className:"mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,a.jsx)("h1",{className:"section-heading mb-6 text-center",style:{color:"var(--foreground)"},children:"Collection"}),(0,a.jsxs)(n.P.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15,duration:.6},children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,a.jsx)(o,{className:"w-5 h-5 text-hero-blue"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",style:{color:"var(--foreground)"},children:"Marketplaces"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("a",{href:"https://magiceden.io/collections/apechain/0xa6babe18f2318d2880dd7da3126c19536048f8b0",target:"_blank",rel:"noopener noreferrer",className:"glass-dark rounded-xl p-6 flex items-center justify-between group hover:border-hero-blue/70 transition-all duration-300 hover:shadow-lg hover:shadow-hero-blue/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-hero-blue/10 flex items-center justify-center group-hover:bg-hero-blue/20 transition-colors",children:(0,a.jsx)(u.default,{src:"/magiceden_icon.jpeg",alt:"Magic Eden",width:32,height:32,className:"w-8 h-8 rounded-lg"})}),(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"font-semibold text-lg",style:{color:"var(--foreground)"},children:"Magic Eden"})})]}),(0,a.jsx)(i.A,{className:"w-5 h-5 text-hero-blue opacity-0 group-hover:opacity-100 transition-opacity"})]}),(0,a.jsxs)("a",{href:"https://app.mintify.com/nft/apechain/0xa6babe18f2318d2880dd7da3126c19536048f8b0",target:"_blank",rel:"noopener noreferrer",className:"glass-dark rounded-xl p-6 flex items-center justify-between group hover:border-hero-blue/70 transition-all duration-300 hover:shadow-lg hover:shadow-hero-blue/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-ape-gold/10 flex items-center justify-center group-hover:bg-ape-gold/20 transition-colors",children:(0,a.jsx)(u.default,{src:"/mintify_icon.jpeg",alt:"Mintify",width:32,height:32,className:"w-8 h-8 rounded-lg"})}),(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"font-semibold text-lg",style:{color:"var(--foreground)"},children:"Mintify"})})]}),(0,a.jsx)(i.A,{className:"w-5 h-5 text-ape-gold opacity-0 group-hover:opacity-100 transition-opacity"})]}),(0,a.jsxs)("a",{href:"https://opensea.io/collection/apes-on-apechain",target:"_blank",rel:"noopener noreferrer",className:"glass-dark rounded-xl p-6 flex items-center justify-between group hover:border-hero-blue/70 transition-all duration-300 hover:shadow-lg hover:shadow-hero-blue/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center overflow-hidden group-hover:bg-blue-500/20 transition-colors",children:(0,a.jsx)(u.default,{src:"/opensea-logo.webp",alt:"OpenSea",width:32,height:32,className:"w-8 h-8 object-contain"})}),(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"font-semibold text-lg",style:{color:"var(--foreground)"},children:"OpenSea"})})]}),(0,a.jsx)(i.A,{className:"w-5 h-5 text-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-5 gap-6",children:[(0,a.jsxs)("aside",{className:"lg:col-span-1 space-y-4",children:[(0,a.jsx)("div",{className:"glass-dark rounded-xl p-3 border border-white/10",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",inputMode:"numeric",placeholder:"Search by token ID…",value:H,onChange:e=>Q(e.target.value),className:"w-full px-2 py-1 glass border border-white/10 rounded text-xs placeholder-gray-400 focus:border-hero-blue focus:outline-none",style:{color:"var(--foreground)"}}),(0,a.jsx)("button",{className:"btn-primary px-3 py-1 text-xs",onClick:()=>{B((H||"").trim()),O(1)},children:"Search"}),(0,a.jsx)("button",{className:"btn-secondary px-3 py-1 text-xs",onClick:()=>{Q(""),eg()},children:"Reset"})]})}),ew.length>0&&(0,a.jsx)("div",{className:"glass-dark rounded-xl p-3 border border-white/10",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[ew.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>ex(e.type,e.value),className:"px-2 py-1 rounded-full text-xs glass border border-white/10 hover:border-hero-blue/60",title:"Remove filter",children:[e.type,": ",e.value," \xd7"]},"".concat(e.type,"-").concat(e.value,"-").concat(t))),(0,a.jsx)("button",{className:"text-xs text-hero-blue hover:underline",onClick:eg,children:"Clear all"})]})}),(0,a.jsxs)("div",{className:"glass-dark rounded-xl p-4 border border-white/10 sticky top-24",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsx)("span",{className:"text-sm font-semibold",style:{color:"var(--foreground)"},children:"Traits"})}),(0,a.jsx)("input",{type:"text",value:Z,onChange:e=>V(e.target.value),placeholder:"Filter trait types…",className:"w-full px-2 py-1 glass border border-white/10 rounded text-xs placeholder-gray-400 focus:border-hero-blue focus:outline-none mb-2",style:{color:"var(--foreground)"}}),(0,a.jsx)("div",{className:"flex flex-col gap-2 overflow-y-auto max-h-60 pr-1",children:J.filter(e=>!f.has(e)).filter(e=>e.toLowerCase().includes(Z.toLowerCase())).map(e=>{var t,r,s,l;let n=null!==(s=null===(t=G[e])||void 0===t?void 0:t.size)&&void 0!==s?s:0,o=(null!==(l=null===(r=et[e])||void 0===r?void 0:r.size)&&void 0!==l?l:0)>0,i=Y===e;return(0,a.jsxs)("button",{disabled:!o,onClick:()=>{i?$(""):$(e)},className:"w-full text-left px-3 py-1.5 rounded-md text-xs border transition-colors ".concat(i?"border-hero-blue text-hero-blue bg-hero-blue/10":"border-white/10 hover:border-hero-blue/50"," ").concat(o?"":"opacity-50 cursor-not-allowed"),title:o?"Select ".concat(e):"No values available",children:[e,n?" (".concat(n,")"):""]},e)})})]}),Y&&(0,a.jsxs)("div",{className:"border border-white/10 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("input",{type:"text",value:X[Y]||"",onChange:e=>W(t=>({...t,[Y]:e.target.value})),placeholder:"Filter ".concat(Y," values…"),className:"w-full px-2 py-1 glass border border-white/10 rounded text-xs placeholder-gray-400 focus:border-hero-blue focus:outline-none",style:{color:"var(--foreground)"}}),(null!==(t=null===(e=G[Y])||void 0===e?void 0:e.size)&&void 0!==t?t:0)>0&&(0,a.jsx)("button",{type:"button",className:"text-[11px] text-hero-blue hover:underline whitespace-nowrap",onClick:()=>ev(Y),children:"Clear"})]}),(()=>{let e=Array.from(et[Y]||[]).sort((e,t)=>e.localeCompare(t)),t=(X[Y]||"").toLowerCase();t&&(e=e.filter(e=>e.toLowerCase().includes(t)));let r=e,s=G[Y]||new Set;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("span",{className:"text-xs",style:{color:"var(--ape-gray)"},children:[e.length," values"]})}),0===e.length?(0,a.jsx)("div",{className:"text-xs",style:{color:"var(--ape-gray)"},children:"No values found"}):(0,a.jsx)("div",{className:"space-y-1.5 max-h-96 overflow-auto pr-1",children:r.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2 text-xs",children:[(0,a.jsx)("input",{type:"checkbox",checked:s.has(e),onChange:()=>ex(Y,e)}),(0,a.jsx)("span",{className:"break-words whitespace-normal",children:e})]},e))})]})})()]})]})]}),(0,a.jsx)("section",{className:"lg:col-span-4",children:I?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-neon-cyan/30 border-t-neon-cyan rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{style:{color:"var(--ape-gray)"},children:"Loading collection..."})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:k.map(e=>(0,a.jsx)("div",{className:"glass-dark rounded-xl overflow-hidden border border-white/10 cursor-pointer",onClick:()=>ey(e),children:(0,a.jsxs)("div",{className:"relative aspect-square",children:[e.tokenId?(0,a.jsx)(ep,{srcs:["".concat(x,"/").concat(e.tokenId,".webp"),...e.imageUrls&&e.imageUrls.length>0?e.imageUrls:e.imageUrl?[e.imageUrl]:[]],alt:e.name,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 16vw",className:"object-cover"}):e.imageUrl?(0,a.jsx)(ep,{srcs:[e.imageUrl],alt:e.name,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 16vw",className:"object-cover"}):(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40",children:(0,a.jsx)("div",{className:"w-10 h-10 border-4 border-hero-blue/30 border-t-hero-blue rounded-full animate-spin"})}),e.tokenId&&(0,a.jsxs)("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded bg-black/60 text-xs border border-white/10",children:["#",e.tokenId]})]})},e.id))}),C&&(0,a.jsx)("div",{ref:v,className:"flex justify-center py-8",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-neon-cyan/30 border-t-neon-cyan rounded-full animate-spin"})}),!C&&w.length>0&&(0,a.jsx)(n.P.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},children:(0,a.jsx)("p",{style:{color:"var(--ape-gray)"},children:"You've reached the end of the collection"})}),0===w.length&&(0,a.jsxs)(n.P.div,{className:"text-center py-20",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[(0,a.jsx)("p",{className:"text-2xl mb-4",style:{color:"var(--foreground)"},children:"No images found"}),(0,a.jsx)("p",{className:"mb-6",style:{color:"var(--ape-gray)"},children:"Try adjusting your filters to see more results"}),(0,a.jsx)("button",{onClick:eg,className:"btn-primary",children:"Clear All Filters"})]})]})})]})]})}),(0,a.jsx)(h.A,{}),P&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:ej}),(0,a.jsxs)("div",{className:"relative z-10 glass-dark bg-black/60 rounded-xl border border-white/20 w-[95vw] max-w-4xl mx-auto overflow-hidden shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm",style:{color:"var(--ape-gray)"},children:"Token"}),(0,a.jsx)("span",{className:"text-base font-semibold",style:{color:"var(--foreground)"},children:P.tokenId?"#".concat(P.tokenId):"—"})]}),(0,a.jsx)("button",{onClick:ej,className:"p-2 rounded hover:bg-white/5","aria-label":"Close",children:(0,a.jsx)(c.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-0",children:[(0,a.jsx)("div",{className:"relative w-full aspect-square md:aspect-auto md:min-h-[28rem]",children:(0,a.jsx)(u.default,{src:P.imageUrl,alt:P.name,fill:!0,sizes:"50vw",className:"object-contain bg-black"})}),(0,a.jsxs)("div",{className:"p-4 md:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--foreground)"},children:"Traits"}),P.traits&&0!==P.traits.length?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:P.traits.map((e,t)=>(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs glass border border-white/10",children:[e.name,": ",e.value]},"".concat(e.name,"-").concat(e.value,"-").concat(t)))}):(0,a.jsx)("p",{className:"text-sm",style:{color:"var(--ape-gray)"},children:P.tokenId?"Loading traits…":"No traits available"})]})]})]})]})]})}},35765:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},76046:(e,t,r)=>{"use strict";var a=r(66658);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},93435:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var a=r(12115),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=a.createContext&&a.createContext(s),n=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var a,s;a=t,s=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>a.createElement(u,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:s,size:l,title:i}=e,d=function(e,t){if(null==e)return{};var r,a,s=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,n),u=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==l?a.createElement(l.Consumer,null,e=>t(e)):t(s)}}},e=>{var t=t=>e(e.s=t);e.O(0,[2362,554,5565,7672,3867,2771,8441,1517,7358],()=>t(88159)),_N_E=e.O()}]);