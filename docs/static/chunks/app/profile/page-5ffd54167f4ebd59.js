(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{97782:(e,t,r)=>{Promise.resolve().then(r.bind(r,95046))},77674:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var l=r(95155),n=r(5565);function a(e){let{src:t,alt:r,className:a,width:i=800,height:s=800,fill:o=!1,sizes:c="100vw",unoptimized:u=!0,priority:d=!1}=e,f=t||"/placeholder.png";return o?(0,l.jsx)(n.default,{src:f,alt:r,fill:!0,sizes:c,unoptimized:u,className:a,priority:d}):(0,l.jsx)(n.default,{src:f,alt:r,width:i,height:s,sizes:c,unoptimized:u,className:a,priority:d})}r(12115)},95046:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,dynamic:()=>u});var l=r(95155),n=r(12115),a=r(82243),i=r(76897),s=r(45687),o=r(21833),c=r(77674);let u="force-dynamic";function d(){let{user:e,linkTwitter:t}=(0,s.u)(),r=(0,o.j)(),u=(0,n.useMemo)(()=>(null==e?void 0:e.twitter)||null,[e]),d=(null==u?void 0:u.name)||"",f=(null==u?void 0:u.username)||"",m=(null==u?void 0:u.profilePictureUrl)||null,[p,v]=(0,n.useState)(null),[x,b]=(0,n.useState)(null),h=e=>{if(!e)return;let t=new FileReader;t.onload=()=>{b(String(t.result||""))},t.readAsDataURL(e)},y=async()=>{try{var t;let r=document.getElementById("avatar-file-input"),l=null==r?void 0:null===(t=r.files)||void 0===t?void 0:t[0];if(!l||!(null==e?void 0:e.id))return;let n=new FormData;n.append("file",l),n.append("userId",String(e.id));let a=await fetch("/api/profile/avatar",{method:"POST",body:n});if(!a.ok)return;let i=await a.json(),s=null==i?void 0:i.url;if(s){v(s),b(null);try{localStorage.setItem("user_custom_avatar",s)}catch(e){}}}catch(e){}};return(0,l.jsxs)("div",{className:"min-h-screen relative",children:[(0,l.jsx)(a.default,{}),(0,l.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-28 pb-16",children:[(0,l.jsx)("div",{className:"glass-dark rounded-xl p-6 border border-white/10 mb-6",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[(0,l.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border-2 border-hero-blue/50 bg-black/40 flex items-center justify-center relative",children:x||p||m?(0,l.jsx)(c.default,{src:x||p||m||"",alt:"Avatar",className:"w-full h-full object-cover",width:256,height:256}):(0,l.jsx)("div",{className:"text-xs text-off-white/60 text-center p-2",children:"No avatar"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("label",{className:"btn-secondary cursor-pointer text-xs px-2 py-1",children:["Change",(0,l.jsx)("input",{id:"avatar-file-input",type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;return h((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}})]}),(0,l.jsx)("button",{className:"btn-primary px-2 py-1 text-xs",onClick:y,disabled:!x||!(null==e?void 0:e.id),children:"Save"})]}),d&&(0,l.jsx)("div",{className:"text-2xl font-bold",style:{color:"var(--foreground)"},children:d}),f&&(0,l.jsxs)("div",{className:"text-lg text-off-white/80",children:["@",f]}),(0,l.jsx)("div",{className:"mt-2",children:u?(0,l.jsx)("span",{className:"inline-flex items-center px-3 py-1.5 text-sm rounded-md bg-green-600/20 text-green-400 border border-green-500/30",children:"âœ“ X Account Linked"}):(0,l.jsx)("button",{className:"btn-secondary px-3 py-1.5 text-sm",onClick:async()=>{try{await (null==t?void 0:t())}catch(e){}},children:"\uD83D\uDC26 Link X account"})})]})}),(0,l.jsx)("div",{className:"flex justify-center mt-8",children:(0,l.jsx)("button",{className:"btn-secondary px-4 py-2 text-sm",onClick:()=>{var e;null===(e=r.logout)||void 0===e||e.call(r)},children:"Sign out"})})]}),(0,l.jsx)(i.A,{})]})}},93435:(e,t,r)=>{"use strict";r.d(t,{k5:()=>u});var l=r(12115),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=l.createContext&&l.createContext(n),i=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var l,n;l=t,n=r[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in e?Object.defineProperty(e,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[l]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>l.createElement(d,s({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>l.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:n,size:a,title:o}=e,u=function(e,t){if(null==e)return{};var r,l,n=function(e,t){if(null==e)return{};var r={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;r[l]=e[l]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)r=a[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,i),d=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),l.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,u,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&l.createElement("title",null,o),e.children)};return void 0!==a?l.createElement(a.Consumer,null,e=>t(e)):t(n)}}},e=>{var t=t=>e(e.s=t);e.O(0,[5328,7532,5783,2362,554,5565,9623,7672,3867,2771,8441,1517,7358],()=>t(97782)),_N_E=e.O()}]);