"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64],{60915:(e,r,t)=>{t.d(r,{A:()=>n});var o=t(12115);let n=o.forwardRef(function(e,r){let{title:t,titleId:n,...l}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},l),t?o.createElement("title",{id:n},t):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},81951:(e,r,t)=>{t.d(r,{A:()=>n});var o=t(12115);let n=o.forwardRef(function(e,r){let{title:t,titleId:n,...l}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},l),t?o.createElement("title",{id:n},t):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))})},30064:(e,r,t)=>{t.r(r),t.d(r,{SetAutomaticRecoveryScreen:()=>m,default:()=>m});var o=t(95155),n=t(60915),l=t(81951),i=t(12115),a=t(5944),s=t(93659),c=t(40639),d=t(16873),u=t(95446),h=t(39609),y=t(81084),f=t(31679),g=t(48568);t(68943),t(47147),t(29761);let v=d.I4.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],e=>e.$color??"var(--privy-color-accent)"),m={component:()=>{let{user:e}=(0,a.u)(),{client:r,walletProxy:t,refreshSessionAndUser:d,closePrivyModal:m}=(0,f.u)(),p=(0,a.a)(),{entropyId:w,entropyIdVerifier:x}=p.data?.recoverWallet,[j,b]=(0,i.useState)(!1),[k,C]=(0,i.useState)(null),[S,E]=(0,i.useState)(null);function I(){if(!j){if(S)return p.data?.setWalletPassword?.onFailure(S),void m();if(!k)return p.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),void m()}}return p.onUserCloseViaDialogOrKeybindRef.current=I,(0,o.jsxs)(o.Fragment,S?{children:[(0,o.jsx)(c.M,{onClose:I},"header"),(0,o.jsx)(v,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:(0,o.jsx)(n.A,{height:38,width:38,stroke:"var(--privy-color-error)"})}),(0,o.jsx)(h.T,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),(0,o.jsx)(g.Y,{style:{minHeight:"2rem"}}),(0,o.jsx)(s.a,{onClick:()=>E(null),children:"Try again"}),(0,o.jsx)(c.B,{})]}:{children:[(0,o.jsx)(c.M,{onClose:I},"header"),(0,o.jsx)(l.A,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),(0,o.jsx)(h.T,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),(0,o.jsx)(u.S,{style:{marginTop:"1rem"},children:"When you log into a new device, youâ€™ll only need to authenticate to access your account. Never get logged out if you forget your password."}),(0,o.jsx)(g.Y,{style:{minHeight:"2rem"}}),(0,o.jsx)(s.a,{loading:j,disabled:!(!j&&!k),onClick:()=>(async function(){b(!0);try{let o=await r.getAccessToken(),n=(0,a.h)(e,w);if(!o||!t||!n)return;if(!(await t.setRecovery({accessToken:o,entropyId:w,entropyIdVerifier:x,existingRecoveryMethod:n.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let l=await d();if(!l)throw Error("Unable to set recovery on wallet");let i=(0,a.h)(l,n.address);if(!i)throw Error("Unabled to set recovery on wallet");C(!!l),setTimeout(()=>{p.data?.setWalletPassword?.onSuccess(i),m()},y.q)}catch(e){E(e)}finally{b(!1)}})(),children:k?"Success":"Confirm"}),(0,o.jsx)(c.B,{})]})}}},95446:(e,r,t)=>{t.d(r,{S:()=>o});let o=t(16873).I4.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"])},39609:(e,r,t)=>{t.d(r,{T:()=>o});let o=t(16873).I4.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"])}}]);