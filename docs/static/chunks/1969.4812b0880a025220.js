"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1969],{13827:(e,r,n)=>{n.d(r,{C:()=>t});var i=n(95155),o=n(16873),a=n(4111);let t=({children:e,color:r,isLoading:n,isPulsing:o,...a})=>(0,i.jsx)(s,{$color:r,$isLoading:n,$isPulsing:o,...a,children:e}),s=o.I4.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],e=>{let r,n;"green"===e.$color&&(r="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),"red"===e.$color&&(r="var(--privy-color-error)",n="var(--privy-color-error-light)"),"gray"===e.$color&&(r="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let i=(0,o.i7)(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return(0,o.AH)(["color:",";background-color:",";",";"],r,n,e.$isPulsing&&(0,o.AH)(["animation:"," 3s linear infinite;"],i))},a.L)},4111:(e,r,n)=>{n.d(r,{L:()=>a});var i=n(16873);let o=(0,i.i7)(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]),a=(0,i.AH)(["",""],e=>e.$isLoading?(0,i.AH)(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],o):"")},10997:(e,r,n)=>{n.r(r),n.d(r,{MfaAuthEnrollmentFlowScreen:()=>g,default:()=>g});var i=n(95155),o=n(21029),a=n(3941),t=n(12115),s=n(93659),l=n(48568),c=n(40639),d=n(81084),p=n(5944),h=n(30734),u=n(8808);n(47147),n(29761),n(68943),n(89208),n(85243),n(79995);let g={component:()=>{let{user:e,ready:r}=(0,p.u)(),{data:n,onUserCloseViaDialogOrKeybindRef:g}=(0,p.a)(),m=(0,d.u)(),[v,y]=(0,t.useState)(null),[f,x]=(0,t.useState)(null),[b,w]=(0,t.useState)(null),[j,C]=(0,t.useState)(!1),[I,k]=(0,t.useState)(!1),[S,N]=(0,t.useState)(),F=async()=>{S?M(S):e?await E({user:e}):M(Error("Must be logged in to manage MFA")),setTimeout(()=>{y(null),x(null)},500)};if(g.current=F,!n?.mfaEnroll)throw Error("Missing modal data for MFA enrollment screen.");let{onFailure:M,onSuccess:E,onBack:A,mfaMethods:z,verify:B,generateTotpSecret:$,enrollTotp:H,unenrollTotp:R,enrollPasskey:T}=n.mfaEnroll,L=e?.mfaMethods.includes("sms"),P=e?.mfaMethods.includes("totp"),W=e?.mfaMethods.includes("passkey"),U=!!e?.phone,V=e?.linkedAccounts.filter(e=>"passkey"===e.type).map(e=>e.credentialId)??[];function _(){y(null),x(null),N(void 0)}async function O(e=V){try{N(void 0),k(!0);let r=await T(e);return await E({user:r})}catch(e){N(e)}finally{k(!1),C(!1)}}if(!r||!e||!m)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.M,{onClose:F,backFn:A},"header"),(0,i.jsx)(u.A,{children:(0,i.jsx)(h.M,{})}),(0,i.jsx)(u.C,{children:(0,i.jsx)(l.L,{})}),(0,i.jsx)(c.a,{})]});if("sms"===v)return null;if("totp"===v)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.M,{backFn:_,onClose:F},"header"),(0,i.jsx)(u.I,{style:{marginBottom:"1.5rem"},children:(0,i.jsx)(o.A,{})}),(0,i.jsx)(u.T,{children:"Remove authenticator app verification?"}),(0,i.jsxs)(u.S,{children:["MFA adds an extra layer of security to your ",m?.name," account. Make sure you have other methods to secure your account."]}),(0,i.jsx)(u.B,{children:(0,i.jsx)(s.P,{$warn:!0,onClick:async function(){try{N(void 0),k(!0);let e=await R();return await E({user:e})}catch(e){N(e)}finally{k(!1),y(null)}},loading:I,children:"Remove"})}),(0,i.jsx)(c.a,{})]});if("passkey"===v){let e=n.mfaEnroll.shouldUnlinkOnUnenrollMfa??!0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.M,{backFn:_,onClose:F},"header"),(0,i.jsx)(u.I,{style:{marginBottom:"1.5rem"},children:(0,i.jsx)(o.A,{})}),(0,i.jsx)(u.T,{children:"Are you sure you want to remove this passkey?"}),(0,i.jsx)(u.S,{children:e?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),(0,i.jsx)(u.B,{children:(0,i.jsx)(s.P,{$warn:!0,onClick:async function(){try{N(void 0),k(!0);let e=await T([]);return await E({user:e})}catch(e){N(e)}finally{k(!1),y(null)}},loading:I,children:"Remove"})}),(0,i.jsx)(c.a,{})]})}return 0!==z.length||L||P||W?"sms"===f?null:"totp"===f&&b?(0,i.jsx)(h.E,{onClose:F,onReset:_,submitEnrollmentWithTotp:e=>(async function(e){try{N(void 0),k(!0);let r=await H(e);return await E({user:r})}catch(e){N(e)}finally{k(!1),y(null)}})(e.mfaCode),error:S,totpInfo:{...b,appName:m?.name||"Privy"}}):"passkey"===f?(0,i.jsx)(h.a,{onReset:_,onClose:F,submitEnrollmentWithPasskey:O}):(0,i.jsx)(h.b,{showIntro:!0,userMfaMethods:e.mfaMethods,appMfaMethods:m.mfa.methods,userHasAuthSms:U,backFn:A,handleSelectMethod:async function(e){N(void 0);try{await B()}catch(e){return void N(e)}return"totp"===e?(x(e),w(null),void $().then(({totpSecret:e,totpAuthUrl:r})=>{w({authUrl:r,secret:e})}).catch(()=>{w(null),_()})):"passkey"===e&&1===V.length?await O():void x(e)},isTotpLoading:"totp"===f&&!b,isPasskeyLoading:j,error:S,onClose:F,setRemovingMfaMethod:async function(e){N(void 0);try{await B()}catch(e){return void N(e)}y(e)}}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.M,{onClose:F,backFn:A},"header"),(0,i.jsx)(u.I,{style:{marginBottom:"1.5rem"},children:(0,i.jsx)(a.A,{})}),(0,i.jsx)(u.T,{children:"Add more security"}),(0,i.jsxs)(u.S,{children:[m?.name," does not have any verification methods enabled."]}),(0,i.jsx)(u.B,{children:(0,i.jsx)(s.P,{onClick:F,children:"Close"})}),(0,i.jsx)(c.a,{})]})}}},37105:(e,r,n)=>{n.d(r,{S:()=>j});var i=n(95155),o=n(12115),a=n(16873),t=n(48568),s=n(40639),l=n(78584);let c=a.I4.div.withConfig({displayName:"ScreenRoot",componentId:"sc-2e815abe-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),d=a.I4.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-2e815abe-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),p=a.I4.div.withConfig({displayName:"HeaderContainer",componentId:"sc-2e815abe-2"})(["position:relative;display:flex;flex-direction:column;"]),h=(0,a.I4)(s.M).withConfig({displayName:"StyledModalHeader",componentId:"sc-2e815abe-3"})(["margin:0 -8px;"]),u=a.I4.div.withConfig({displayName:"BodyContainer",componentId:"sc-2e815abe-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:e})=>"light"===e?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":"dark"===e?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),g=a.I4.div.withConfig({displayName:"FooterContainer",componentId:"sc-2e815abe-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]),m=a.I4.div.withConfig({displayName:"CenteredHeader",componentId:"sc-2e815abe-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),v=a.I4.div.withConfig({displayName:"TitleContainer",componentId:"sc-2e815abe-7"})(["display:flex;flex-direction:column;gap:4px;"]),y=a.I4.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-2e815abe-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),f=a.I4.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-2e815abe-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),x=a.I4.div.withConfig({displayName:"IconContainer",componentId:"sc-2e815abe-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:e})=>{switch(e){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),b=a.I4.div.withConfig({displayName:"LogoContainer",componentId:"sc-2e815abe-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),w=a.I4.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-2e815abe-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]),j=({children:e,...r})=>(0,i.jsx)(c,{children:(0,i.jsx)(d,{...r,children:e})}),C=a.I4.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-2e815abe-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),I=(0,a.I4)(s.B).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-2e815abe-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),k=a.I4.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-2e815abe-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:e})=>e),S=({step:e})=>e?(0,i.jsx)(C,{children:(0,i.jsx)(k,{pct:Math.min(100,e.current/e.total*100)})}):null;j.Header=({title:e,subtitle:r,icon:n,iconVariant:o,iconLoadingStatus:a,showBack:t,onBack:s,showInfo:l,onInfo:c,showClose:d,onClose:u,step:g,...x})=>(0,i.jsxs)(p,{...x,children:[(0,i.jsx)(h,{backFn:t?s:void 0,infoFn:l?c:void 0,onClose:d?u:void 0,closeable:d}),(n||o||e||r)&&(0,i.jsxs)(m,{children:[n||o?(0,i.jsx)(j.Icon,{icon:n,variant:o,loadingStatus:a}):null,(0,i.jsxs)(v,{children:[e&&(0,i.jsx)(y,{children:e}),r&&(0,i.jsx)(f,{children:r})]})]}),g&&(0,i.jsx)(S,{step:g})]}),(j.Body=o.forwardRef(({children:e,...r},n)=>(0,i.jsx)(u,{ref:n,...r,children:e}))).displayName="Screen.Body",j.Footer=({children:e,...r})=>(0,i.jsx)(g,{id:"privy-content-footer-container",...r,children:e}),j.Actions=({children:e,...r})=>(0,i.jsx)(N,{...r,children:e}),j.HelpText=({children:e,...r})=>(0,i.jsx)(F,{...r,children:e}),j.Watermark=()=>(0,i.jsx)(I,{}),j.Icon=({icon:e,variant:r="subtle",loadingStatus:n})=>"logo"===r&&e?(0,i.jsx)(b,"string"==typeof e?{children:(0,i.jsx)("img",{src:e,alt:""})}:o.isValidElement(e)?{children:e}:{children:o.createElement(e)}):"loading"===r?e?(0,i.jsx)(w,{children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,i.jsx)(t.a4,{success:n?.success,fail:n?.fail}),"string"==typeof e?(0,i.jsx)("span",{style:{background:`url('${e}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):o.isValidElement(e)?o.cloneElement(e,{style:{width:"38px",height:"38px"}}):o.createElement(e,{style:{width:"38px",height:"38px"}})]})}):(0,i.jsx)(x,{$variant:r,children:(0,i.jsx)(l.N,{size:"64px"})}):(0,i.jsx)(x,{$variant:r,children:e&&("string"==typeof e?(0,i.jsx)("img",{src:e,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):o.isValidElement(e)?e:o.createElement(e,{width:32,height:32,stroke:(()=>{switch(r){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let N=a.I4.div.withConfig({displayName:"ActionsContainer",componentId:"sc-2e815abe-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),F=a.I4.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-2e815abe-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"])},35319:(e,r,n)=>{n.d(r,{S:()=>t});var i=n(95155),o=n(93659),a=n(37105);let t=({primaryCta:e,secondaryCta:r,helpText:n,watermark:t=!0,children:s,...l})=>{let c=e||r?(0,i.jsxs)(i.Fragment,{children:[e&&(()=>{let{label:r,...n}=e,a=n.variant||"primary";return(0,i.jsx)(o.B,{...n,variant:a,style:{width:"100%",...n.style},children:r})})(),r&&(()=>{let{label:e,...n}=r,a=n.variant||"secondary";return(0,i.jsx)(o.B,{...n,variant:a,style:{width:"100%",...n.style},children:e})})()]}):null;return(0,i.jsxs)(a.S,{id:l.id,className:l.className,children:[(0,i.jsx)(a.S.Header,{...l}),s?(0,i.jsx)(a.S.Body,{children:s}):null,n||c||t?(0,i.jsxs)(a.S.Footer,{children:[n?(0,i.jsx)(a.S.HelpText,{children:n}):null,c?(0,i.jsx)(a.S.Actions,{children:c}):null,t?(0,i.jsx)(a.S.Watermark,{}):null]}):null]})}},78584:(e,r,n)=>{n.d(r,{N:()=>a});var i=n(95155),o=n(16873);let a=({size:e,centerIcon:r})=>(0,i.jsx)(t,{$size:e,children:(0,i.jsxs)(s,{children:[(0,i.jsx)(c,{}),(0,i.jsx)(d,{}),r?(0,i.jsx)(l,{children:r}):null]})}),t=o.I4.div.withConfig({displayName:"LoadingContainer",componentId:"sc-ebc93df8-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],e=>e.$size?e.$size:"96px"),s=o.I4.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-ebc93df8-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),l=o.I4.div.withConfig({displayName:"CenterIconContainer",componentId:"sc-ebc93df8-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;svg,img{width:calc(var(--spinner-size) * 0.4);height:calc(var(--spinner-size) * 0.4);border-radius:var(--privy-border-radius-full);}"]),c=o.I4.div.withConfig({displayName:"CircleFixed",componentId:"sc-ebc93df8-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),d=o.I4.div.withConfig({displayName:"CircleRotate",componentId:"sc-ebc93df8-4"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"])}}]);