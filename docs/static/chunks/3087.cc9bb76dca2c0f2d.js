"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3087],{14826:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(12115);let i=a.forwardRef(function(e,n){let{title:t,titleId:i,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},r),t?a.createElement("title",{id:i},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},82985:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(12115);let i=a.forwardRef(function(e,n){let{title:t,titleId:i,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},r),t?a.createElement("title",{id:i},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))})},46655:(e,n,t)=>{t.d(n,{u:()=>i});var a=t(72486);function i(e){let n=e.filter(e=>!a.o.has(e.id));return a.m.concat(n)}},88338:(e,n,t)=>{t.d(n,{NJ:()=>o,vj:()=>s,vz:()=>r});var a=t(69595),i=t(89888);function r(e){return e?`${e.slice(0,5)}…${e.slice(-4)}`:""}function s({wei:e,precision:n=3}){return parseFloat((0,a.c)(e)).toFixed(n).replace(/0+$/,"").replace(/\.$/,"")}function o({amount:e,decimals:n}){return(0,i.J)(BigInt(e),n)}},93087:(e,n,t)=>{t.r(n),t.d(n,{FundSolWalletWithExternalSolanaWallet:()=>eN,default:()=>eN});var a=t(95155),i=t(14826),r=t(12115),s=t(88338),o=t(93659),l=t(59242),c=t(40639),d=t(86777),u=t(25202),p=t(39870),g=t(78584),h=t(32598),f=t(64061),m=t(81084),w=t(31679),y=t(5944),v=t(41164),b=t(62641),A=t(87918),S=t(82088),x=t(41102),I=t(32789),C=t(45687),T=t(38856),E=t(29761),P=t(72975);let F=()=>{let{walletProxy:e,client:n}=(0,w.u)();return(0,r.useMemo)(()=>({signWithUserSigner:async({message:t,targetAppId:a})=>{if(!e)throw Error("Wallet proxy not initialized");let i=await n.getAccessToken();if(!i)throw Error("User must be authenticated");let{signature:r}=await e.signWithUserSigner({accessToken:i,message:t,targetAppId:a});return{signature:r}}}),[e,n])};var j=t(84739),N=t(11139);let U=["solana:mainnet","solana:devnet","solana:testnet"];function O(e,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw TypeError("attempted to use private field on non-instance");return e}var k=0,M="__private_"+k+++"__implementation";function _(e,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw TypeError("attempted to use private field on non-instance");return e}var W=0;function D(e){return"__private_"+W+++"_"+e}var L=D("_address"),B=D("_publicKey"),R=D("_chains"),z=D("_features"),V=D("_label"),H=D("_icon");class G{get address(){return _(this,L)[L]}get publicKey(){return _(this,B)[B].slice()}get chains(){return _(this,R)[R].slice()}get features(){return _(this,z)[z].slice()}get label(){return _(this,V)[V]}get icon(){return _(this,H)[H]}constructor({address:e,publicKey:n,label:t,icon:a}){Object.defineProperty(this,L,{writable:!0,value:void 0}),Object.defineProperty(this,B,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:void 0}),Object.defineProperty(this,V,{writable:!0,value:void 0}),Object.defineProperty(this,H,{writable:!0,value:void 0}),_(this,L)[L]=e,_(this,B)[B]=n,_(this,R)[R]=U,_(this,V)[V]=t,_(this,H)[H]=a,_(this,z)[z]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],new.target===G&&Object.freeze(this)}}function $(e,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw TypeError("attempted to use private field on non-instance");return e}var J=0;function Z(e){return"__private_"+J+++"_"+e}var Q=Z("_listeners"),Y=Z("_version"),K=Z("_name"),q=Z("_icon"),X=Z("_injection"),ee=Z("_isPrivyWallet"),en=Z("_accounts"),et=Z("_on"),ea=Z("_emit"),ei=Z("_off"),er=Z("_connected"),es=Z("_connect"),eo=Z("_disconnect"),el=Z("_signMessage"),ec=Z("_signAndSendTransaction"),ed=Z("_signTransaction");function eu(e,...n){$(this,Q)[Q][e]?.forEach(e=>e.apply(null,n))}function ep(e,n){$(this,Q)[Q][e]=$(this,Q)[Q][e]?.filter(e=>n!==e)}function eg(){let{isHeadlessSigning:e,walletProxy:n,initializeWalletProxy:t,recoverEmbeddedWallet:a,openModal:i,privy:r,client:s}=(0,w.u)(),{user:o}=(0,C.u)(),{setModalData:l}=(0,y.a)(),{signWithUserSigner:c}=F();return{signMessage:({message:d,address:u,options:p})=>new Promise(async(g,h)=>{let f=(0,y.h)(o,u);if("privy"!==f?.walletClientType)return void h(new w.a("Wallet is not a Privy wallet",void 0,w.b.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:m,entropyIdVerifier:v}=(0,T.g)(o,f),b=(0,y.d)(f),A=(0,N.b)(d).toString("base64");if(A.length<1)return void h(new w.a("Message must be a non-empty string",void 0,w.b.INVALID_MESSAGE));let x=async()=>{let e;if(!o)throw Error("User must be authenticated before signing with a Privy wallet");let i=await s.getAccessToken();if(!i)throw Error("User must be authenticated to use their embedded wallet.");let l=n??await t(15e3);if(!l)throw Error("Failed to initialize embedded wallet proxy.");if(!await a({address:f.address}))throw Error("Unable to connect to wallet");if(b){let n=await (0,S._)(r,c,{chain_type:"solana",method:"signMessage",params:{message:A,encoding:"base64"},wallet_id:f.id});if(!n.data||!("signature"in n.data))throw Error("Failed to sign message");e=n.data.signature}else{let{response:n}=await l.rpc({accessToken:i,entropyId:m,entropyIdVerifier:v,chainType:"solana",hdWalletIndex:f.walletIndex??0,requesterAppId:p?.uiOptions?.requesterAppId,request:{method:"signMessage",params:{message:A}}});e=n.data.signature}return e};if(e({showWalletUIs:p?.uiOptions?.showWalletUIs}))try{let e=await x(),n=new Uint8Array((0,N.b)(e,"base64"));g({signature:n})}catch(e){h(e)}else l({signMessage:{method:"solana_signMessage",data:A,confirmAndSign:x,onSuccess:e=>{g({signature:new Uint8Array((0,N.b)(e,"base64"))})},onFailure:e=>{h(e)},uiOptions:p?.uiOptions??{}},connectWallet:{recoveryMethod:f.recoveryMethod,connectingWalletAddress:f.address,entropyId:m,entropyIdVerifier:v,isUnifiedWallet:b,onCompleteNavigateTo:"SignRequestScreen",onFailure:e=>{h(new w.a("Failed to connect to wallet",e,w.b.UNKNOWN_CONNECT_WALLET_ERROR))}}}),i("EmbeddedWalletConnectingScreen")})}}function eh(){let{isHeadlessSigning:e,openModal:n}=(0,w.u)(),{setModalData:t}=(0,y.a)(),{signMessage:a}=eg(),{user:i}=(0,C.u)();return{signTransaction:async({transaction:r,options:s,chain:o="solana:mainnet",address:l})=>{async function c(e){let n,t,{signature:i}=await a({message:(0,N.a)(e),address:l,options:{...s,uiOptions:{...s?.uiOptions,showWalletUIs:!1}}});return{signedTransaction:(n=structuredClone((0,b.BX)().decode(e)),(t=(0,A.hl)(l))in n.signatures&&(n.signatures[t]=i),new Uint8Array((0,b.l9)().encode(n)))}}return e({showWalletUIs:s?.uiOptions?.showWalletUIs})?c(r):new Promise(async(e,a)=>{let d=(0,y.h)(i,l);if("privy"!==d?.walletClientType)return void a(new w.a("Wallet is not a Privy wallet",void 0,w.b.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:u,entropyIdVerifier:p}=(0,T.g)(i,d),g=(0,y.d)(d);function h(e){return n=>{a(n instanceof w.a?n:new w.a("Failed to connect to wallet",n,e))}}let f={account:d,transaction:r,chain:o,signOnly:!0,uiOptions:s?.uiOptions||{},onConfirm:c,onSuccess:e,onFailure:h(w.b.TRANSACTION_FAILURE)};t({connectWallet:{recoveryMethod:d.recoveryMethod,connectingWalletAddress:d.address,entropyId:u,entropyIdVerifier:p,isUnifiedWallet:g,onCompleteNavigateTo:"StandardSignAndSendTransactionScreen",onFailure:h(w.b.UNKNOWN_CONNECT_WALLET_ERROR)},standardSignAndSendTransaction:f}),n("EmbeddedWalletConnectingScreen")})}}}let ef=new class extends E.A{setImplementation(e){O(this,M)[M]=e}async signMessage(e){return O(this,M)[M].signMessage(e)}async signAndSendTransaction(e){return O(this,M)[M].signAndSendTransaction(e)}async signTransaction(e){return O(this,M)[M].signTransaction(e)}constructor(e){super(),Object.defineProperty(this,M,{writable:!0,value:void 0}),O(this,M)[M]=e}}({signTransaction:(0,w.k)("signTransaction was not injected"),signAndSendTransaction:(0,w.k)("signAndSendTransaction was not injected"),signMessage:(0,w.k)("signMessage was not injected")}),em=new class{get version(){return $(this,Y)[Y]}get name(){return $(this,K)[K]}get icon(){return $(this,q)[q]}get chains(){return U.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:$(this,es)[es]},"standard:disconnect":{version:"1.0.0",disconnect:$(this,eo)[eo]},"standard:events":{version:"1.0.0",on:$(this,et)[et]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:$(this,ec)[ec]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:$(this,ed)[ed]},"solana:signMessage":{version:"1.0.0",signMessage:$(this,el)[el]},"privy:":{privy:{signMessage:$(this,X)[X].signMessage,signTransaction:$(this,X)[X].signTransaction,signAndSendTransaction:$(this,X)[X].signAndSendTransaction}}}}get accounts(){return $(this,en)[en].slice()}get isPrivyWallet(){return $(this,ee)[ee]}constructor({name:e,icon:n,version:t,injection:a,wallets:i}){Object.defineProperty(this,ea,{value:eu}),Object.defineProperty(this,ei,{value:ep}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object.defineProperty(this,K,{writable:!0,value:void 0}),Object.defineProperty(this,q,{writable:!0,value:void 0}),Object.defineProperty(this,X,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:void 0}),Object.defineProperty(this,en,{writable:!0,value:void 0}),Object.defineProperty(this,et,{writable:!0,value:void 0}),Object.defineProperty(this,er,{writable:!0,value:void 0}),Object.defineProperty(this,es,{writable:!0,value:void 0}),Object.defineProperty(this,eo,{writable:!0,value:void 0}),Object.defineProperty(this,el,{writable:!0,value:void 0}),Object.defineProperty(this,ec,{writable:!0,value:void 0}),Object.defineProperty(this,ed,{writable:!0,value:void 0}),$(this,Q)[Q]={},$(this,et)[et]=(e,n)=>($(this,Q)[Q][e]?.push(n)||($(this,Q)[Q][e]=[n]),()=>$(this,ei)[ei](e,n)),$(this,er)[er]=e=>{null!=e&&($(this,en)[en]=e.map(({address:e})=>new G({address:e,publicKey:P.tw.decode(e)}))),$(this,ea)[ea]("change",{accounts:this.accounts})},$(this,es)[es]=async()=>($(this,ea)[ea]("change",{accounts:this.accounts}),{accounts:this.accounts}),$(this,eo)[eo]=async()=>{$(this,ea)[ea]("change",{accounts:this.accounts})},$(this,el)[el]=async(...e)=>{let n=[];for(let{account:t,...a}of e){let{signature:e}=await $(this,X)[X].signMessage({...a,address:t.address});n.push({signedMessage:a.message,signature:e})}return n},$(this,ec)[ec]=async(...e)=>{let n=[];for(let t of e){let{signature:e}=await $(this,X)[X].signAndSendTransaction({...t,transaction:t.transaction,address:t.account.address,chain:t.chain||"solana:mainnet",options:t.options});n.push({signature:e})}return n},$(this,ed)[ed]=async(...e)=>{let n=[];for(let{transaction:t,account:a,options:i,chain:r}of e){let{signedTransaction:e}=await $(this,X)[X].signTransaction({transaction:t,address:a.address,chain:r||"solana:mainnet",options:i});n.push({signedTransaction:e})}return n},$(this,K)[K]=e,$(this,q)[q]=n,$(this,Y)[Y]=t,$(this,X)[X]=a,$(this,en)[en]=[],$(this,ee)[ee]=!0,a.on("accountChanged",$(this,er)[er],this),$(this,er)[er](i)}}({name:"Privy",version:"1.0.0",icon:"data:image/png;base64,AAABAAEAFBQAAAAAIABlAQAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAUAAAAFAgGAAAAjYkdDQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAQVJREFUeJxiYMANZIC4E4ivAPFPIP4FxDeAuB+IlfDowwBMQFwJxF+B+D8O/AOI66Bq8QJGIF6ExyB0vAqImfEZmEeCYTDcgMswPiB+T4aB34FYApuBsWQYBsP52AycToGBK7EZuJECAw9jM3AVBQbuwWZgIwUGTsZmoDkFBnpiMxAEjpJh2FV8iVsbiD+TYBgoDVrgMgwGnID4HRGGgTKBGyHDYEAaiBdCSxh0g/5AU4Q8sYYhAzEgjoGmABBOgFo2eACowFABYn0oVgViAVINkQTiZUD8DIj/ATF6GILEXgLxCiCWIsZAbiAuBeKtQHwHiEHJ6C8UfwHie0C8E4jLoWpRAAAAAP//rcbhsQAAAAZJREFUAwBYFs3VKJ0cuQAAAABJRU5ErkJggg==",wallets:[],injection:ef});var ew=t(45409),ey=t(67526),ev=t(69989),eb=t(55579),eA=t(12685),eS=t(93359),ex=t(8117),eI=t(26214),eC=t(48129);function eT({rows:e}){return(0,a.jsx)(f.a,{children:e.filter(e=>!!e).map((e,n)=>null!=e.value||e.isLoading?(0,a.jsxs)(f.R,{children:[(0,a.jsx)(h.L,{children:e.label}),(0,a.jsx)(h.V,{$isLoading:e.isLoading,children:e.value})]},n):null)})}function eE(e){return BigInt(Math.floor(1e9*parseFloat(e)))}function eP(e){return+eF.format(parseFloat(e.toString())/1e9)}t(47147),t(68943);let eF=Intl.NumberFormat(void 0,{maximumFractionDigits:8});async function ej({tx:e,solanaClient:n,amount:t,asset:a,tokenPrice:i}){if(!e)return null;if("SOL"===a&&i){let a=eE(t),r=(0,ex.g)(a,i),s=await (0,N.f)({solanaClient:n,tx:e});return{amountInUsd:r,feeInUsd:i?(0,ex.g)(s,i):void 0,totalInUsd:(0,ex.g)(a+s,i)}}if("USDC"===a&&i){let a;let r="$"+t,s=await (0,N.f)({solanaClient:n,tx:e}),o=(a=parseFloat(s.toString())/ex.L*i)<.01?0:a;return{amountInUsd:r,feeInUsd:(0,ex.g)(s,i),totalInUsd:"$"+(parseFloat(t)+o).toFixed(2)}}if("SOL"===a){let a=eE(t),i=await (0,N.f)({solanaClient:n,tx:e});return{amountInSol:t+" SOL",feeInSol:eP(i)+" SOL",totalInSol:eP(a+i)+" SOL"}}return{amountInUsdc:t+" USDC",feeInSol:eP(await (0,N.f)({solanaClient:n,tx:e}))+" SOL"}}let eN={component:function(){let e=(0,m.u)(),{closePrivyModal:n,createAnalyticsEvent:t}=(0,w.u)(),{data:h,setModalData:f,navigate:A}=(0,y.a)(),{wallets:E}=function(){let{ready:e,wallets:n}=function(){let{client:e}=(0,w.u)(),{ready:n,wallet:t}=function(){let{ready:e}=(0,T.u)(),{user:n}=(0,C.u)(),{signMessage:t}=eg(),{signTransaction:a}=eh(),{signAndSendTransaction:i}=function(){let e=(0,m.u)(),{isHeadlessSigning:n,openModal:t}=(0,w.u)(),{setModalData:a}=(0,y.a)(),{signTransaction:i}=eh(),r=(0,N.u)(),{user:s}=(0,C.u)(),{signWithUserSigner:o}=F();return{signAndSendTransaction:async({transaction:l,address:c,chain:d="solana:mainnet",options:u})=>{let p=(0,y.h)(s,c);if("privy"!==p?.walletClientType)throw new w.a("Wallet is not a Privy wallet",void 0,w.b.EMBEDDED_WALLET_NOT_FOUND);let g=(0,y.d)(p);async function h(n){if(u?.sponsor)return await (async n=>{if(!g)throw new w.a("Sponsoring transactions is only supported for wallets on the TEE stack",w.b.INVALID_DATA);let t=new x.A({appId:e.id,clientId:e.appClientId,storage:j.u}),a=await (0,S._)(t,o,{chain_type:"solana",method:"signAndSendTransaction",sponsor:!0,params:{transaction:(0,N.b)(n).toString("base64"),encoding:"base64"},caip2:`solana:${(await r(d).rpc.getGenesisHash().send()).substring(0,32)}`,wallet_id:p.id});if(a.data&&"hash"in a.data)return{signature:P.tw.decode(a.data.hash)};throw Error("Failed to sign and send transaction")})(n);let{signedTransaction:t}=await i({transaction:n,address:c,chain:d,options:{...u,uiOptions:{...u?.uiOptions,showWalletUIs:!1}}}),{signature:a}=await r(d).sendAndConfirmTransaction(t);return{signature:a}}return n({showWalletUIs:u?.uiOptions?.showWalletUIs})?h(l):new Promise(async(n,i)=>{let r,o,{entropyId:f,entropyIdVerifier:m}=(0,T.g)(s,p);function y(e){return n=>{i(n instanceof w.a?n:new w.a("Failed to connect to wallet",n,e))}}let v={account:p,transaction:l,chain:d,signOnly:!1,uiOptions:u?.uiOptions||{},onConfirm:h,onSuccess:n,onFailure:y(w.b.TRANSACTION_FAILURE),isSponsored:!!u?.sponsor},b={recoveryMethod:p.recoveryMethod,connectingWalletAddress:p.address,entropyId:f,entropyIdVerifier:m,isUnifiedWallet:g,onCompleteNavigateTo:"StandardSignAndSendTransactionScreen",onFailure:y(w.b.UNKNOWN_CONNECT_WALLET_ERROR)};e.fundingConfig&&(r=(0,j.g)({address:c,appConfig:e,methodScreen:"FundingMethodSelectionScreen",fundWalletConfig:{...u,asset:"native-currency",chain:d},externalSolanaFundingScreen:"FundSolWalletWithExternalSolanaWallet"}),o={amount:e.fundingConfig.defaultRecommendedAmount,asset:"SOL",chain:d,destinationAddress:c,afterSuccessScreen:"StandardSignAndSendTransactionScreen",sourceWalletData:void 0}),a({connectWallet:b,standardSignAndSendTransaction:v,funding:r,solanaFundingData:o}),t("EmbeddedWalletConnectingScreen")})}}}(),s=(0,r.useMemo)(()=>{let e=[...(0,y.o)(n).sort((e,n)=>(e.walletIndex??0)-(n.walletIndex??0))],t=(0,y.j)(n);return t.length?[...e,...t]:e},[n]),o=(0,r.useMemo)(()=>({signMessage:async({message:e,address:n,options:a})=>await t({message:e,address:n,options:a}),signTransaction:async({transaction:e,address:n,chain:t,options:i})=>await a({transaction:e,address:n,chain:t,options:i}),async signAndSendTransaction({transaction:e,address:n,chain:t,options:a}){let{signature:r}=await i({transaction:e,address:n,chain:t,options:a});return{signature:r}}}),[t,a,i]);return(0,r.useEffect)(()=>{ef?.setImplementation(o)},[o]),(0,r.useEffect)(()=>{var n;!e||(n=em.accounts).length===s.length&&n.every((e,n)=>e.address===s[n]?.address)||ef?.emit("accountChanged",s)},[e,s]),{ready:e,wallet:em}}(),[a,i]=(0,r.useState)([]),[s,o]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let e=[t,...a.filter(e=>"solana"===e.chainType&&!!e.wallet.features).map(e=>e.wallet)];o(e);let n=a.flatMap(n=>{let t=()=>o([...e]);return n.on("walletsUpdated",t),{connector:n,off:t}}),i=e.map(n=>n.features["standard:events"]?.on("change",()=>{o([...e])}));return()=>{i.forEach(e=>e?.()),n.forEach(({connector:e,off:n})=>e.off("walletsUpdated",n))}},[a]),(0,r.useEffect)(()=>{i(e.connectors?.walletConnectors.filter(e=>"solana"===e.chainType)??[]);let n=()=>{i(e.connectors?.walletConnectors.filter(e=>"solana"===e.chainType)??[])};return e.connectors?.on("connectorInitialized",n),()=>{e.connectors?.off("connectorInitialized",n)}},[n,e.connectors]),{ready:n,wallets:s}}();return{ready:e,wallets:(0,r.useMemo)(()=>n.flatMap(e=>e.accounts.map(n=>new I.W({wallet:e,account:n}))),[n])}}(),[U,O]=(0,r.useState)("preparing"),[k,M]=(0,r.useState)(),[_,W]=(0,r.useState)(),[D,L]=(0,r.useState)();if(!h?.solanaFundingData)throw Error("Funding config is missing");if(!h.solanaFundingData.sourceWalletData)throw Error("Funding config is missing source wallet data");let{amount:B,asset:R,chain:z,sourceWalletData:V,destinationAddress:H,afterSuccessScreen:G}=h.solanaFundingData,$=E.find(e=>e.address===V.address&&(0,j.t)(V.walletClientType)===(0,j.t)(e.standardWallet.name)),J=(0,N.u)()(z),{tokenPrice:Z,isTokenPriceLoading:Q}=(0,ew.u)("solana");return(0,r.useEffect)(()=>{if("preparing"!==U||Q||!$)return;let e="SOL"===R?eE(B):BigInt(Math.floor(1e6*parseFloat(B)));W({amount:("SOL"===R&&Z?(0,ex.g)(e,Z):B)??B}),("SOL"===R?async function({solanaClient:e,source:n,destination:t,amountInLamports:a}){let{value:i}=await e.rpc.getLatestBlockhash().send(),r={address:n},s=(0,ev.F)((0,eb.mN)({version:0}),e=>(0,eA.pt)(r,e),e=>(0,eb.S$)(i,e),e=>(0,eb.az)(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];throw Error("Solana transfer is not supported in this web build.")}({amount:a,source:r,destination:t}),e),e=>(0,b.i5)(e));return new Uint8Array((0,b.l9)().encode(s))}({solanaClient:J,source:$.address,destination:H,amountInLamports:e}):async function({solanaClient:e,source:n,destination:t,amountInBaseUnits:a}){let i=(0,eI.g)(e.chain),{value:r}=await e.rpc.getLatestBlockhash().send(),s={address:n},[o]=await (0,eS._mM)({mint:i,owner:n,tokenProgram:ex.T}),[l]=await (0,eS._mM)({mint:i,owner:t,tokenProgram:ex.T}),[c,d]=await Promise.all([e.rpc.getAccountInfo(o,{commitment:"confirmed",encoding:"jsonParsed"}).send().catch(()=>null),e.rpc.getAccountInfo(l,{commitment:"confirmed",encoding:"jsonParsed"}).send().catch(()=>null)]);if(!c?.value)throw Error(`Source token account does not exist for address: ${n}`);let u=(0,eS.PUP)({payer:s,ata:l,owner:t,mint:i}),p=(0,ev.F)((0,eb.mN)({version:0}),e=>(0,eA.pt)(s,e),e=>(0,eb.S$)(r,e),e=>d?.value?e:(0,eb.az)(u,e),e=>(0,eb.az)((0,eS.Q7D)({source:o,destination:l,authority:s,amount:a}),e),e=>(0,b.i5)(e));return new Uint8Array((0,b.l9)().encode(p))}({solanaClient:J,source:$.address,destination:H,amountInBaseUnits:e})).then(M).catch(e=>{O("error"),L(e)})},[U,B,R,z,$,H,Q,Z]),(0,r.useEffect)(()=>{"preparing"===U&&k&&ej({tx:k,solanaClient:J,amount:B,asset:R,tokenPrice:Z}).then(e=>{O("loaded"),W({amount:e?.amountInUsd??e?.amountInUsdc??e?.amountInSol??B,fee:e?.feeInUsd??e?.feeInSol,total:e?.totalInUsd??e?.totalInSol})}).catch(e=>{O("error"),L(e)})},[k,B,R,U,Z]),(0,r.useEffect)(()=>{"error"===U&&D&&(f({errorModalData:{error:D,previousScreen:"FundSolWalletWithExternalSolanaWallet"},solanaFundingData:h.solanaFundingData}),A("ErrorScreen",!1))},[U,A]),(0,r.useEffect)(()=>{if("success"!==U)return;let e=setTimeout(G?()=>A(G):n,m.t);return()=>clearTimeout(e)},[U]),(0,a.jsxs)(a.Fragment,"success"===U?{children:[(0,a.jsx)(u.t,{}),(0,a.jsx)(l.b,{}),(0,a.jsxs)(l.c,{children:[(0,a.jsx)(i.A,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,a.jsx)(d.C,{title:"Success!",description:`You’ve successfully added ${B} ${R} to your ${e.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,a.jsx)(l.R,{}),(0,a.jsx)(c.B,{})]}:"preparing"===U||"loaded"===U||"sending"===U?{children:[(0,a.jsx)(u.t,{}),(0,a.jsx)(l.e,{style:{marginTop:"16px"},children:(0,a.jsx)(p.I,{icon:$?.standardWallet.icon,name:$?.standardWallet.name})}),(0,a.jsx)(d.C,{style:{marginTop:"8px",marginBottom:"12px"},title:"sending"===U&&$?`Confirming with ${$.standardWallet.name}`:"Confirm transaction"}),(0,a.jsx)(eT,{rows:[{label:"Source",value:(0,s.vz)(V.address)},{label:"Destination",value:(0,s.vz)(H)},{label:"Network",value:(0,eC.g)(z)},{label:"Amount",value:_?.amount,isLoading:"preparing"===U},{label:"Estimated fee",value:_?.fee,isLoading:"preparing"===U},{label:"Total",value:_?.total,isLoading:"preparing"===U}]}),(0,a.jsx)(o.P,{style:{marginTop:"1rem"},loading:"preparing"===U||"sending"===U,onClick:function(){"loaded"===U&&k&&$&&(O("sending"),(async function({transaction:e,chain:n,sourceWallet:t,solanaClient:a}){var i;let{hasFunds:r}=await (0,N.s)({solanaClient:a,tx:e});if(!r)throw new w.a(`Wallet ${(0,s.vz)(t.address)} does not have enough funds.`,void 0,w.b.INSUFFICIENT_BALANCE);let o=(i=(await t.signAndSendTransaction({transaction:e,chain:n}).catch(e=>{throw new w.a("Transaction was rejected by the user",e,w.b.TRANSACTION_FAILURE)})).signature,(0,v.BC)().decode(i));return await (0,N.w)({rpcSubscriptions:a.rpcSubscriptions,signature:o,timeout:2e4}),o})({solanaClient:J,transaction:k,chain:z,sourceWallet:$}).then(e=>{O("success"),t({eventName:ey.O,payload:{provider:"external",status:"success",txHash:e,address:$.address,value:B,chainType:"solana",clusterName:z,token:R,destinationAddress:H,destinationValue:B,destinationChainType:"solana",destinationClusterName:z,destinationToken:R}})}).catch(e=>{O("error"),L(e)}))},children:"Confirm"}),(0,a.jsx)(c.B,{})]}:{children:[(0,a.jsx)(u.t,{}),(0,a.jsx)(g.N,{}),(0,a.jsx)("div",{style:{marginTop:"1rem"}}),(0,a.jsx)(c.B,{})]})}}},25202:(e,n,t)=>{t.d(n,{t:()=>s});var a=t(95155),i=t(5944),r=t(40639);function s({title:e}){let{currentScreen:n,navigateBack:t,navigate:s,data:o,setModalData:l}=(0,i.a)();return(0,a.jsx)(r.M,{title:e,backFn:"ManualTransferScreen"===n?t:n===o?.funding?.methodScreen?o.funding.comingFromSendTransactionScreen?()=>s("SendTransactionScreen"):void 0:o?.funding?.methodScreen?()=>{let e=o.funding;e.usingDefaultFundingMethod&&(e.usingDefaultFundingMethod=!1),l({funding:e,solanaFundingData:o?.solanaFundingData}),s(e.methodScreen)}:void 0})}},39870:(e,n,t)=>{t.d(n,{I:()=>r});var a=t(95155),i=t(82985);let r=({icon:e,name:n})=>"string"==typeof e?(0,a.jsx)("img",{alt:`${n||"wallet"} logo`,src:e,style:{height:24,width:24,borderRadius:4}}):void 0===e?(0,a.jsx)(i.A,{style:{height:24,width:24}}):e?(0,a.jsx)(e,{style:{height:24,width:24}}):null},59242:(e,n,t)=>{t.d(n,{B:()=>i,C:()=>o,F:()=>c,H:()=>s,R:()=>g,S:()=>u,a:()=>d,b:()=>p,c:()=>l,d:()=>h,e:()=>r});var a=t(16873);let i=a.I4.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),r=a.I4.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),s=a.I4.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),o=(0,a.I4)(r).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),l=(0,a.I4)(r).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),c=a.I4.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),d=a.I4.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),u=a.I4.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),p=a.I4.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),g=a.I4.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),h=a.I4.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],e=>e.height??"12")},4111:(e,n,t)=>{t.d(n,{L:()=>r});var a=t(16873);let i=(0,a.i7)(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]),r=(0,a.AH)(["",""],e=>e.$isLoading?(0,a.AH)(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],i):"")},64061:(e,n,t)=>{t.d(n,{R:()=>r,a:()=>i});var a=t(16873);let i=a.I4.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),r=a.I4.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"])},86777:(e,n,t)=>{t.d(n,{C:()=>s,S:()=>r});var a=t(95155),i=t(16873);let r=({title:e,description:n,children:t,...i})=>(0,a.jsx)(o,{...i,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:e}),"string"==typeof n?(0,a.jsx)("p",{children:n}):n,t]})}),s=({title:e,description:n,icon:t,children:i,...r})=>(0,a.jsxs)(l,{...r,children:[t||null,(0,a.jsx)("h3",{children:e}),n&&"string"==typeof n?(0,a.jsx)("p",{children:n}):n,i]}),o=i.I4.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),l=(0,i.I4)(o).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"])},32598:(e,n,t)=>{t.d(n,{L:()=>r,V:()=>o,a:()=>s});var a=t(16873),i=t(4111);let r=a.I4.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),s=(0,a.I4)(r).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),o=a.I4.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],i.L)},67526:(e,n,t)=>{t.d(n,{O:()=>a});let a="sdk_fiat_on_ramp_completed_with_status"},48129:(e,n,t)=>{t.d(n,{g:()=>a});function a(e){switch(e){case"solana:mainnet":return"Solana";case"solana:devnet":return"Devnet";case"solana:testnet":return"Testnet"}}},8117:(e,n,t)=>{t.d(n,{A:()=>o,D:()=>d,J:()=>c,L:()=>a,R:()=>l,S:()=>i,T:()=>r,a:()=>s,g:()=>u});let a=1e9,i="11111111111111111111111111111111",r="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",s="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",o="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",l=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],c=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"],d={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function u(e,n){let t=parseFloat(e.toString())/a,i=p.format(n*t);return"$0.00"===i?"<$0.01":i}let p=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2})},26214:(e,n,t)=>{t.d(n,{g:()=>i});var a=t(8117);function i(e){let[n]=Object.entries(a.D[e]).find(([e,n])=>"USDC"===n.symbol)??[];return n}},78584:(e,n,t)=>{t.d(n,{N:()=>r});var a=t(95155),i=t(16873);let r=({size:e,centerIcon:n})=>(0,a.jsx)(s,{$size:e,children:(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{}),(0,a.jsx)(d,{}),n?(0,a.jsx)(l,{children:n}):null]})}),s=i.I4.div.withConfig({displayName:"LoadingContainer",componentId:"sc-ebc93df8-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],e=>e.$size?e.$size:"96px"),o=i.I4.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-ebc93df8-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),l=i.I4.div.withConfig({displayName:"CenterIconContainer",componentId:"sc-ebc93df8-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;svg,img{width:calc(var(--spinner-size) * 0.4);height:calc(var(--spinner-size) * 0.4);border-radius:var(--privy-border-radius-full);}"]),c=i.I4.div.withConfig({displayName:"CircleFixed",componentId:"sc-ebc93df8-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),d=i.I4.div.withConfig({displayName:"CircleRotate",componentId:"sc-ebc93df8-4"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"])},58548:(e,n,t)=>{t.d(n,{u:()=>r});var a=t(12115),i=t(31679);let r=({enabled:e=!0}={})=>{let{showFiatPrices:n,getUsdPriceForSol:t}=(0,i.u)(),[r,s]=(0,a.useState)(!0),[o,l]=(0,a.useState)(void 0),[c,d]=(0,a.useState)(void 0);return(0,a.useEffect)(()=>{(async()=>{if(n&&e)try{s(!0);let e=await t();e?d(e):l(Error("Unable to fetch SOL price"))}catch(e){l(e)}finally{s(!1)}else s(!1)})()},[]),{solPrice:c,isSolPriceLoading:r,solPriceError:o}}},45409:(e,n,t)=>{t.d(n,{u:()=>l});var a=t(12115),i=t(46655),r=t(81084),s=t(31679),o=t(58548);function l(e){let{tokenPrice:n,isTokenPriceLoading:t,tokenPriceError:l}=(e=>{let{showFiatPrices:n,getUsdTokenPrice:t,chains:o}=(0,s.u)(),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(void 0),[p,g]=(0,a.useState)(void 0);return(0,a.useEffect)(()=>{e||=r.s;let a=(0,i.u)(o).find(n=>n.id===Number(e));(async()=>{if(n){if(!a)return c(!1),void u(Error(`Unable to fetch token price on chain id ${e}`));try{c(!0);let e=await t(a);e?g(e):u(Error(`Unable to fetch token price on chain id ${a.id}`))}catch(e){u(e)}finally{c(!1)}}else c(!1)})()},[e]),{tokenPrice:p,isTokenPriceLoading:l,tokenPriceError:d}})("solana"===e?-1:e),{solPrice:c,isSolPriceLoading:d,solPriceError:u}=(0,o.u)({enabled:"solana"===e});return"solana"===e?{tokenPrice:c,isTokenPriceLoading:d,tokenPriceError:u}:{tokenPrice:n,isTokenPriceLoading:t,tokenPriceError:l}}},11139:(e,n,t)=>{t.d(n,{a:()=>c,b:()=>p,f:()=>d,s:()=>u,u:()=>h,w:()=>g});var a=t(62641),i=t(41164),r=t(12115),s=t(81084),o=t(31679),l=t(75927).hp;function c(e){return new Uint8Array((0,a.BX)().decode(e).messageBytes)}async function d({solanaClient:e,tx:n}){let t=(0,i.Ul)().decode(c(n)),{value:a}=await e.rpc.getFeeForMessage(t).send();return a??0n}async function u({solanaClient:e,tx:n,replaceRecentBlockhash:t}){let{value:a}=await e.rpc.simulateTransaction((0,i.Ul)().decode(n),{commitment:"confirmed",encoding:"base64",sigVerify:!1,replaceRecentBlockhash:t}).send();if("BlockhashNotFound"===a.err&&t)throw Error("Simulation failed: Blockhash not found");return"BlockhashNotFound"===a.err?await u({solanaClient:e,tx:n,replaceRecentBlockhash:!0}):{logs:a.logs??[],error:a.err,hasError:!!a.err,hasFunds:a.logs?.every(e=>!/insufficient funds/gi.test(e)&&!/insufficient lamports/gi.test(e))??!0}}let p=(...e)=>{if(void 0===l)throw new o.a("Buffer is not defined.",void 0,o.b.BUFFER_NOT_DEFINED);return l.from(...e)};async function g({rpcSubscriptions:e,signature:n,timeout:t}){let a=new AbortController,i=await e.signatureNotifications(n,{commitment:"confirmed"}).subscribe({abortSignal:a.signal}),r=await Promise.race([new Promise(e=>{setTimeout(()=>{a.abort(),e(Error("Transaction confirmation timed out"))},t)}),new Promise(async e=>{for await(let n of i){if(a.abort(),n.value.err)return e(Error("Transaction confirmation failed"));e(void 0)}})]);if(r instanceof Error)throw r}function h(){let e=(0,s.u)(),n=(0,r.useMemo)(()=>Object.fromEntries(["solana:mainnet","solana:devnet","solana:testnet"].map(n=>[n,e.solanaRpcs[n]?function({rpc:e,rpcSubscriptions:n,chain:t,blockExplorerUrl:a}){let r=function({rpc:e,rpcSubscriptions:n}){return async t=>new Promise(async(a,r)=>{try{let r=await e.sendTransaction(p(t).toString("base64"),{preflightCommitment:"confirmed",encoding:"base64"}).send();await g({rpcSubscriptions:n,signature:r,timeout:1e4}),a({signature:new Uint8Array((0,i.nZ)().encode(r))})}catch(e){r(e)}})}({rpc:e,rpcSubscriptions:n});return{rpc:e,rpcSubscriptions:n,chain:t,blockExplorerUrl:a,sendAndConfirmTransaction:r}}({chain:n,rpc:e.solanaRpcs[n].rpc,rpcSubscriptions:e.solanaRpcs[n].rpcSubscriptions,blockExplorerUrl:e.solanaRpcs[n].blockExplorerUrl??`https://explorer.solana.com?cluster=${n.replace("solana:","")}`}):null])),[e.solanaRpcs]);return(0,r.useCallback)(e=>{if(!n[e])throw Error(`No RPC configuration found for chain ${e}`);return n[e]},[n])}}}]);